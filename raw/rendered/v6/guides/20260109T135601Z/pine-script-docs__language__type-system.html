<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><script data-astro-exec="">
			const url = window.location.href;
			const expectedUrl = url.replace(
				/^https:\/\/(?!beta)(\w+\.)?tradingview\.com/,
				'https://www.tradingview.com',
			);
			if (url !== expectedUrl) {
				window.location.replace(expectedUrl);
			}
		</script><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="none"><link rel="icon" href="https://static.tradingview.com/static/images/favicon.ico"><link rel="icon" type="image/svg+xml" href="/pine-script-docs/favicon.svg"><title>Language / Type system</title><meta name="og:title" content="Language / Type system"><meta name="twitter:title" content="Language / Type system"><meta name="description" content="Everything you need to know about Pine Script®."><meta name="og:description" content="Everything you need to know about Pine Script®."><meta name="twitter:description" content="Everything you need to know about Pine Script®."><meta name="keywords" content="tradingview, pine, script, indicators, strategies"><meta name="og:image" content="/pine-script-docs/meta-image.png?1"><meta name="twitter:image" content="/pine-script-docs/meta-image.png?1"><meta name="og:image:width" content="1200"><meta name="og:image:height" content="630"><meta name="og:url" content="https://www.tradingview.com/pine-script-docs/language/type-system/"><meta name="twitter:url" content="https://www.tradingview.com/pine-script-docs/language/type-system/"><meta name="og:type" content="website"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@TradingView"><link rel="canonical" href="https://www.tradingview.com/pine-script-docs/language/type-system/"><link rel="sitemap" href="/pine-script-docs/sitemap-index.xml"><link rel="stylesheet" href="/pine-script-docs/_astro/index.DfaRTfPD.css">
<link rel="stylesheet" href="/pine-script-docs/_astro/index.B9ah8c5K.css">
<style>.tv-spinner{display:none;position:absolute;margin:0 auto;border:0 solid rgb(149 152 161 / 20%);border-radius:50%;border-top-color:var(--tv-spinner-color, #2962ff);border-left-color:var(--tv-spinner-color, #2962ff);animation:tv-spinner-container-rotate .9s linear infinite}.tv-spinner-shown{display:block}.tv-spinner-size-large{top:calc(50% - 32px);left:calc(50% - 32px);width:56px;height:56px;border-width:4px}@keyframes tv-spinner-container-rotate{to{transform:rotate(360deg)}}:root{--page-background-color: #fff;background-color:var(--page-background-color)}:root[data-theme=dark]{--page-background-color: #000}body{background-color:var(--page-background-color)}#redirect-link{display:flex;position:absolute;inset:0;align-items:center;justify-content:center}#spinner{display:block;position:absolute;opacity:1;transition:opacity .2s}
.twitter-tweet:not(.twitter-tweet-rendered){padding:var(--tc-padding, 1em);border:1px solid var(--tc-border-color, #cfd9de)}.twitter-tweet:not(.twitter-tweet-rendered)>:first-child{margin-top:0}.twitter-tweet:not(.twitter-tweet-rendered)>:last-child{margin-bottom:0}lite-youtube{background-color:#000;position:relative;display:block;contain:content;background-position:center center;background-size:cover;cursor:pointer;max-width:720px}lite-youtube:before{content:attr(data-title);display:block;position:absolute;top:0;background-image:linear-gradient(180deg,#000000ab,#0000008a 14%,#00000026 54%,#0000000d 72%,#0000 94%);height:99px;width:100%;font-family:YouTube Noto,Roboto,Arial,Helvetica,sans-serif;color:#eee;text-shadow:0 0 2px rgba(0,0,0,.5);font-size:18px;padding:25px 20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box}lite-youtube:hover:before{color:#fff}lite-youtube:after{content:"";display:block;padding-bottom:56.25%}lite-youtube>iframe{width:100%;height:100%;position:absolute;top:0;left:0;border:0}lite-youtube>.lty-playbtn{display:block;width:100%;height:100%;background:no-repeat center/68px 48px;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 48"><path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63 3.26-5.42 6.19C.06 13.05 0 24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13 27.1-1.55c2.93-.78 4.64-3.26 5.42-6.19C67.94 34.95 68 24 68 24s-.06-10.95-1.48-16.26z" fill="red"/><path d="M45 24 27 14v20" fill="white"/></svg>');position:absolute;cursor:pointer;z-index:1;filter:grayscale(100%);transition:filter .1s cubic-bezier(0,0,.2,1);border:0}lite-youtube:hover>.lty-playbtn,lite-youtube .lty-playbtn:focus{filter:none}lite-youtube.lyt-activated{cursor:unset}lite-youtube.lyt-activated:before,lite-youtube.lyt-activated>.lty-playbtn{opacity:0;pointer-events:none}.lyt-visually-hidden{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}lite-youtube>iframe{all:unset!important;width:100%!important;height:100%!important;position:absolute!important;inset:0!important;border:0!important}lite-vimeo{font-size:10px;background-color:#000;position:relative;display:block;contain:content;background-position:center center;background-size:cover}lite-vimeo:after{content:"";display:block;padding-bottom:56.25%}lite-vimeo>iframe{all:unset!important;width:100%!important;height:100%!important;position:absolute!important;inset:0!important;border:0!important}lite-vimeo>.ltv-playbtn{content:"";position:absolute;inset:0;width:100%;background:transparent;outline:0;border:0;cursor:pointer}lite-vimeo>.ltv-playbtn:before{width:6.5em;height:4em;background:#172322bf;opacity:.8;border-radius:.25rem;transition:all .2s cubic-bezier(0,0,.2,1)}lite-vimeo>.ltv-playbtn:focus:before{outline:auto}lite-vimeo:hover>.ltv-playbtn:before{background-color:#00adef;background-color:var(--ltv-color, #00adef);opacity:1}lite-vimeo>.ltv-playbtn:after{border-style:solid;border-width:1em 0 1em 1.7em;border-color:transparent transparent transparent #fff}lite-vimeo>.ltv-playbtn:before,lite-vimeo>.ltv-playbtn:after{content:"";position:absolute;top:50%;left:50%;transform:translate3d(-50%,-50%,0)}lite-vimeo.ltv-activated:before,lite-vimeo.ltv-activated>.ltv-playbtn{cursor:unset;opacity:0;pointer-events:none}
</style><script type="module" src="/pine-script-docs/_astro/hoisted.wfEHaJbk.js" data-astro-exec=""></script><style id="tv-pine-light" type="text/css" media="screen">.monaco-editor-tv-pine-light { 
.mtk1 { color: #131722; }
.mtk2 { color: #ffffff; }
.mtk3 { color: #808080; }
.mtk4 { color: #ff0000; }
.mtk5 { color: #0451a5; }
.mtk6 { color: #0000ff; }
.mtk7 { color: #098658; }
.mtk8 { color: #008000; }
.mtk9 { color: #9598a1; }
.mtk10 { color: #dd0000; }
.mtk11 { color: #cc2929; }
.mtk12 { color: #f57f17; }
.mtk13 { color: #000000; }
.mtk14 { color: #383838; }
.mtk15 { color: #0c3299; }
.mtk16 { color: #2962ff; }
.mtk17 { color: #8e24aa; }
.mtk18 { color: #22ab94; }
.mtk19 { color: #cd3131; }
.mtk20 { color: #863b00; }
.mtk21 { color: #af00db; }
.mtk22 { color: #800000; }
.mtk23 { color: #e00000; }
.mtk24 { color: #3030c0; }
.mtk25 { color: #666666; }
.mtk26 { color: #778899; }
.mtk27 { color: #c700c7; }
.mtk28 { color: #a31515; }
.mtk29 { color: #388e3c; }
.mtk30 { color: #4f76ac; }
.mtk31 { color: #008080; }
.mtk32 { color: #001188; }
.mtk33 { color: #2a2e39; }
.mtk34 { color: #4864aa; }
.mtki { font-style: italic; }
.mtkb { font-weight: bold; }
.mtku { text-decoration: underline; text-underline-position: under; }
.mtks { text-decoration: line-through; }
.mtks.mtku { text-decoration: underline line-through; text-underline-position: under; } }</style></head> <body> <div id="search-content-blur" hidden=""></div> <script data-astro-exec="">
	/* eslint-disable @typescript-eslint/typedef */
	window.ThemeProvider = (() => {
		function getCurrent() {
			return (
				// eslint-disable-next-line no-restricted-syntax
				typeof localStorage !== 'undefined' &&
				localStorage.getItem('tv-docs-theme')
			);
		}
		const storedTheme = getCurrent();
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ?
				'light'
			:	'dark');
		document.documentElement.dataset.theme =
			theme === 'light' ? 'light' : 'dark';
		document.documentElement.classList.toggle(
			'theme-dark',
			theme === 'dark',
		); // add support for ui-lib themes
		document.documentElement.classList.toggle(
			'sl-theme-dark',
			theme === 'dark',
		); // add support for shoelace themes

		return {
			updatePickers(themeArg = storedTheme || 'auto') {
				let currentTheme = themeArg;
				if (currentTheme === 'unknown') {
					currentTheme = getCurrent() || 'auto';
				}
				document
					.querySelectorAll('docs-theme-select')
					.forEach((picker) => {
						const select = picker.querySelector('select');
						if (select) select.value = currentTheme;
						/** @type {HTMLTemplateElement | null} */
						const tmpl = document.querySelector(`#theme-icons`);
						const newIcon =
							tmpl &&
							tmpl.content.querySelector('.' + currentTheme);
						if (newIcon) {
							const oldIcon =
								picker.querySelector('svg.label-icon');
							if (oldIcon) {
								oldIcon.replaceChildren(
									...newIcon.cloneNode(true).childNodes,
								);
							}
						}
					});
			},
		};
	})();
	/* eslint-enable @typescript-eslint/typedef */
</script><template id="theme-icons"><svg width="16" height="16" viewBox="0 0 28 28" class="light" data-icon="theme/sun-28">  <symbol id="ai:local:theme/sun-28"><g fill="currentColor"><path d="M14 3h1.5v5H14zm0 18h1.5v5H14zm12-5.5V14h-5v1.5zM8 14v1.5H3V14zm15.3-7-1-1-3.6 3.6 1.1 1 3.5-3.5ZM9.5 18.7l1.1 1.1-3.5 3.5-1-1zM22 23.3l1-1-3.6-3.6-1 1.1 3.5 3.5ZM10.3 9.6l-1.1 1-3.5-3.5 1-1z"></path><path fill-rule="evenodd" d="M19 14.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0m-1.5 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0" clip-rule="evenodd"></path></g></symbol><use xlink:href="#ai:local:theme/sun-28"></use>  </svg><svg width="16" height="16" viewBox="0 0 28 28" class="dark" data-icon="theme/moon-28">  <symbol id="ai:local:theme/moon-28"><path fill="currentColor" fill-rule="evenodd" d="M21 7.02A9.23 9.23 0 0 0 15.2 5 9.1 9.1 0 0 0 6 14c0 4.97 4.12 9 9.2 9a9.33 9.33 0 0 0 5.8-2.02A7 7 0 0 1 14.36 14 7 7 0 0 1 21 7.02m-3.95-.3a8 8 0 0 0-1.85-.22A7.6 7.6 0 0 0 7.5 14a7.6 7.6 0 0 0 7.7 7.5 8 8 0 0 0 1.85-.22A8.46 8.46 0 0 1 12.86 14c0-3.1 1.69-5.8 4.19-7.28" clip-rule="evenodd"></path></symbol><use xlink:href="#ai:local:theme/moon-28"></use>  </svg><svg width="16" height="16" viewBox="0 0 28 28" class="auto" data-icon="theme/system-28">  <symbol id="ai:local:theme/system-28"><path fill="currentColor" d="M8 4h1v2H8zm0 9v2h1v-2zm6-3V9h-2v1zM3 9v1h2V9zm5.5 3a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5m4.2-6-.7-.7-1.4 1.4.7.7zM5 13.7l-.7-.7 1.4-1.4.7.7zm7.7-.7-.7.7-1.4-1.4.7-.7zM4.3 6l.7-.7 1.4 1.4-.7.7zm3 17 14-14 .8.7L8 23.7zm17.2-.1a3.5 3.5 0 0 1-3.4-5.9H21a4 4 0 1 0 3.5 5.9"></path></symbol><use xlink:href="#ai:local:theme/system-28"></use>  </svg></template> <div class="backdrop" data-mobile-menu-backdrop="" data-astro-cid-h2irkosh=""></div> <div class="menu-container" data-astro-cid-h2irkosh=""> <div class="header" data-astro-cid-h2irkosh=""> <div class="header-group" data-astro-cid-h2irkosh=""> <div id="version-select" data-astro-cid-kx7qoxgq=""> <label style="--sl-select-width: undefined; --sl-label-icon-size: 16px;" data-astro-cid-lmznfliq=""> <span class="sr-only" data-astro-cid-lmznfliq="">Version</span>  <select value="v6" data-has-border="" no-icon="true" data-astro-cid-lmznfliq=""> <option value="v6" selected="true" data-astro-cid-lmznfliq="">Version 6</option><option value="v5" data-astro-cid-lmznfliq="">Version 5</option><option value="v4" data-astro-cid-lmznfliq="">Version 4</option><option value="v3" data-astro-cid-lmznfliq="">Version 3</option> </select> <svg width="16" height="16" viewBox="0 0 24 24" class="icon caret" data-astro-cid-lmznfliq="" data-icon="theme/down-caret">  <symbol id="ai:local:theme/down-caret"><path fill="currentColor" d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1 1 0 0 0 1.42 0L17 10.59a1 1 0 0 0 0-1.42"></path></symbol><use xlink:href="#ai:local:theme/down-caret"></use>  </svg> </label>  </div>   <docs-theme-select class="" data-astro-cid-3wpspbi7=""> <label style="--sl-select-width: 48px; --sl-label-icon-size: 28px;" data-astro-cid-lmznfliq=""> <span class="sr-only" data-astro-cid-lmznfliq="">Theme</span> <svg width="28" height="28" viewBox="0 0 28 28" class="icon label-icon" data-button="" data-round="" data-astro-cid-lmznfliq="" data-icon="theme/system-28">  <symbol id="ai:local:theme/system-28"><path fill="currentColor" d="M8 4h1v2H8zm0 9v2h1v-2zm6-3V9h-2v1zM3 9v1h2V9zm5.5 3a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5m4.2-6-.7-.7-1.4 1.4.7.7zM5 13.7l-.7-.7 1.4-1.4.7.7zm7.7-.7-.7.7-1.4-1.4.7-.7zM4.3 6l.7-.7 1.4 1.4-.7.7zm3 17 14-14 .8.7L8 23.7zm17.2-.1a3.5 3.5 0 0 1-3.4-5.9H21a4 4 0 1 0 3.5 5.9"></path></symbol><use xlink:href="#ai:local:theme/system-28"></use>  </svg> <select value="auto" data-button="" data-astro-cid-lmznfliq=""> <option value="dark" data-astro-cid-lmznfliq="">&nbsp;&nbsp;Dark&nbsp;&nbsp;</option><option value="light" data-astro-cid-lmznfliq="">&nbsp;&nbsp;Light&nbsp;&nbsp;</option><option value="auto" selected="true" data-astro-cid-lmznfliq="">&nbsp;&nbsp;Auto&nbsp;&nbsp;</option> </select>  </label>  </docs-theme-select>   <script data-astro-exec="">
	ThemeProvider.updatePickers('unknown');
</script>  </div> <div class="header-group" data-astro-cid-h2irkosh="">  <div class="not-content" style="stroke-width:2px" data-astro-cid-pkzv2hgs=""> <button id="mobile-menu-back-button" title="Close menu" data-astro-cid-pkzv2hgs="" class="not-content stvb-base stvb-pointer stvb-gray stvb-medium stvb-primary stvb-icon">  <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-h2irkosh="" data-icon="theme/arrow-back">  <symbol id="ai:local:theme/arrow-back"><g fill="none"><g clip-path="url(#a)"><path stroke="var(--arrow-fill-color, #131722)" d="m17 20-6-6 6-6"></path></g><defs><clipPath id="a"><path fill="#fff" d="M28 28H0V0h28z"></path></clipPath></defs></g></symbol><use xlink:href="#ai:local:theme/arrow-back"></use>  </svg>  </button> </div>  </div> </div> <aside id="nav" class="keep-visible" style="--navbar-right-border-width: 0px" data-astro-cid-sa57sq6l=""> <div class="sidebar-viewport slick-scroll" data-astro-cid-sa57sq6l=""> <div class="sidebar" data-mobile="" data-astro-cid-sa57sq6l=""> <ul class="toc" aria-label="Docs sidebar" data-astro-cid-sa57sq6l=""> <li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/welcome" data-astro-cid-omxx3dey="">Welcome to Pine Script® v6</a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Pine Script® primer</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-steps" data-astro-cid-omxx3dey="">First steps</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-indicator" data-astro-cid-omxx3dey="">First indicator</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/next-steps" data-astro-cid-omxx3dey="">Next steps</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details open="" data-is-parent="" data-is-on-path="" data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Language</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/execution-model" data-astro-cid-omxx3dey="">Execution model</a></li><li class="item" data-current="" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/type-system" data-astro-cid-omxx3dey="">Type system</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/script-structure" data-astro-cid-omxx3dey="">Script structure</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/identifiers" data-astro-cid-omxx3dey="">Identifiers</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/variable-declarations" data-astro-cid-omxx3dey="">Variable declarations</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/operators" data-astro-cid-omxx3dey="">Operators</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/conditional-structures" data-astro-cid-omxx3dey="">Conditional structures</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/loops" data-astro-cid-omxx3dey="">Loops</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/built-ins" data-astro-cid-omxx3dey="">Built-ins</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/user-defined-functions" data-astro-cid-omxx3dey="">User-defined functions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/objects" data-astro-cid-omxx3dey="">Objects</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/enums" data-astro-cid-omxx3dey="">Enums</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/methods" data-astro-cid-omxx3dey="">Methods</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/arrays" data-astro-cid-omxx3dey="">Arrays</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/matrices" data-astro-cid-omxx3dey="">Matrices</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/maps" data-astro-cid-omxx3dey="">Maps</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Visuals</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/overview" data-astro-cid-omxx3dey="">Overview</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/backgrounds" data-astro-cid-omxx3dey="">Backgrounds</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/bar-coloring" data-astro-cid-omxx3dey="">Bar coloring</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/bar-plotting" data-astro-cid-omxx3dey="">Bar plotting</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/colors" data-astro-cid-omxx3dey="">Colors</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/fills" data-astro-cid-omxx3dey="">Fills</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/levels" data-astro-cid-omxx3dey="">Levels</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/lines-and-boxes" data-astro-cid-omxx3dey="">Lines and boxes</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/plots" data-astro-cid-omxx3dey="">Plots</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/tables" data-astro-cid-omxx3dey="">Tables</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/text-and-shapes" data-astro-cid-omxx3dey="">Text and shapes</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Concepts</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/alerts" data-astro-cid-omxx3dey="">Alerts</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-states" data-astro-cid-omxx3dey="">Bar states</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/chart-information" data-astro-cid-omxx3dey="">Chart information</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/inputs" data-astro-cid-omxx3dey="">Inputs</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/libraries" data-astro-cid-omxx3dey="">Libraries</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/non-standard-charts-data" data-astro-cid-omxx3dey="">Non-standard charts data</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/other-timeframes-and-data" data-astro-cid-omxx3dey="">Other timeframes and data</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/repainting" data-astro-cid-omxx3dey="">Repainting</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/sessions" data-astro-cid-omxx3dey="">Sessions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/strategies" data-astro-cid-omxx3dey="">Strategies</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/strings" data-astro-cid-omxx3dey="">Strings</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/time" data-astro-cid-omxx3dey="">Time</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/timeframes" data-astro-cid-omxx3dey="">Timeframes</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Writing scripts</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/style-guide" data-astro-cid-omxx3dey="">Style guide</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/debugging" data-astro-cid-omxx3dey="">Debugging</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/profiling-and-optimization" data-astro-cid-omxx3dey="">Profiling and optimization</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/publishing" data-astro-cid-omxx3dey="">Publishing scripts</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/limitations" data-astro-cid-omxx3dey="">Limitations</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">FAQ</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/general" data-astro-cid-omxx3dey="">General</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/alerts" data-astro-cid-omxx3dey="">Alerts</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/data-structures" data-astro-cid-omxx3dey="">Data structures</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/functions" data-astro-cid-omxx3dey="">Functions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/indicators" data-astro-cid-omxx3dey="">Indicators</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/other-data-and-timeframes" data-astro-cid-omxx3dey="">Other data and timeframes</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/programming" data-astro-cid-omxx3dey="">Programming</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/strategies" data-astro-cid-omxx3dey="">Strategies</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/strings-and-formatting" data-astro-cid-omxx3dey="">Strings and formatting</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/techniques" data-astro-cid-omxx3dey="">Techniques</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/times-dates-and-sessions" data-astro-cid-omxx3dey="">Times, dates, and sessions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/variables-and-operators" data-astro-cid-omxx3dey="">Variables and operators</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/visuals" data-astro-cid-omxx3dey="">Visuals</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/error-messages" data-astro-cid-omxx3dey="">Error messages</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/release-notes" data-astro-cid-omxx3dey="">Release notes</a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Migration guides</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/overview" data-astro-cid-omxx3dey="">Overview</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-6" data-astro-cid-omxx3dey="">To Pine Script® version 6</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-5" data-astro-cid-omxx3dey="">To Pine Script® version 5</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-4" data-astro-cid-omxx3dey="">To Pine Script® version 4</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-3" data-astro-cid-omxx3dey="">To Pine Script® version 3</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-2" data-astro-cid-omxx3dey="">To Pine Script® version 2</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/where-can-i-get-more-information" data-astro-cid-omxx3dey="">Where can I get more information?</a></li> </ul> <div class="toc-bottom" data-astro-cid-sa57sq6l=""></div> </div> </div> </aside>  </div>   <header class="header" data-astro-cid-d74r2unp=""> <nav role="navigation" aria-label="Main Navigation" data-astro-cid-d74r2unp=""> <mobile-menu-button id="mobile-menu-button-wc" data-astro-cid-oojooh3d=""> <!-- Annoyingly I need to wrap this. TODO: improve this --> <div id="mobile-menu-button-header" data-astro-cid-oojooh3d=""> <div class="not-content" style="" data-astro-cid-pkzv2hgs=""> <button title="Open navigation menu" data-astro-cid-pkzv2hgs="" class="not-content stvb-base stvb-pointer stvb-gray stvb-medium stvb-secondary stvb-icon stvb-icon-force-color stvb-force-no-border">  <svg width="28" height="28" viewBox="0 0 24 24" data-astro-cid-oojooh3d="" data-icon="theme/bars">  <symbol id="ai:local:theme/bars"><path fill="currentColor" d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2m18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2m0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2"></path></symbol><use xlink:href="#ai:local:theme/bars"></use>  </svg>  </button> </div>  </div> </mobile-menu-button>   <div data-hide-when-search="" data-astro-cid-d74r2unp=""> <div class="header-logo" data-astro-cid-tycb33lk=""> <a href="/pine-script-docs/" aria-label="Home button" data-astro-cid-tycb33lk=""> <div class="documentation-logo logo" data-astro-cid-tycb33lk=""><!-- Old Christmas icon -->
<!-- 
<svg width="184" height="44" viewBox="0 0 184 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path fill-rule="evenodd" clip-rule="evenodd" d="M33.8209 5.1219C33.885 4.95937 34.115 4.95937 34.1791 5.1219L35.2253 7.77465L37.8781 8.82088C38.0406 8.88499 38.0406 9.11501 37.8781 9.17912L35.2253 10.2253L34.1791 12.8781C34.115 13.0406 33.885 13.0406 33.8209 12.8781L32.7747 10.2253L30.1219 9.17912C29.9594 9.11501 29.9594 8.88499 30.1219 8.82088L32.7747 7.77465L33.8209 5.1219Z" fill="#F9A825"/>
    <path d="M5.30092 15.1478C5.37479 14.9605 5.63986 14.9605 5.71373 15.1478L6.60557 17.4091L8.86685 18.3009C9.05415 18.3748 9.05415 18.6399 8.86685 18.7137L6.60557 19.6056L5.71373 21.8669C5.63986 22.0541 5.37479 22.0541 5.30092 21.8669L4.40908 19.6056L2.1478 18.7137C1.9605 18.6399 1.9605 18.3748 2.1478 18.3009L4.40908 17.4091L5.30092 15.1478Z" fill="#F9A825"/>
    <path d="M11.8231 3.12041C11.8864 2.95986 12.1136 2.95986 12.1769 3.12041L12.9414 5.05865L14.8796 5.82308C15.0401 5.8864 15.0401 6.1136 14.8796 6.17692L12.9414 6.94135L12.1769 8.87959C12.1136 9.04014 11.8864 9.04014 11.8231 8.87959L11.0586 6.94135L9.12041 6.17692C8.95986 6.1136 8.95986 5.8864 9.12041 5.82308L11.0586 5.05865L11.8231 3.12041Z" fill="#F9A825"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M22.6478 7.35459L34.7627 21.6923C35.1531 22.1543 35.0472 22.8544 34.5376 23.1802L26.9989 28.0001L18.4281 20.7531L11.3382 23.2611C10.402 23.5923 9.60771 22.5041 10.2085 21.7134L21.0877 7.39502C21.4749 6.88536 22.2346 6.86567 22.6478 7.35459ZM33.432 28.0842L38.3592 34.7471C38.7427 35.2657 38.3724 36 37.7274 36H6.27248C5.62746 36 5.25722 35.2657 5.64074 34.7471L10.8523 27.6996C10.9484 27.5697 11.0822 27.4725 11.2356 27.4214L17.6878 25.2707C17.9285 25.1904 18.1932 25.2314 18.3984 25.3806L26.2854 31.1166C26.5445 31.3051 26.8922 31.3173 27.1639 31.1475L32.3838 27.885C32.7316 27.6677 33.1881 27.7544 33.432 28.0842Z" fill="#089981"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.6363 11.9375C20.7386 12.451 23.1213 11.505 24.9187 10.0422L25.8869 11.1881C23.6236 13.0379 20.553 14.1584 16.6261 13.267L17.6363 11.9375ZM34.0572 20.8573C30.0669 21.363 26.2864 20.8179 23.1264 19.7076C20.7393 18.8689 18.6873 17.7013 17.155 16.3997C16.5283 15.8674 15.9767 15.3021 15.5241 14.7174L16.4708 13.4713C16.8706 14.0544 17.4225 14.6588 18.1262 15.2565C19.5001 16.4237 21.3856 17.5061 23.6236 18.2924C26.3235 19.241 29.5087 19.7493 32.8863 19.4716L34.0572 20.8573ZM9.06812 30.1123C15.4775 33.3909 23.0493 33.8897 29.0345 32.0941C31.0827 31.4796 32.9275 30.6019 34.4713 29.4897L35.3633 30.6959C33.6586 31.9268 31.6497 32.8756 29.4655 33.5309C23.053 35.4546 14.9758 34.8964 8.16479 31.3339L9.06812 30.1123Z" fill="#45E5CB"/>
    <path d="M55.56 13.96C59.016 13.96 61.536 16.456 61.536 19.696C61.536 22.936 59.016 25.432 55.56 25.432H53.376V31H49.896V13.96H55.56ZM55.512 22.168C57.096 22.168 58.152 21.088 58.152 19.696C58.152 18.304 57.096 17.224 55.512 17.224H53.376V22.168H55.512ZM66.8636 14.944C66.8636 16.096 65.9276 17.032 64.7516 17.032C63.6236 17.032 62.6636 16.096 62.6636 14.944C62.6636 13.792 63.6236 12.856 64.7516 12.856C65.9276 12.856 66.8636 13.792 66.8636 14.944ZM63.1196 31V19H66.4076V31H63.1196ZM69.0849 31V19H72.3729V20.368C72.9969 19.408 74.2449 18.736 75.8049 18.736C78.7089 18.736 80.4369 20.848 80.4369 23.968V31H77.1489V24.52C77.1489 22.792 76.4049 21.736 75.0369 21.736C73.5249 21.736 72.3729 22.84 72.3729 25.144V31H69.0849ZM82.2041 25C82.2041 21.448 84.8681 18.736 88.5161 18.736C91.6601 18.736 94.4201 20.752 94.4201 24.64C94.4201 24.928 94.4201 25.264 94.3721 25.768H85.3961C85.5881 27.376 87.0041 28.264 88.5881 28.264C90.0761 28.264 91.1561 27.568 91.6841 26.752L94.1321 28.576C93.0281 30.184 91.0841 31.264 88.5641 31.264C84.9881 31.264 82.2041 28.792 82.2041 25ZM88.4201 21.448C87.1961 21.448 85.8281 22.072 85.5161 23.536H91.1321C90.8441 22.12 89.6441 21.448 88.4201 21.448ZM100.412 28.24L103.076 26.008C103.916 27.28 105.38 28.024 106.772 28.024C108.14 28.024 109.052 27.352 109.052 26.368C109.052 25.408 108.356 24.736 106.676 24.16L105.236 23.656C102.5 22.696 101.036 21.112 101.036 18.784C101.036 15.568 103.484 13.672 106.796 13.672C108.884 13.672 110.708 14.392 112.172 16.024L109.868 18.4C109.052 17.416 107.996 16.936 106.82 16.936C105.644 16.936 104.54 17.44 104.54 18.448C104.54 19.48 105.38 19.936 107.18 20.584L108.548 21.088C111.044 22 112.604 23.584 112.604 26.152C112.58 29.2 110.156 31.288 106.628 31.288C103.916 31.288 101.636 30.112 100.412 28.24ZM125.859 27.808C124.827 29.872 122.667 31.264 120.171 31.264C116.619 31.264 113.811 28.624 113.811 25C113.811 21.376 116.619 18.736 120.171 18.736C122.667 18.736 124.827 20.128 125.859 22.192L123.003 23.728C122.523 22.624 121.491 21.808 120.171 21.808C118.443 21.808 117.123 23.152 117.123 25C117.123 26.848 118.443 28.192 120.171 28.192C121.491 28.192 122.523 27.376 123.003 26.272L125.859 27.808ZM127.482 31V19H130.77V20.92C131.178 19.744 132.402 18.856 133.746 18.856C134.082 18.856 134.442 18.88 134.85 19V22.336C134.346 22.168 133.89 22.072 133.362 22.072C131.802 22.072 130.77 23.296 130.77 25.264V31H127.482ZM140.215 14.944C140.215 16.096 139.279 17.032 138.103 17.032C136.975 17.032 136.015 16.096 136.015 14.944C136.015 13.792 136.975 12.856 138.103 12.856C139.279 12.856 140.215 13.792 140.215 14.944ZM136.471 31V19H139.759V31H136.471ZM142.436 36.016V19H145.724V20.344C146.276 19.576 147.548 18.736 149.204 18.736C152.396 18.736 154.844 21.592 154.844 25C154.844 28.408 152.396 31.264 149.204 31.264C147.548 31.264 146.276 30.424 145.724 29.656V36.016H142.436ZM151.508 25C151.508 23.128 150.284 21.736 148.484 21.736C146.684 21.736 145.46 23.128 145.46 25C145.46 26.872 146.684 28.264 148.484 28.264C150.284 28.264 151.508 26.872 151.508 25ZM164.407 30.88C163.879 31.048 163.231 31.144 162.319 31.144C159.775 31.144 157.735 29.728 157.735 26.8V21.88H155.311V19H157.735V15.664H161.023V19H164.407V21.88H161.023V26.152C161.023 27.616 161.647 28.192 163.063 28.192C163.591 28.192 164.023 28.12 164.407 27.976V30.88ZM173.626 22.648V13.96H175.978L177.874 16.888L179.746 13.96H182.122V22.648H179.698V18.184L177.874 20.968L176.026 18.136V22.648H173.626ZM167.386 22.648V16.456H165.058V13.96H172.258V16.456H169.93V22.648H167.386Z" fill="currentColor"/>
</svg> -->



<!-- Regular icon -->

<svg width="177" height="44" viewBox="0 0 177 44" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M17.6876 25.2705C17.9283 25.1902 18.1933 25.2316 18.3985 25.3808L26.2852 31.1162C26.5444 31.3047 26.8924 31.3173 27.1641 31.1474L32.3839 27.8847C32.7316 27.6675 33.1878 27.7545 33.4317 28.084L38.3594 34.7471C38.7428 35.2656 38.3725 35.9999 37.7276 36H6.27253C5.62754 36 5.25723 35.2657 5.64069 34.7471L10.8526 27.6992C10.9486 27.5695 11.0824 27.4729 11.2354 27.4219L17.6876 25.2705ZM21.088 7.39451C21.4752 6.88532 22.2345 6.8659 22.6475 7.35448L34.7628 21.6924C35.1531 22.1544 35.0468 22.8548 34.5372 23.1806L26.9991 28L18.4278 20.7529L11.338 23.2607C10.4021 23.5917 9.60809 22.5044 10.2081 21.7139L21.088 7.39451ZM13.8243 20.2597L17.7608 18.8672C18.4309 18.6301 19.1771 18.7667 19.7198 19.2256L27.1641 25.5205L32.4981 22.1103L21.9259 9.59862L13.8243 20.2597Z" fill="currentColor"></path>
<path d="M147.308 16.959C150.499 16.959 152.948 19.8149 152.948 23.2227C152.948 26.6307 150.5 29.4873 147.308 29.4873C145.652 29.4872 144.38 28.6469 143.828 27.8789V34.2393H140.54V17.2227H143.828V18.5674C144.38 17.7994 145.652 16.9591 147.308 16.959ZM104.9 11.8955C106.988 11.8956 108.812 12.6152 110.276 14.2471L107.972 16.623C107.156 15.6392 106.1 15.1592 104.924 15.1592C103.748 15.1592 102.645 15.6631 102.645 16.6709C102.645 17.7029 103.484 18.1596 105.284 18.8076L106.652 19.3115C109.148 20.2235 110.708 21.8072 110.708 24.375C110.684 27.4229 108.26 29.5106 104.732 29.5107C102.02 29.5107 99.7396 28.3349 98.5156 26.4629L101.18 24.2314C102.02 25.5034 103.484 26.247 104.876 26.2471C106.244 26.2471 107.156 25.5748 107.156 24.5908C107.156 23.631 106.46 22.9587 104.78 22.3828L103.34 21.8789C100.604 20.9189 99.1396 19.3348 99.1396 17.0068C99.1398 13.791 101.588 11.8955 104.9 11.8955ZM86.6201 16.959C89.7641 16.959 92.5244 18.9753 92.5244 22.8633C92.5244 23.1513 92.5246 23.4873 92.4766 23.9912H83.5C83.692 25.5992 85.1084 26.4873 86.6924 26.4873C88.18 26.4872 89.26 25.7914 89.7881 24.9756L92.2363 26.7988C91.1323 28.4068 89.188 29.4873 86.668 29.4873C83.092 29.4872 80.3086 27.0146 80.3086 23.2227C80.3088 19.6709 82.9723 16.959 86.6201 16.959ZM118.275 16.959C120.771 16.9591 122.931 18.3512 123.963 20.415L121.107 21.9512C120.627 20.8473 119.595 20.0314 118.275 20.0312C116.548 20.0312 115.227 21.3749 115.227 23.2227C115.227 25.0707 116.547 26.415 118.275 26.415C119.595 26.4149 120.627 25.599 121.107 24.4951L123.963 26.0312C122.931 28.0951 120.771 29.4872 118.275 29.4873C114.723 29.4873 111.915 26.8467 111.915 23.2227C111.915 19.5989 114.724 16.959 118.275 16.959ZM159.127 17.2227H162.511V20.1035H159.127V24.375C159.127 25.839 159.751 26.415 161.167 26.415C161.695 26.415 162.127 26.3432 162.511 26.1992V29.1035C161.983 29.2715 161.335 29.3672 160.423 29.3672C157.879 29.3672 155.839 27.9512 155.839 25.0234V20.1035H153.415V17.2227H155.839V13.8867H159.127V17.2227ZM53.6641 12.1836C57.12 12.1836 59.6395 14.6791 59.6396 17.9189C59.6396 21.1589 57.12 23.6552 53.6641 23.6553H51.4805V29.2227H48V12.1836H53.6641ZM64.5117 29.2227H61.2236V17.2227H64.5117V29.2227ZM73.9092 16.959C76.813 16.9591 78.541 19.0715 78.541 22.1914V29.2227H75.2529V22.7432C75.2529 21.0152 74.5086 19.959 73.1406 19.959C71.6288 19.9591 70.4766 21.0633 70.4766 23.3672V29.2227H67.1885V17.2227H70.4766V18.5908C71.1006 17.6308 72.3492 16.959 73.9092 16.959ZM131.85 17.0791C132.186 17.0791 132.546 17.1027 132.954 17.2227V20.5596C132.45 20.3916 131.994 20.2949 131.466 20.2949C129.906 20.2949 128.874 21.5193 128.874 23.4873V29.2227H125.586V17.2227H128.874V19.1436C129.282 17.9676 130.506 17.0792 131.85 17.0791ZM137.862 29.2227H134.574V17.2227H137.862V29.2227ZM146.588 19.959C144.788 19.959 143.564 21.3509 143.563 23.2227C143.563 25.0947 144.788 26.4873 146.588 26.4873C148.388 26.4873 149.612 25.0947 149.612 23.2227C149.612 21.3509 148.388 19.959 146.588 19.959ZM169.993 9.76074C170.876 9.76079 171.697 9.9237 172.455 10.25C173.213 10.5764 173.881 11.0326 174.457 11.6182C175.043 12.1942 175.499 12.8617 175.825 13.6201C176.151 14.3783 176.314 15.1991 176.314 16.082C176.314 16.9556 176.152 17.7769 175.825 18.5449C175.499 19.3032 175.043 19.975 174.457 20.5605C173.881 21.1365 173.208 21.5877 172.44 21.9141C171.682 22.2404 170.867 22.4042 169.993 22.4043C169.12 22.4043 168.298 22.2405 167.53 21.9141C166.772 21.5877 166.1 21.1365 165.515 20.5605C164.939 19.975 164.488 19.3032 164.161 18.5449C163.835 17.7769 163.671 16.9556 163.671 16.082C163.671 15.2086 163.835 14.393 164.161 13.6348C164.488 12.8668 164.939 12.1942 165.515 11.6182C166.1 11.0327 166.772 10.5764 167.53 10.25C168.298 9.92362 169.12 9.76074 169.993 9.76074ZM86.5244 19.6709C85.3005 19.6709 83.9323 20.295 83.6201 21.7588H89.2363C88.9482 20.3431 87.7482 19.671 86.5244 19.6709ZM169.993 11.1865C169.312 11.1865 168.672 11.3109 168.077 11.5605C167.492 11.8101 166.974 12.1612 166.522 12.6123C166.071 13.0635 165.72 13.5865 165.471 14.1816C165.221 14.7671 165.097 15.4006 165.097 16.082C165.097 16.7634 165.221 17.402 165.471 17.9971C165.72 18.5827 166.071 19.1015 166.522 19.5527C166.974 20.0038 167.492 20.3539 168.077 20.6035C168.672 20.8531 169.312 20.9785 169.993 20.9785C170.675 20.9785 171.308 20.8531 171.894 20.6035C172.489 20.3539 173.012 20.0038 173.463 19.5527C173.914 19.1015 174.265 18.5827 174.515 17.9971C174.764 17.402 174.889 16.7634 174.889 16.082C174.889 15.4006 174.764 14.7671 174.515 14.1816C174.265 13.5865 173.914 13.0635 173.463 12.6123C173.012 12.1611 172.489 11.8101 171.894 11.5605C171.308 11.311 170.675 11.1866 169.993 11.1865ZM51.4805 20.3916H53.6162C55.2001 20.3915 56.2559 19.3109 56.2559 17.9189C56.2558 16.5271 55.2 15.4474 53.6162 15.4473H51.4805V20.3916ZM169.878 13.2314C170.406 13.2315 170.838 13.2932 171.174 13.418C171.519 13.5332 171.773 13.7163 171.937 13.9658C172.1 14.2154 172.182 14.5271 172.182 14.9014C172.182 15.2469 172.09 15.5494 171.908 15.8086C171.726 16.0581 171.481 16.2646 171.174 16.4277L172.815 18.9336H171.217L169.964 16.8027H169.445V18.9336H168.034V13.2314H169.878ZM169.445 15.751H169.849C170.127 15.751 170.348 15.6932 170.511 15.5781C170.674 15.4533 170.756 15.247 170.756 14.959C170.756 14.7383 170.684 14.5703 170.54 14.4551C170.396 14.3399 170.165 14.2822 169.849 14.2822H169.445V15.751ZM62.8555 11.0791C64.0314 11.0791 64.9677 12.0151 64.9678 13.167C64.9678 14.319 64.0315 15.2549 62.8555 15.2549C61.7275 15.2548 60.7676 14.3189 60.7676 13.167C60.7677 12.0151 61.7276 11.0792 62.8555 11.0791ZM136.207 11.0791C137.383 11.0793 138.318 12.0152 138.318 13.167C138.318 14.3188 137.383 15.2546 136.207 15.2549C135.079 15.2549 134.118 14.319 134.118 13.167C134.118 12.0151 135.079 11.0791 136.207 11.0791Z" fill="currentColor"></path>
</svg>
</div> </a> </div>  </div> <div class="flex" data-astro-cid-d74r2unp=""></div> <div class="flex" data-astro-cid-d74r2unp=""> <div class="search-container" data-astro-cid-fg37foga=""> <div class="search-wrapper" data-astro-cid-fg37foga=""> <input class="search-input" type="text" placeholder="Search docs" name="s" value="" data-astro-cid-fg37foga="" data-has-input-listener="true"> <svg width="28" height="28" viewBox="0 0 28 28" class="search-button" data-astro-cid-fg37foga="" data-icon="theme/search">  <symbol id="ai:local:theme/search"><path fill="currentColor" fill-rule="evenodd" d="M18.5 12.5a6 6 0 1 1-12 0 6 6 0 0 1 12 0m-1.25 5.8a7.5 7.5 0 1 1 1.06-1.06l4.22 4.23.53.53L22 23.06l-.53-.53-4.22-4.22Z" clip-rule="evenodd"></path></symbol><use xlink:href="#ai:local:theme/search"></use>  </svg> <button class="search-clear" type="button" title="Reset" data-search-clear="" data-astro-cid-fg37foga="">Clear</button> <span class="divider" data-astro-cid-fg37foga=""></span> <button class="search-close" type="button" title="Close" data-search-close="" data-astro-cid-fg37foga=""> <svg width="18" height="18" viewBox="0 0 18 18" data-astro-cid-fg37foga="" data-icon="theme/cross-18">  <use xlink:href="#ai:local:theme/cross-18"></use>  </svg> </button> </div> <div id="search-results-wrapper" data-astro-cid-fg37foga=""> <aside id="search-results" hidden="" data-astro-cid-fg37foga="" data-has-button-listener="true"> <!-- Don't use h1 because when built it will be used as the first heading on the page --> <div class="heading" data-astro-cid-fg37foga="">Search results</div> <div id="search-results-contents" data-astro-cid-fg37foga=""></div> </aside> </div> </div>   </div> <ul class="links" data-astro-cid-d74r2unp="">  </ul> <div class="flex" data-astro-cid-d74r2unp=""></div> <div data-hide-when-search="" data-astro-cid-d74r2unp=""> <div id="version-select" data-hideable="true" data-astro-cid-kx7qoxgq=""> <label style="--sl-select-width: undefined; --sl-label-icon-size: 16px;" data-astro-cid-lmznfliq=""> <span class="sr-only" data-astro-cid-lmznfliq="">Version</span>  <select value="v6" data-has-border="" no-icon="true" data-astro-cid-lmznfliq=""> <option value="v6" selected="true" data-astro-cid-lmznfliq="">Version 6</option><option value="v5" data-astro-cid-lmznfliq="">Version 5</option><option value="v4" data-astro-cid-lmznfliq="">Version 4</option><option value="v3" data-astro-cid-lmznfliq="">Version 3</option> </select> <svg width="16" height="16" viewBox="0 0 24 24" class="icon caret" data-astro-cid-lmznfliq="" data-icon="theme/down-caret">  <use xlink:href="#ai:local:theme/down-caret"></use>  </svg> </label>  </div>   </div> <button id="search-button" data-astro-cid-6zeqadij="" data-has-listener="true"> <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-6zeqadij="" data-icon="theme/search">  <use xlink:href="#ai:local:theme/search"></use>  </svg> </button>  <script data-base-url="/pine-script-docs" data-astro-exec="">
	async function loadPageFind() {
		const base = document.currentScript.getAttribute('data-base-url');
		const pageFindBundleUrl = `${base}/pagefind/`;
		const pagefind = await import(`${pageFindBundleUrl}pagefind.js`);
		await pagefind.options({
			bundlePath: pageFindBundleUrl,
		});
		window.pagefind = pagefind;
	}
	loadPageFind().catch();
</script>  <docs-theme-select class="hide-with-breakpoint-568" data-astro-cid-3wpspbi7=""> <label style="--sl-select-width: 48px; --sl-label-icon-size: 28px;" data-astro-cid-lmznfliq=""> <span class="sr-only" data-astro-cid-lmznfliq="">Theme</span> <svg width="28" height="28" viewBox="0 0 28 28" class="icon label-icon" data-button="" data-round="" data-astro-cid-lmznfliq="" data-icon="theme/system-28">  <symbol id="ai:local:theme/system-28"><path fill="currentColor" d="M8 4h1v2H8zm0 9v2h1v-2zm6-3V9h-2v1zM3 9v1h2V9zm5.5 3a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5m4.2-6-.7-.7-1.4 1.4.7.7zM5 13.7l-.7-.7 1.4-1.4.7.7zm7.7-.7-.7.7-1.4-1.4.7-.7zM4.3 6l.7-.7 1.4 1.4-.7.7zm3 17 14-14 .8.7L8 23.7zm17.2-.1a3.5 3.5 0 0 1-3.4-5.9H21a4 4 0 1 0 3.5 5.9"></path></symbol><use xlink:href="#ai:local:theme/system-28"></use>  </svg> <select value="auto" data-button="" data-astro-cid-lmznfliq=""> <option value="dark" data-astro-cid-lmznfliq="">&nbsp;&nbsp;Dark&nbsp;&nbsp;</option><option value="light" data-astro-cid-lmznfliq="">&nbsp;&nbsp;Light&nbsp;&nbsp;</option><option value="auto" selected="true" data-astro-cid-lmznfliq="">&nbsp;&nbsp;Auto&nbsp;&nbsp;</option> </select>  </label>  </docs-theme-select>   <script data-astro-exec="">
	ThemeProvider.updatePickers('unknown');
</script>  </nav> </header>        <div id="image-lightbox" class="not-content" hidden="" data-astro-cid-kws7taxh=""> <div class="button-wrapper" data-astro-cid-kws7taxh=""> <div class="not-content" style="" data-astro-cid-pkzv2hgs=""> <button id="lightbox-close-button" title="Close image preview" data-astro-cid-pkzv2hgs="" class="not-content stvb-base stvb-pointer stvb-black stvb-medium stvb-secondary stvb-icon stvb-force-no-border">  <svg width="24" height="24" viewBox="0 0 18 18" data-astro-cid-kws7taxh="" data-icon="theme/cross-18">  <symbol id="ai:local:theme/cross-18"><g fill="none"><g clip-path="url(#a)"><path fill="currentColor" fill-rule="evenodd" d="M5.53 4.47 4.47 5.53 7.94 9l-3.47 3.47 1.06 1.06L9 10.06l3.47 3.47 1.06-1.06L10.06 9l3.47-3.47-1.06-1.06L9 7.94z" clip-rule="evenodd"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h18v18H0z"></path></clipPath></defs></g></symbol><use xlink:href="#ai:local:theme/cross-18"></use>  </svg>  </button> </div>  </div> <img id="lightbox-image" src="" data-astro-cid-kws7taxh=""> </div>   <div id="page-container" data-astro-cid-xgirumru=""> <aside id="nav" class="" style="" data-astro-cid-sa57sq6l=""> <div class="sidebar-viewport slick-scroll" data-astro-cid-sa57sq6l=""> <div class="sidebar" data-astro-cid-sa57sq6l=""> <ul class="toc" aria-label="Docs sidebar" data-astro-cid-sa57sq6l=""> <li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/welcome" data-astro-cid-omxx3dey="">Welcome to Pine Script® v6</a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Pine Script® primer</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <symbol id="ai:local:theme/right-caret"><path fill="currentColor" d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1 1 0 0 0 0-1.42"></path></symbol><use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-steps" data-astro-cid-omxx3dey="">First steps</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-indicator" data-astro-cid-omxx3dey="">First indicator</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/next-steps" data-astro-cid-omxx3dey="">Next steps</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details open="" data-is-parent="" data-is-on-path="" data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Language</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/execution-model" data-astro-cid-omxx3dey="">Execution model</a></li><li class="item" data-current="" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/type-system" data-astro-cid-omxx3dey="">Type system</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/script-structure" data-astro-cid-omxx3dey="">Script structure</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/identifiers" data-astro-cid-omxx3dey="">Identifiers</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/variable-declarations" data-astro-cid-omxx3dey="">Variable declarations</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/operators" data-astro-cid-omxx3dey="">Operators</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/conditional-structures" data-astro-cid-omxx3dey="">Conditional structures</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/loops" data-astro-cid-omxx3dey="">Loops</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/built-ins" data-astro-cid-omxx3dey="">Built-ins</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/user-defined-functions" data-astro-cid-omxx3dey="">User-defined functions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/objects" data-astro-cid-omxx3dey="">Objects</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/enums" data-astro-cid-omxx3dey="">Enums</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/methods" data-astro-cid-omxx3dey="">Methods</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/arrays" data-astro-cid-omxx3dey="">Arrays</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/matrices" data-astro-cid-omxx3dey="">Matrices</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/maps" data-astro-cid-omxx3dey="">Maps</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Visuals</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/overview" data-astro-cid-omxx3dey="">Overview</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/backgrounds" data-astro-cid-omxx3dey="">Backgrounds</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/bar-coloring" data-astro-cid-omxx3dey="">Bar coloring</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/bar-plotting" data-astro-cid-omxx3dey="">Bar plotting</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/colors" data-astro-cid-omxx3dey="">Colors</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/fills" data-astro-cid-omxx3dey="">Fills</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/levels" data-astro-cid-omxx3dey="">Levels</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/lines-and-boxes" data-astro-cid-omxx3dey="">Lines and boxes</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/plots" data-astro-cid-omxx3dey="">Plots</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/tables" data-astro-cid-omxx3dey="">Tables</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/text-and-shapes" data-astro-cid-omxx3dey="">Text and shapes</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Concepts</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/alerts" data-astro-cid-omxx3dey="">Alerts</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-states" data-astro-cid-omxx3dey="">Bar states</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/chart-information" data-astro-cid-omxx3dey="">Chart information</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/inputs" data-astro-cid-omxx3dey="">Inputs</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/libraries" data-astro-cid-omxx3dey="">Libraries</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/non-standard-charts-data" data-astro-cid-omxx3dey="">Non-standard charts data</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/other-timeframes-and-data" data-astro-cid-omxx3dey="">Other timeframes and data</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/repainting" data-astro-cid-omxx3dey="">Repainting</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/sessions" data-astro-cid-omxx3dey="">Sessions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/strategies" data-astro-cid-omxx3dey="">Strategies</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/strings" data-astro-cid-omxx3dey="">Strings</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/time" data-astro-cid-omxx3dey="">Time</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/timeframes" data-astro-cid-omxx3dey="">Timeframes</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Writing scripts</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/style-guide" data-astro-cid-omxx3dey="">Style guide</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/debugging" data-astro-cid-omxx3dey="">Debugging</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/profiling-and-optimization" data-astro-cid-omxx3dey="">Profiling and optimization</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/publishing" data-astro-cid-omxx3dey="">Publishing scripts</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/limitations" data-astro-cid-omxx3dey="">Limitations</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">FAQ</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/general" data-astro-cid-omxx3dey="">General</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/alerts" data-astro-cid-omxx3dey="">Alerts</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/data-structures" data-astro-cid-omxx3dey="">Data structures</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/functions" data-astro-cid-omxx3dey="">Functions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/indicators" data-astro-cid-omxx3dey="">Indicators</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/other-data-and-timeframes" data-astro-cid-omxx3dey="">Other data and timeframes</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/programming" data-astro-cid-omxx3dey="">Programming</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/strategies" data-astro-cid-omxx3dey="">Strategies</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/strings-and-formatting" data-astro-cid-omxx3dey="">Strings and formatting</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/techniques" data-astro-cid-omxx3dey="">Techniques</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/times-dates-and-sessions" data-astro-cid-omxx3dey="">Times, dates, and sessions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/variables-and-operators" data-astro-cid-omxx3dey="">Variables and operators</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/visuals" data-astro-cid-omxx3dey="">Visuals</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/error-messages" data-astro-cid-omxx3dey="">Error messages</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/release-notes" data-astro-cid-omxx3dey="">Release notes</a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Migration guides</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/overview" data-astro-cid-omxx3dey="">Overview</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-6" data-astro-cid-omxx3dey="">To Pine Script® version 6</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-5" data-astro-cid-omxx3dey="">To Pine Script® version 5</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-4" data-astro-cid-omxx3dey="">To Pine Script® version 4</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-3" data-astro-cid-omxx3dey="">To Pine Script® version 3</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-2" data-astro-cid-omxx3dey="">To Pine Script® version 2</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/where-can-i-get-more-information" data-astro-cid-omxx3dey="">Where can I get more information?</a></li> </ul> <div class="toc-bottom" data-astro-cid-sa57sq6l=""></div> </div> </div> </aside>  <main class="main-pane" data-page-type="md" data-astro-cid-xgirumru=""> <a id="top" data-astro-cid-xgirumru=""></a> <main class="content" data-toc-shown="" data-astro-cid-ju3wuhkz="">  <div class="content-width" data-astro-cid-xgirumru=""> <div class="breadcrumbs" data-pagefind-ignore="" data-astro-cid-wlavna2o=""> <a href="/pine-script-docs" aria-label="Return back to the documentation home page." data-astro-cid-wlavna2o=""> <span data-astro-cid-wlavna2o="">User Manual</span>  </a>  <span class="divider" data-astro-cid-wlavna2o="">/</span> <a href="/pine-script-docs/language/execution-model" data-astro-cid-wlavna2o="">Language</a> <span class="divider" data-astro-cid-wlavna2o="">/</span> <span class="current-item" data-astro-cid-wlavna2o="">Type system</span> </div>     </div> <div id="slot-container" data-astro-cid-xgirumru=""> <h1 id="type-system" class="md-heading"><a href="#type-system">Type <span class="fancy-wrap">system<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h1>
<h2 id="introduction" class="md-heading"><a href="#introduction"> <span class="fancy-wrap">Introduction<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p>Pine Script® uses a system of <em>types</em> and <em>type qualifiers</em> to categorize the data in a script and indicate where and how the script can use it. This system applies to all values and references in a script, and to the variables, function parameters, and fields that store them.</p>
<p><a href="/pine-script-docs/language/type-system/#types">Types</a> in Pine Script indicate the kinds of information that a script’s data represents. Some types directly represent <em>values</em>, such as numbers, logical conditions, colors, or text, while others define <em>structures</em> for special tasks, such as displaying <a href="/pine-script-docs/visuals/overview/">visuals</a> on the chart. <a href="/pine-script-docs/language/type-system/#qualifiers">Qualifiers</a> indicate when the values of any given type are accessible, and whether those values can change across script executions.</p>
<p>The combination of a type and a qualifier forms a <em>qualified type</em>, which determines the operations and functions with which a value or reference is compatible.</p>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>For the sake of brevity, we often use the term “type” when referring to a qualified type.</p></div></aside>
<p>The type system closely connects to the <a href="/pine-script-docs/language/execution-model/">execution model</a> and its <a href="/pine-script-docs/language/execution-model/#time-series">time series</a> structure — together, they determine how a script behaves as it runs on a dataset. Although it’s possible to write simple scripts without understanding these foundational topics, learning about them and their nuances is key to mastering Pine Script.</p>
<h2 id="qualifiers" class="md-heading"><a href="#qualifiers"> <span class="fancy-wrap">Qualifiers<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p>Pine’s type qualifiers (<a href="/pine-script-docs/language/type-system/#const">const</a>, <a href="/pine-script-docs/language/type-system/#input">input</a>, <a href="/pine-script-docs/language/type-system/#simple">simple</a>, and <a href="/pine-script-docs/language/type-system/#series">series</a>) indicate <em>when</em> values in a script are accessible — either at compile time, input time, or runtime — and whether those values can change across script executions:</p>
<p><code dir="auto">"const"</code></p>
<p class="spacer-wrapper"><spacer></spacer>Established at <em>compile time</em>, when the user saves the script in the Pine Editor or applies the script to a dataset. Values qualified as “const” remain <em>constant</em> during every script execution.</p>
<p><code dir="auto">"input"</code></p>
<p class="spacer-wrapper"><spacer></spacer>Established at <em>input time</em>, when the system confirms input data from the script’s “Settings/Inputs” tab or the chart. Similar to “const” values, “input” values <em>do not change</em> as the script runs on the dataset.</p>
<p><code dir="auto">"simple"</code></p>
<p class="spacer-wrapper"><spacer></spacer>Established by the script at runtime, on the <em>first</em> available bar. On all subsequent bars, values qualified as “simple” do not change.</p>
<p><code dir="auto">"series"</code></p>
<p class="spacer-wrapper"><spacer></spacer><em>Dynamic</em>. Values qualified as “series” are available at runtime, and they are the <strong>only</strong> values that can change across bars.</p>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>The “const”, “input”, and “simple” qualifiers apply exclusively to <a href="/pine-script-docs/language/type-system/#value-types">value types</a>. Pine’s <a href="/pine-script-docs/language/type-system/#reference-types">reference types</a>, such as <a href="https://www.tradingview.com/pine-script-reference/v6/#type_label">label</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#type_array">array</a> types, automatically inherit the “series” qualifier.</p></div></aside>
<p>Pine Script uses the following <em>qualifier hierarchy</em> to determine the compatibility of values in a script’s calculations:</p>
<div class="expressive-code not-content"><link rel="stylesheet" href="/pine-script-docs/_astro/ec.dtidy.css"><script type="module" src="/pine-script-docs/_astro/ec.qopfj.js" data-astro-exec=""></script><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">const &lt; input &lt; simple &lt; series</span></div></div></code></pre></figure></div>
<p>In this hierarchy, “const” is the <em>lowest</em> (<em>weakest</em>) qualifier, and “series” is the <em>highest</em> (<em>strongest</em>). Any variable, parameter, or operation that accepts a value with a specific qualifier also allows a value of the same type with a <em>weaker</em> qualifier, but <strong>not</strong> one that is stronger.</p>
<p>For instance, a function parameter that accepts a value of the “simple int” qualified type also allows a value of the “input int” or “const int” type, because “const” and “input” are <em>lower</em> than “simple” in the qualifier hierarchy. However, the parameter <em>cannot</em> accept a “series int” value, because “series” is higher in the hierarchy than “simple”.</p>
<p>Pine also uses this hierarchy to determine the qualifiers assigned to the results of expressions, i.e., function calls and operations. The returned types of an expression always inherit the <em>strongest</em> qualifier in the calculation. For example, an expression that performs a calculation using “input” and “simple” values returns “simple” results, because “simple” is a <em>stronger</em> qualifier than “input”.</p>
<p>Note that a script <strong>cannot</strong> change the qualifier of a returned value to one that is lower in the hierarchy to make it compatible with specific operations or functions. For instance, if a calculation returns a value qualified as “series”, the script cannot modify that value’s qualifier later to enable using it in code that requires “simple” or “const” values.</p>
<p>The following sections explain the behavior of each type qualifier, as well as the built-in keywords that programmers can use to specify qualifiers in their code.</p>
<h3 id="const" class="md-heading"><a href="#const"> <span class="fancy-wrap">const<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Values qualified as “const” are available at <em>compile time</em>, before the script starts its first execution. Compilation occurs when the user saves the script in the Pine Editor, and immediately before a script starts to run on the chart or in another location. Values with the “const” qualifier remain constant after compilation; they do not change during any script execution. All <em>literal values</em> and the results of expressions that use only values qualified as “const” automatically inherit the “const” qualifier.</p>
<p>The following list shows a few values of each <a href="/pine-script-docs/language/type-system/#types">fundamental type</a>. All of these represent literal values if a script includes them directly in its source code:</p>
<ul>
<li><em>literal int</em>: <code dir="auto">1</code>, <code dir="auto">-1</code>, <code dir="auto">42</code></li>
<li><em>literal float</em>: <code dir="auto">1.</code>, <code dir="auto">1.0</code>, <code dir="auto">3.14</code>, <code dir="auto">6.02E-23</code>, <code dir="auto">3e8</code></li>
<li><em>literal bool</em>: <code dir="auto">true</code>, <code dir="auto">false</code></li>
<li><em>literal color</em>: <code dir="auto">#FF55C6</code>, <code dir="auto">#FF55C6ff</code></li>
<li><em>literal string</em>: <code dir="auto">"A text literal"</code>, <code dir="auto">"Embedded single quotes 'text'"</code>, <code dir="auto">'Embedded double quotes "text"'</code></li>
</ul>
<p>Scripts can <a href="/pine-script-docs/language/variable-declarations/">declare variables</a> that hold “const” values, and use those variables to calculate other constants. In the example below, we use “const” variables to set the title of a script and its plots. The script compiles successfully, because the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_indicator">indicator()</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_plot">plot()</a> calls used in the code both require a <code dir="auto">title</code> argument of the <em>“const string”</em> qualified type:</p>
<div class="pine-colorizer not-content colorized" data-id="64q"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;All&nbsp;of&nbsp;the&nbsp;following&nbsp;global&nbsp;variables&nbsp;automatic</span><span class="mtk9">ally&nbsp;inherit&nbsp;the&nbsp;"const"&nbsp;qualifier,</span></span><br><span><span class="mtk9">//&nbsp;because&nbsp;their&nbsp;"string"&nbsp;values&nbsp;are&nbsp;constants&nbsp;tha</span><span class="mtk9">t&nbsp;are&nbsp;available&nbsp;at&nbsp;*compile&nbsp;time*.</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;indicator's&nbsp;title.</span></span><br><span><span class="mtk33">INDICATOR_TITLE</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"const&nbsp;demo"</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;title&nbsp;of&nbsp;the&nbsp;first&nbsp;plot.</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk33">PLOT1_TITLE</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"High"</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;title&nbsp;of&nbsp;the&nbsp;second&nbsp;plot.</span></span><br><span><span class="mtk33">PLOT2_TITLE</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Low"</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;title&nbsp;of&nbsp;the&nbsp;third&nbsp;plot.</span></span><br><span><span class="mtk33">PLOT3_TITLE</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Midpoint&nbsp;between&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk33">PLOT1_TITLE</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk29">"&nbsp;and&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk33">PLOT2_TITLE</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Set&nbsp;the&nbsp;title&nbsp;of&nbsp;the&nbsp;indicator&nbsp;using&nbsp;`INDICATOR</span><span class="mtk9">_TITLE`.</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk33">title</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">INDICATOR_TITLE</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Set&nbsp;the&nbsp;title&nbsp;of&nbsp;each&nbsp;plot&nbsp;using&nbsp;the&nbsp;`PLOT*_TIT</span><span class="mtk9">LE`&nbsp;variables.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">PLOT1_TITLE</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk11">low</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">PLOT2_TITLE</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk11">hl2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">PLOT3_TITLE</span><span class="mtk13">)</span></span><br></code></div>
<p>Note that:</p>
<ul>
<li>All the variables above the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_indicator">indicator()</a> call in this script have the “const” qualifier, because they hold a literal value or the result of <a href="/pine-script-docs/language/operators/">operations</a> that use only “const” values.</li>
<li>All our “const” variables in this example have names in <em>uppercase snake case</em> so that they are easy to distinguish in the code, as recommended by our <a href="/pine-script-docs/writing/style-guide/">Style guide</a>.</li>
<li>Although the “const” variables in this script hold constant values, the script initializes them on <em>every bar</em>. The only exception is <code dir="auto">PLOT1_TITLE</code>, which the script initializes only on the <em>first</em> bar, because its declaration includes the <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_var">var</a> keyword. See the <a href="/pine-script-docs/language/variable-declarations/#declaration-modes">Declaration modes</a> section of the <a href="/pine-script-docs/language/variable-declarations/">Variable declarations</a> page to learn more.</li>
</ul>
<p>Any variable or function parameter that requires a “const” value <em>cannot</em> accept a value with the “input”, “simple”, or “series” qualifier, because “const” is the <em>lowest</em> qualifier in the <a href="/pine-script-docs/language/type-system/#qualifiers">qualifier hierarchy</a>.</p>
<p>For example, the following script combines a literal string with the value of <a href="https://www.tradingview.com/pine-script-reference/v6/#var_syminfo.ticker">syminfo.ticker</a> to set the value of a <code dir="auto">scriptTitle</code> variable. Then, it attempts to use the variable as the <code dir="auto">title</code> argument of the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_indicator">indicator()</a> declaration statement, causing a <em>compilation error</em>. The <code dir="auto">title</code> parameter requires a “const string” argument, but <code dir="auto">scriptTitle</code> holds a value of the type <em>“simple string”</em>:</p>
<div class="pine-colorizer not-content colorized" data-id="2zd"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Holds&nbsp;a&nbsp;value&nbsp;intended&nbsp;for&nbsp;use&nbsp;as&nbsp;the&nbsp;`title`&nbsp;arg</span><span class="mtk9">ument&nbsp;in&nbsp;the&nbsp;`indicator()`&nbsp;call.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;However,&nbsp;this&nbsp;variable's&nbsp;type&nbsp;is&nbsp;"simp</span><span class="mtk9">le&nbsp;string",&nbsp;not&nbsp;"const&nbsp;string",&nbsp;because&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;value&nbsp;of&nbsp;`syminfo.ticker`&nbsp;is&nbsp;not&nbsp;a</span><span class="mtk9">vailable&nbsp;until&nbsp;*after*&nbsp;compilation.</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk33">scriptTitle</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"My&nbsp;indicator&nbsp;for&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk11">syminfo.ticker</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;This&nbsp;statement&nbsp;causes&nbsp;an&nbsp;error.&nbsp;The&nbsp;`indicator(</span><span class="mtk9">)`&nbsp;statement&nbsp;cannot&nbsp;use&nbsp;a&nbsp;"simple&nbsp;string"</span></span><br><span><span class="mtk9">//&nbsp;value&nbsp;as&nbsp;its&nbsp;`title`&nbsp;argument.&nbsp;It&nbsp;requires&nbsp;a&nbsp;"c</span><span class="mtk9">onst&nbsp;string"&nbsp;value.</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk33">title</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">scriptTitle</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk11">open</span><span class="mtk13">)</span></span><br></code></div>
<p>Note that:</p>
<ul>
<li>The <a href="https://www.tradingview.com/pine-script-reference/v6/#var_syminfo.ticker">syminfo.ticker</a> variable holds a “simple string” value because it depends on data that is available only at <em>runtime</em>. Combining this value with a literal string produces another “simple string” value, because “simple” is a stronger qualifier than “const”.</li>
<li>We did not name the <code dir="auto">scriptTitle</code> variable using snake case, because our <a href="/pine-script-docs/writing/style-guide/">Style guide</a> recommends using <em>lower camel case</em> to name variables that do not hold “const” values.</li>
</ul>
<p>Programmers can restrict the behavior of a variable and force <em>constant assignments</em> on each execution by prefixing its declaration with the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_const">const</a> keyword, followed by a <a href="/pine-script-docs/language/type-system/#types">type keyword</a> or type identifier. If a variable includes <a href="https://www.tradingview.com/pine-script-reference/v6/#type_const">const</a> in its declaration, the script cannot <em>change</em> its value with the reassignment or compound assignment <a href="/pine-script-docs/language/operators/">operators</a>. This restriction applies even if the new assigned value is still a constant.</p>
<p>For example, the script below declares a <code dir="auto">myVar</code> variable using the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_const">const</a> keyword. Then, it attempts to change the variable’s value with the <a href="https://www.tradingview.com/pine-script-reference/v6/#op_+=">+=</a> operator, causing a compilation error:</p>
<div class="pine-colorizer not-content colorized" data-id="4s4"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Cannot&nbsp;reassign&nbsp;`const`&nbsp;variable&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;"float"&nbsp;variable&nbsp;declared&nbsp;using&nbsp;the&nbsp;`const`&nbsp;key</span><span class="mtk9">word.</span></span><br><span><span class="mtk18 mtkb">const</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">myVar</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0.0</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Using&nbsp;the&nbsp;`+=`&nbsp;operator&nbsp;on&nbsp;`myVar`&nbsp;causes&nbsp;an&nbsp;er</span><span class="mtk9">ror,&nbsp;because&nbsp;scripts&nbsp;*cannot*&nbsp;modify&nbsp;variables&nbsp;dec</span><span class="mtk9">lared&nbsp;using&nbsp;`const`.</span></span><br><span><span class="mtk33">myVar</span><span class="mtk1">&nbsp;</span><span class="mtk18">+=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1.0</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">myVar</span><span class="mtk13">)</span></span><br></code></div>
<p>For a variable of any <a href="/pine-script-docs/language/type-system/#value-types">value type</a>, applying the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_const">const</a> keyword to the declaration prevents the script from assigning a value qualified as “input”, “simple”, or “series”. Likewise, if a <a href="/pine-script-docs/language/user-defined-functions/">user-defined function</a> parameter of these types includes the keyword in its declaration, it accepts only “const” values.</p>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>Using the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_const">const</a> keyword in a script is usually optional. However, the keyword is required when defining <em>exported variables</em> in <a href="/pine-script-docs/concepts/libraries/">libraries</a>.</p></div></aside>
<p>The following script attempts to use the value of the <a href="https://www.tradingview.com/pine-script-reference/v6/#var_close">close</a> variable as the initial value of a <code dir="auto">myVar</code> variable declared using the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_const">const</a> keyword. However, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_close">close</a> is <em>not compatible</em> with the variable, so a compilation error occurs. The value of <a href="https://www.tradingview.com/pine-script-reference/v6/#var_close">close</a> is of the type <em>“series float”</em>, because it updates from bar to bar, but the <code dir="auto">myVar</code> variable requires a “const float” value:</p>
<div class="pine-colorizer not-content colorized" data-id="15v"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Cannot&nbsp;assign&nbsp;values&nbsp;with&nbsp;stronger&nbsp;qualifiers&nbsp;dem</span><span class="mtk29">o"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;This&nbsp;declaration&nbsp;causes&nbsp;an&nbsp;error.&nbsp;The&nbsp;value&nbsp;of&nbsp;</span><span class="mtk9">`close`&nbsp;is&nbsp;of&nbsp;the&nbsp;type&nbsp;"series&nbsp;float",&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;but&nbsp;`myVar`&nbsp;accepts&nbsp;only&nbsp;a&nbsp;"const&nbsp;float"&nbsp;value.</span><span class="mtk9">&nbsp;</span></span><br><span><span class="mtk18 mtkb">const</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">myVar</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">myVar</span><span class="mtk13">)</span></span><br></code></div>
<p>Note that:</p>
<ul>
<li>If we remove the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_const">const</a> keyword from the variable declaration, the <code dir="auto">myVar</code> variable automatically inherits the “series” qualifier, and no error occurs.</li>
</ul>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>Scripts can also use the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_const">const</a> keyword when declaring variables of most <a href="/pine-script-docs/language/type-system/#types">special types</a>, such as <a href="https://www.tradingview.com/pine-script-reference/v6/#type_line">line</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_label">label</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#type_array">array</a> types. However, this keyword <strong>does not</strong> set the <em>qualifier</em> of these variables; it only prevents the script from changing the variable’s assigned <em>reference (ID)</em> during each execution. Special types and other reference types <em>always</em> inherit the “series” qualifier. See the <a href="/pine-script-docs/language/type-system/#value-vs-reference-types">Value vs. reference types</a> section for advanced details.</p></div></aside>
<h3 id="input" class="md-heading"><a href="#input"> <span class="fancy-wrap">input<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Values qualified as “input” are established at <em>input time</em>. They are similar to “const” values, because they are available before the first script execution and never change during runtime. However, unlike “const” values, “input” values depend on user input.</p>
<p>All function parameters that have the “input” qualifier can accept only “input” or “const” values; they do not allow values qualified as “simple” or “series”.</p>
<p>Most of the built-in <code dir="auto">input.*()</code> functions return values qualified as “input”. These functions create adjustable <a href="/pine-script-docs/concepts/inputs/">inputs</a> in the script’s “Settings/Inputs” tab, enabling users to change specific values in a script without altering its source code. Each time the user changes the value of an input, the script <em>reloads</em> across all bars on the chart — from the first available bar to the most recent bar — to update its results using the specified value, as explained in the <a href="/pine-script-docs/language/execution-model/">Execution model</a> page.</p>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>The only <code dir="auto">input*()</code> function that does <em>not</em> return a value qualified as “input” is <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_input.source">input.source()</a>. That function returns the value of a built-in price series, such as <a href="https://www.tradingview.com/pine-script-reference/v6/#var_close">close</a>, or a value from another script’s <a href="/pine-script-docs/visuals/plots/">plots</a>. Therefore, its return type is <em>“series float”</em>, which is not compatible with code that requires “input float” values. See the <a href="/pine-script-docs/concepts/inputs/#source-input">Source input</a> section of the <a href="/pine-script-docs/concepts/inputs/">Inputs</a> page to learn more.</p></div></aside>
<p>The following script requests the value of an <a href="https://www.tradingview.com/support/solutions/43000502338-relative-strength-index-rsi/">RSI</a> calculated on the dataset for a specific symbol and timeframe, and then plots the result on the chart as columns. The script includes two <a href="/pine-script-docs/concepts/inputs/#string-input">string inputs</a> that specify the context of the request, and it uses a <a href="/pine-script-docs/concepts/inputs/#float-input">float input</a> value to set the base of the plotted columns. If the user changes any of these inputs in the “Settings/Inputs” tab, the script reloads to update its results for every bar:</p>
<div class="pine-colorizer not-content colorized" data-id="oo"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"'input'&nbsp;values&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;An&nbsp;"input&nbsp;string"&nbsp;value&nbsp;representing&nbsp;the&nbsp;requeste</span><span class="mtk9">d&nbsp;symbol.</span></span><br><span><span class="mtk33">symbolInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.string</span><span class="mtk13">(</span><span class="mtk29">"AAPL"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Symbol"</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;An&nbsp;"input&nbsp;string"&nbsp;value&nbsp;representing&nbsp;the&nbsp;timefram</span><span class="mtk9">e&nbsp;of&nbsp;the&nbsp;requested&nbsp;data.</span></span><br><span><span class="mtk33">timeframeInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.string</span><span class="mtk13">(</span><span class="mtk29">"1D"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Timeframe"</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;An&nbsp;"input&nbsp;float"&nbsp;value&nbsp;for&nbsp;specifying&nbsp;the&nbsp;base&nbsp;of</span><span class="mtk9">&nbsp;the&nbsp;plotted&nbsp;columns.</span></span><br><span><span class="mtk33">colBaseInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.float</span><span class="mtk13">(</span><span class="mtk12">50.0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Column&nbsp;base"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0.0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">100.0</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;value&nbsp;of&nbsp;an&nbsp;RSI&nbsp;calculated&nbsp;on&nbsp;the&nbsp;`symbolInpu</span><span class="mtk9">t`&nbsp;symbol&nbsp;and&nbsp;`timeframeInput`&nbsp;timeframe.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;`request.security()`&nbsp;function's&nbsp;`s</span><span class="mtk9">ymbol`&nbsp;and&nbsp;`timeframe`&nbsp;parameters&nbsp;accept&nbsp;"series&nbsp;s</span><span class="mtk9">tring"&nbsp;values,&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;so&nbsp;they&nbsp;also&nbsp;allow&nbsp;weaker&nbsp;qualified&nbsp;ty</span><span class="mtk9">pes&nbsp;such&nbsp;as&nbsp;"input&nbsp;string".</span></span><br><span><span class="mtk33">requestedRSI</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk33">symbol</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">symbolInput</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframeInput</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">expression</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rsi</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">14</span><span class="mtk13">))</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`requestedRSI`&nbsp;value&nbsp;as&nbsp;columns&nbsp;with&nbsp;t</span><span class="mtk9">he&nbsp;base&nbsp;defined&nbsp;by&nbsp;`colBaseInput`.&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;This&nbsp;call&nbsp;works,&nbsp;because&nbsp;`histbase`&nbsp;requires&nbsp;an</span><span class="mtk9">&nbsp;"int"&nbsp;or&nbsp;"float"&nbsp;value&nbsp;with&nbsp;the&nbsp;"const"&nbsp;or&nbsp;"input</span><span class="mtk9">"&nbsp;qualifier.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">requestedRSI</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"RSI"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">plot.style_columns</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">histbase</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">colBaseInput</span><span class="mtk13">)</span></span><br></code></div>
<p>Note that:</p>
<ul>
<li>The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_plot">plot()</a> function’s <code dir="auto">histbase</code> parameter, which sets the base of the plotted columns, has the expected type “input int” or “input float”. As such, it cannot accept “simple int/float” or “series int/float” values, because “simple” and “series” are stronger qualifiers than “input”.</li>
<li>The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_request.security">request.security()</a> function requests data from a specified dataset. Its <code dir="auto">symbol</code> and <code dir="auto">timeframe</code> parameters, which define the context of the request, accept “series string” values by default. Therefore, these parameters also accept “input string” values. See the <a href="/pine-script-docs/concepts/other-timeframes-and-data/">Other timeframes and data</a> page to learn more about <code dir="auto">request.*()</code> functions.</li>
</ul>
<p>Some built-in <code dir="auto">chart.*</code> variables also hold “input” values, because these variables update at input time based on changes to the <em>chart</em>. Scripts that use these variables reload, executing across the entire dataset again, if any chart changes affect their values.</p>
<p>The example below uses some of these variables to display a gradient background color that incrementally changes over the chart’s visible bars. It uses <a href="https://www.tradingview.com/pine-script-reference/v6/#var_chart.left_visible_bar_time">chart.left_visible_bar_time</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#var_chart.right_visible_bar_time">chart.right_visible_bar_time</a> to get the timestamps of the leftmost and rightmost visible bars for its calculation, and it uses <a href="https://www.tradingview.com/pine-script-reference/v6/#var_chart.bg_color">chart.bg_color</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#var_chart.fg_color">chart.fg_color</a> to define the start and end colors of the gradient. If the user scrolls or zooms on the chart, or changes the chart’s background color, the script reloads to generate new results:</p>
<div class="pine-colorizer not-content colorized" data-id="6r6"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Built-in&nbsp;'input'&nbsp;variables&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;difference&nbsp;between&nbsp;`time`&nbsp;and&nbsp;the&nbsp;leftmost&nbsp;vi</span><span class="mtk9">sible&nbsp;bar's&nbsp;time,&nbsp;relative&nbsp;to&nbsp;the&nbsp;visible&nbsp;range.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;`chart.*`&nbsp;variables&nbsp;in&nbsp;this&nbsp;calcul</span><span class="mtk9">ation&nbsp;depend&nbsp;on&nbsp;input&nbsp;data&nbsp;from&nbsp;the&nbsp;visible&nbsp;chart,</span><span class="mtk9">&nbsp;so&nbsp;their&nbsp;type&nbsp;is</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"input&nbsp;int".</span></span><br><span><span class="mtk33">gradientValue</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk11">time</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk11">chart.left_visible_bar_time</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk11">chart.right_visible_bar_time</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk11">chart.left_visible_bar_time</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;gradient&nbsp;color.&nbsp;The&nbsp;`chart.*`&nbsp;variables&nbsp;in&nbsp;th</span><span class="mtk9">is&nbsp;calculation&nbsp;are&nbsp;of&nbsp;the&nbsp;type&nbsp;"input&nbsp;color",&nbsp;beca</span><span class="mtk9">use&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;they&nbsp;depend&nbsp;on&nbsp;the&nbsp;"Background"&nbsp;inputs</span><span class="mtk9">&nbsp;in&nbsp;the&nbsp;"Canvas"&nbsp;tab&nbsp;of&nbsp;the&nbsp;chart's&nbsp;settings.&nbsp;</span></span><br><span><span class="mtk33">gradientColor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.from_gradient</span><span class="mtk13">(</span><span class="mtk33">gradientValue</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">chart.bg_color</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">chart.fg_color</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Color&nbsp;the&nbsp;background&nbsp;using&nbsp;the&nbsp;`gradientColor`&nbsp;</span><span class="mtk9">value.</span></span><br><span><span class="mtk16">bgcolor</span><span class="mtk13">(</span><span class="mtk33">gradientColor</span><span class="mtk13">)</span></span><br></code></div>
<h3 id="simple" class="md-heading"><a href="#simple"> <span class="fancy-wrap">simple<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Values qualified as “simple” are established at runtime, while the script executes on the <em>first</em> available bar. Similar to values qualified as “input” or “const”, “simple” values <em>do not change</em> across bars.</p>
<p>All variables and function parameters that have the “simple” qualifier can accept only “simple”, “input”, or “const” values; they do not allow values qualified as “series”.</p>
<p>Many <a href="/pine-script-docs/language/built-ins/#built-in-variables">built-in variables</a>, such as most <code dir="auto">syminfo.*</code> and <code dir="auto">timeframe.*</code> variables, hold “simple” values instead of “const” or “input” because they depend on information that a script can obtain only <em>after</em> it starts running on a dataset. Likewise, various <a href="/pine-script-docs/language/built-ins/#built-in-functions">built-in function</a> parameters require values with the “simple” qualifier or a weaker one.</p>
<p>The following script uses <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_request.security">request.security()</a> with a <code dir="auto">calc_bars_count</code> argument to retrieve a limited history of daily <a href="https://www.tradingview.com/pine-script-reference/v6/#var_close">close</a> values. It determines the number of historical days in the request based on the “simple string” value of <a href="https://www.tradingview.com/pine-script-reference/v6/#var_syminfo.type">syminfo.type</a>. For cryptocurrency symbols, the call requests 14 days of historical data. For other symbols, it requests 10 days of data. The script compiles successfully because the <code dir="auto">reqDays</code> variable holds the type “simple int”, which matches the expected type for the <code dir="auto">calc_bars_count</code> parameter:</p>
<div class="pine-colorizer not-content colorized" data-id="222"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"'simple'&nbsp;values&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;number&nbsp;of&nbsp;historical&nbsp;days&nbsp;in&nbsp;the&nbsp;data&nbsp;request</span><span class="mtk9">.&nbsp;This&nbsp;variable's&nbsp;type&nbsp;is&nbsp;"simple&nbsp;int",</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;because&nbsp;the&nbsp;strongest&nbsp;qualified&nbsp;type&nbsp;i</span><span class="mtk9">n&nbsp;the&nbsp;calculation&nbsp;is&nbsp;"simple&nbsp;string".</span></span><br><span><span class="mtk33">reqDays</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">syminfo.type</span><span class="mtk1">&nbsp;</span><span class="mtk18">==</span><span class="mtk1">&nbsp;</span><span class="mtk29">"crypto"</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk12">14</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk12">10</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;`close`&nbsp;value&nbsp;from&nbsp;the&nbsp;"1D"&nbsp;timeframe.&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;call&nbsp;works&nbsp;because&nbsp;`calc_bars_cou</span><span class="mtk9">nt`&nbsp;expects&nbsp;a&nbsp;"simple&nbsp;int"&nbsp;argument.</span></span><br><span><span class="mtk33">requestedClose</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"1D"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">calc_bars_count</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">reqDays</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">requestedClose</span><span class="mtk13">)</span></span><br></code></div>
<p>Programmers can explicitly define variables and parameters that require “simple” values, or values with a weaker qualifier, by prefixing their declaration with the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_simple">simple</a> keyword, followed by a <a href="/pine-script-docs/language/type-system/#types">type keyword</a>. Variables declared with this keyword can hold runtime-calculated values that do not change across bars. These variables cannot accept values qualified as “series”, even if those values remain consistent on every bar.</p>
<p>The script below attempts to assign the result of a <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_math.random">math.random()</a> call to a <code dir="auto">rand</code> variable declared with the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_simple">simple</a> keyword, causing a compilation error. The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_math.random">math.random()</a> function returns a <em>different value</em> on each call, meaning its return type is “series float”. However, the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_simple">simple</a> keyword forces the <code dir="auto">rand</code> variable to require a “simple float”, “input float”, or “const float” value:</p>
<div class="pine-colorizer not-content colorized" data-id="4n5"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Cannot&nbsp;assign&nbsp;a&nbsp;'series'&nbsp;value&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;This&nbsp;declaration&nbsp;causes&nbsp;an&nbsp;error.&nbsp;`math.random(</span><span class="mtk9">)`&nbsp;returns&nbsp;a&nbsp;"series&nbsp;float"&nbsp;value,&nbsp;but&nbsp;the&nbsp;`rand`&nbsp;</span><span class="mtk9">variable&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;requires&nbsp;a&nbsp;"float"&nbsp;value&nbsp;with&nbsp;the&nbsp;"simple"&nbsp;qual</span><span class="mtk9">ifier&nbsp;or&nbsp;a&nbsp;weaker&nbsp;one.</span></span><br><span><span class="mtk18 mtkb">simple</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">rand</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.random</span><span class="mtk13">()</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">rand</span><span class="mtk13">)</span></span><br></code></div>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>Using the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_simple">simple</a> keyword is optional in most cases. However, the keyword is required to define exported <em>library functions</em> that accept only arguments with “simple” or weaker qualifiers and return “simple” results. See the <a href="/pine-script-docs/concepts/libraries/">Libraries</a> page to learn more.</p></div></aside>
<h3 id="series" class="md-heading"><a href="#series"> <span class="fancy-wrap">series<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Values qualified as “series” provide the most flexibility in a script’s calculations. These values are available at runtime, and they are the <strong>only</strong> values that can <em>change</em> from bar to bar.</p>
<p>All variables and function parameters that accept a “series” value also allow values with any other qualifier, because “series” is the <em>highest</em> qualifier in the <a href="/pine-script-docs/language/type-system/#qualifiers">qualifier hierarchy</a>.</p>
<p>All built-in variables that store bar information — such as <a href="https://www.tradingview.com/pine-script-reference/v6/#var_open">open</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_high">high</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_low">low</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_close">close</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_volume">volume</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_time">time</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_bar_index">bar_index</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#var_barstate.isconfirmed">barstate.isconfirmed</a> — always hold “series” values. The same applies to variables that store data from internal calculations that update from bar to bar, such as <a href="https://www.tradingview.com/pine-script-reference/v6/#var_ta.vwap">ta.vwap</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#var_ta.pvi">ta.pvi</a>.</p>
<p>If an expression’s result <em>can vary</em> on any execution, it automatically inherits the “series” qualifier. Similarly, even if an expression returns an unchanging result on every bar, that result is still qualified as “series” if the calculation depends on at least one “series” value.</p>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span><a href="/pine-script-docs/language/type-system/#types">Special types</a> and <a href="/pine-script-docs/language/type-system/#user-defined-types">user-defined types</a> automatically inherit the “series” qualifier, meaning any calculation involving these types returns “series” results. Scripts <strong>cannot</strong> create instances of these types with weaker qualifiers such as “simple” or “const”. See the <a href="/pine-script-docs/language/type-system/#reference-types">reference types</a> section for more information.</p></div></aside>
<p>The following script calculates highest and lowest values from a <code dir="auto">sourceInput</code> series and a “const float” value over <code dir="auto">lengthInput</code> bars. The <code dir="auto">highest</code> and <code dir="auto">lowest</code> variables automatically inherit the “series” qualifier because the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_ta.highest">ta.highest()</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_ta.lowest">ta.lowest()</a> functions always return “series” results. These functions never return a value with a weaker qualifier, even if they calculate on a constant, because their <code dir="auto">source</code> parameter is of the type “series float”:</p>
<div class="pine-colorizer not-content colorized" data-id="db"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"'series'&nbsp;values&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;source&nbsp;series&nbsp;to&nbsp;process&nbsp;in&nbsp;the&nbsp;`ta.highest()</span><span class="mtk9">`&nbsp;call.&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;variable's&nbsp;type&nbsp;is&nbsp;"series&nbsp;float"</span><span class="mtk9">,&nbsp;because&nbsp;`input.source()`&nbsp;returns&nbsp;"series"&nbsp;values</span><span class="mtk9">.</span></span><br><span><span class="mtk33">sourceInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.source</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Source"</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;number&nbsp;of&nbsp;bars&nbsp;to&nbsp;analyze.&nbsp;This&nbsp;variable's&nbsp;ty</span><span class="mtk9">pe&nbsp;is&nbsp;"input&nbsp;int".</span></span><br><span><span class="mtk33">lengthInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">20</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Length"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;highest&nbsp;`sourceInput`&nbsp;value&nbsp;over&nbsp;`lengthInput</span><span class="mtk9">`&nbsp;bars.&nbsp;This&nbsp;variable's&nbsp;type&nbsp;is&nbsp;"series&nbsp;float".</span></span><br><span><span class="mtk33">highest</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.highest</span><span class="mtk13">(</span><span class="mtk33">source</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">sourceInput</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">lengthInput</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;result&nbsp;of&nbsp;calculating&nbsp;the&nbsp;lowest&nbsp;value&nbsp;from&nbsp;a</span><span class="mtk9">&nbsp;constant.&nbsp;This&nbsp;variable's&nbsp;type&nbsp;is&nbsp;also&nbsp;"series&nbsp;fl</span><span class="mtk9">oat".&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;`source`&nbsp;parameter's&nbsp;type&nbsp;is&nbsp;"seri</span><span class="mtk9">es&nbsp;float",&nbsp;so&nbsp;the&nbsp;function&nbsp;returns&nbsp;a&nbsp;"series&nbsp;float</span><span class="mtk9">"&nbsp;value,&nbsp;regardless&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;argument's&nbsp;type&nbsp;qualifier.&nbsp;</span></span><br><span><span class="mtk33">lowest</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.lowest</span><span class="mtk13">(</span><span class="mtk33">source</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">100.0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">lengthInput</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">highest</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Highest"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.green</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">lowest</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"Lowest"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk11">color.red</span><span class="mtk13">)</span></span><br></code></div>
<p>Programmers can use the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_series">series</a> keyword to explicitly define variables and parameters that accept “series” values. A script cannot use a variable declared using this keyword in any part of the code that requires “simple” or weaker qualifiers, even if the variable’s assigned value never changes.</p>
<p>For example, the script below declares a <code dir="auto">lengthInput</code> variable with the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_series">series</a> keyword. Then, it attempts to use the variable as the <code dir="auto">length</code> argument of a <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_ta.ema">ta.ema()</a> function call, causing a compilation error. Although the variable’s value comes from an <a href="/pine-script-docs/concepts/inputs/#integer-input">integer input</a>, the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_series">series</a> keyword causes its type to become “series int” instead of “input int”. This type is not compatible with the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_ta.ema">ta.ema()</a> function’s <code dir="auto">length</code> parameter, because the strongest qualified type that the parameter accepts is “simple int”:</p>
<div class="pine-colorizer not-content colorized" data-id="2fl"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"`series`&nbsp;keyword&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Holds&nbsp;a&nbsp;value&nbsp;intended&nbsp;for&nbsp;use&nbsp;as&nbsp;the&nbsp;`length`&nbsp;ar</span><span class="mtk9">gument&nbsp;in&nbsp;`ta.ema()`.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Although&nbsp;the&nbsp;variable's&nbsp;value&nbsp;is&nbsp;from&nbsp;</span><span class="mtk9">an&nbsp;input,&nbsp;its&nbsp;type&nbsp;is&nbsp;"series&nbsp;int"&nbsp;because&nbsp;the&nbsp;dec</span><span class="mtk9">laration&nbsp;uses&nbsp;the&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`series`&nbsp;keyword.</span></span><br><span><span class="mtk18 mtkb">series</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">lengthInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">20</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Length"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;This&nbsp;function&nbsp;call&nbsp;causes&nbsp;an&nbsp;error.&nbsp;The&nbsp;`length</span><span class="mtk9">`&nbsp;parameter&nbsp;requires&nbsp;a&nbsp;"simple&nbsp;int",&nbsp;"input&nbsp;int",&nbsp;</span><span class="mtk9">or&nbsp;"const&nbsp;int"</span></span><br><span><span class="mtk9">//&nbsp;argument;&nbsp;it&nbsp;cannot&nbsp;accept&nbsp;a&nbsp;"series&nbsp;int"&nbsp;value</span><span class="mtk9">.&nbsp;</span></span><br><span><span class="mtk33">ema</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.ema</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">lengthInput</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">ema</span><span class="mtk13">)</span></span><br></code></div>
<h2 id="types" class="md-heading"><a href="#types"> <span class="fancy-wrap">Types<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p>Types define the <em>categories</em> of values in a script and determine the kinds of functions and operations with which those values are compatible. Each type represents a different kind of data. The primary types available in Pine Script consist of the following:</p>
<ul>
<li>Fundamental types: <a href="/pine-script-docs/language/type-system/#int">int</a>, <a href="/pine-script-docs/language/type-system/#float">float</a>, <a href="/pine-script-docs/language/type-system/#bool">bool</a>, <a href="/pine-script-docs/language/type-system/#color">color</a>, and <a href="/pine-script-docs/language/type-system/#string">string</a></li>
<li><a href="/pine-script-docs/language/type-system/#enum-types">Enum types (enums)</a></li>
<li>Special types: <a href="/pine-script-docs/language/type-system/#plot-and-hline">plot</a>, <a href="/pine-script-docs/language/type-system/#plot-and-hline">hline</a>, <a href="/pine-script-docs/language/type-system/#drawing-types">line</a>, <a href="/pine-script-docs/language/type-system/#drawing-types">linefill</a>, <a href="/pine-script-docs/language/type-system/#drawing-types">box</a>, <a href="/pine-script-docs/language/type-system/#drawing-types">polyline</a>, <a href="/pine-script-docs/language/type-system/#drawing-types">label</a>, <a href="/pine-script-docs/language/type-system/#drawing-types">table</a>, <a href="/pine-script-docs/language/type-system/#chart-points">chart.point</a>, <a href="/pine-script-docs/language/type-system/#collections">array</a>, <a href="/pine-script-docs/language/type-system/#collections">matrix</a>, and <a href="/pine-script-docs/language/type-system/#collections">map</a></li>
<li><a href="/pine-script-docs/language/type-system/#user-defined-types">User-defined types (UDTs)</a></li>
<li><a href="/pine-script-docs/language/type-system/#void">void</a></li>
</ul>
<p>Fundamental types and enum types are also known as <a href="/pine-script-docs/language/type-system/#value-types">value types</a>. Variables of these types directly hold values. Additionally, value types can inherit any <a href="/pine-script-docs/language/type-system/#qualifiers">type qualifier</a>, depending on their use in the code. By contrast, special types and UDTs are <a href="/pine-script-docs/language/type-system/#reference-types">reference types</a>. Variables of these types do not store direct values; they hold <em>references</em> (sometimes referred to as <em>IDs</em>) that provide access to data stored <em>elsewhere</em> in memory. Instances of these types always inherit the “series” qualifier, regardless of how the script uses them.</p>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>Pine Script also includes a set of <em>unique value types</em>. These types are compatible only with specific built-in parameters and operators. For example, <a href="https://www.tradingview.com/pine-script-reference/v6/#const_plot.style_line">plot.style_line</a> and other <code dir="auto">plot.style_*</code> constants are of the <em>“plot_style”</em> type. A value of this type is required only by the <code dir="auto">style</code> parameter of the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_plot">plot()</a> function; other built-ins <em>cannot</em> use it. The only other way scripts can use <code dir="auto">plot.style_*</code> constants is by assigning their values to separate variables or comparing them with the <a href="https://www.tradingview.com/pine-script-reference/v6/#op_==">==</a> or <a href="https://www.tradingview.com/pine-script-reference/v6/#op_!=">!=</a> operators. See the “Constants” section of the <a href="https://www.tradingview.com/pine-script-reference/v6/">Reference Manual</a> to learn about other unique types and their uses.</p></div></aside>
<p>Programmers can explicitly define the type of a variable, function parameter, or field by prefixing its declaration with a <em>type keyword</em> (e.g., <a href="https://www.tradingview.com/pine-script-reference/v6/#type_int">int</a>) or a <em>type identifier</em> (e.g., <code dir="auto">array&lt;int&gt;</code>). Specifying types in code is usually optional, because the compiler can automatically determine type information in most cases. However, type specification is <em>required</em> when:</p>
<ul>
<li>Declaring <a href="/pine-script-docs/language/variable-declarations/">variables</a>, <a href="/pine-script-docs/language/user-defined-functions/">user-defined function</a> parameters, or <a href="/pine-script-docs/language/type-system/#user-defined-types">UDT</a> fields with initial <a href="/pine-script-docs/language/type-system/#na-value"><code dir="auto">na</code> values</a>.</li>
<li>Defining the parameters of exported <a href="/pine-script-docs/concepts/libraries/#library-functions">library functions</a>, or declaring exported constants.</li>
<li>Using <a href="/pine-script-docs/language/type-system/#qualifiers">qualifier keywords</a> in a variable or parameter declaration.</li>
<li>Declaring the first parameter of a <a href="/pine-script-docs/language/methods/#user-defined-methods">user-defined method</a>.</li>
</ul>
<aside aria-label="Tip" class="tv-informer not-content" style="--informer-header-color:#089981;--informer-back-color-light:#DAF2EE;--informer-back-color-dark:#082621"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm3.87-12.15c.36.2.49.66.28 1.02l-4 7a.75.75 0 0 1-1.18.16l-3-3a.75.75 0 1 1 1.06-1.06l2.3 2.3 3.52-6.14a.75.75 0 0 1 1.02-.28Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Tip</span>Even when specifying a type in the code is not mandatory, doing so helps to promote code readability. Additionally, using type keywords helps the Pine Editor provide relevant code suggestions.</p></div></aside>
<p>The example below calculates a moving average and detects when the <a href="https://www.tradingview.com/pine-script-reference/v6/#var_close">close</a> series crosses over the value. The script uses values of different fundamental types in its calculations. It includes the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_int">int</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_float">float</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_bool">bool</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_color">color</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#type_string">string</a> keywords in its variable declarations to specify which type each variable accepts:</p>
<div class="pine-colorizer not-content colorized" data-id="11p"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Type&nbsp;keywords&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;The&nbsp;`string`,&nbsp;`int`,&nbsp;`float`,&nbsp;`bool`&nbsp;and&nbsp;`color</span><span class="mtk9">`&nbsp;keywords&nbsp;are&nbsp;*optional*&nbsp;in&nbsp;the&nbsp;following&nbsp;variabl</span><span class="mtk9">e&nbsp;declarations:</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">MA_TITLE</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"MA"</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">lengthInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">100</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Length"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">minval</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk33">ma</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.sma</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lengthInput</span><span class="mtk13">)</span></span><br><span><span class="mtk18 mtkb">bool</span><span class="mtk1">&nbsp;&nbsp;&nbsp;</span><span class="mtk33">crossUp</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossover</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">ma</span><span class="mtk13">)</span></span><br><span><span class="mtk18 mtkb">color</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk33">maColor</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">ma</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.lime</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.fuchsia</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Specifying&nbsp;a&nbsp;type&nbsp;is&nbsp;required&nbsp;in&nbsp;this&nbsp;declarati</span><span class="mtk9">on,&nbsp;because&nbsp;the&nbsp;variable's&nbsp;initial&nbsp;value&nbsp;is&nbsp;`na`.</span></span><br><span><span class="mtk9">//&nbsp;The&nbsp;`float`&nbsp;keyword&nbsp;tells&nbsp;the&nbsp;compiler&nbsp;that&nbsp;the</span><span class="mtk9">&nbsp;variable&nbsp;accepts&nbsp;"float"&nbsp;values.</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">crossValue</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Update&nbsp;the&nbsp;`crossValue`&nbsp;variable&nbsp;based&nbsp;on&nbsp;the&nbsp;`</span><span class="mtk9">crossUp`&nbsp;condition.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">crossUp</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">crossValue</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">ma</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">MA_TITLE</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">maColor</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">crossValue</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Cross&nbsp;value"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">style</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">plot.style_circles</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">crossUp</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Cross&nbsp;Up"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"▲"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.belowbar</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.small</span><span class="mtk13">)</span></span><br></code></div>
<p>Note that:</p>
<ul>
<li>The first five variables in this script <em>do not</em> require type keywords in their declarations, but including them helps promote readability. However, the <code dir="auto">crossValue</code> variable <em>does</em> require a specified type in its declaration because its initial value is <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a>.</li>
</ul>
<aside aria-label="Tip" class="tv-informer not-content" style="--informer-header-color:#089981;--informer-back-color-light:#DAF2EE;--informer-back-color-dark:#082621"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm3.87-12.15c.36.2.49.66.28 1.02l-4 7a.75.75 0 0 1-1.18.16l-3-3a.75.75 0 1 1 1.06-1.06l2.3 2.3 3.52-6.14a.75.75 0 0 1 1.02-.28Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Tip</span>To confirm a variable’s type, hover over its identifier in the Pine Editor. The editor displays a pop-up window containing the name of the variable’s type and additional information about the variable.</p></div></aside>
<p>The sections below explain the different types available in Pine Script and how they work.</p>
<h3 id="value-types" class="md-heading"><a href="#value-types">Value <span class="fancy-wrap">types<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>The types covered in the following sections are <em>value types</em>. These types directly represent values, such as numbers, logical conditions, colors, or text sequences. Value types are compatible with any <a href="/pine-script-docs/language/type-system/#qualifiers">type qualifier</a>, depending on their use in the code. Additionally, value types, unlike reference types, are compatible with arithmetic and logical <a href="/pine-script-docs/language/operators/">operators</a>.</p>
<h4 id="int" class="md-heading"><a href="#int"> <span class="fancy-wrap">int<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Values of the “int” type represent <em>integers</em>: whole numbers <em>without</em> fractional parts.</p>
<p>Literal integers in a script are sequences of decimal digits without a decimal point (<code dir="auto">.</code>). These literals can also include the <em>unary</em> <a href="https://www.tradingview.com/pine-script-reference/v6/#op_+">+</a> or <a href="https://www.tradingview.com/pine-script-reference/v6/#op_-">-</a> operators at the beginning of the sequence to specify their sign (positive or negative).</p>
<p>Below are a few examples of literal integers:</p>
<div class="pine-colorizer not-content colorized" data-id="7i6"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk12">1</span></span><br><span><span class="mtk12">-1</span></span><br><span><span class="mtk12">750</span></span><br></code></div>
<p>Many built-in variables hold “int” values, including <a href="https://www.tradingview.com/pine-script-reference/v6/#var_bar_index">bar_index</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_time">time</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_timenow">timenow</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_dayofmonth">dayofmonth</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#var_strategy.wintrades">strategy.wintrades</a>.</p>
<h4 id="float" class="md-heading"><a href="#float"> <span class="fancy-wrap">float<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Values of the “float” type represent <em>floating-point</em> numbers. In contrast to “int” values, “float” values represent the whole <em>and</em> fractional parts of a number.</p>
<p>Literal floating-point values in Pine have two different formats:</p>
<ul>
<li>A sequence of decimal digits that contains a decimal point (<code dir="auto">.</code>) to separate the number’s whole and fractional parts. This format can include a unary <a href="https://www.tradingview.com/pine-script-reference/v6/#op_+">+</a> or <a href="https://www.tradingview.com/pine-script-reference/v6/#op_-">-</a> operator at the beginning to specify the number’s sign.</li>
<li>A number, with an <em>optional</em> decimal point, followed by <code dir="auto">e</code> or <code dir="auto">E</code> and an additional <em>whole number</em>. The number before <em>and</em> after <code dir="auto">e</code> or <code dir="auto">E</code> can include the unary <a href="https://www.tradingview.com/pine-script-reference/v6/#op_+">+</a> or <a href="https://www.tradingview.com/pine-script-reference/v6/#op_-">-</a> operator. This format represents a floating-point number in <a href="https://en.wikipedia.org/wiki/Scientific_notation#E_notation" rel="nofollow">E notation</a>. It translates to <em>“X multiplied by 10 raised to the power of Y”</em>, where “X” is the number before <code dir="auto">e</code> or <code dir="auto">E</code>, and “Y” is the number that follows. This format provides a compact way to represent very large or very small values.</li>
</ul>
<p>Below are a few examples of floating-point literals:</p>
<div class="pine-colorizer not-content colorized" data-id="34e"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk12">3.14159</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Rounded&nbsp;value&nbsp;of&nbsp;Pi&nbsp;(π)</span></span><br><span><span class="mtk12">-3.0</span></span><br><span><span class="mtk12">6.02e23</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;6.02&nbsp;*&nbsp;10^23&nbsp;(a&nbsp;very&nbsp;large&nbsp;number)</span></span><br><span><span class="mtk12">1.6e-19</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;1.6&nbsp;*&nbsp;10^-19&nbsp;(a&nbsp;very&nbsp;small&nbsp;number)</span></span><br></code></div>
<p>The internal precision of “float” values in Pine Script is 1e-16. Floating-point values in Pine cannot precisely represent numbers with more than 16 fractional digits. However, note that <a href="/pine-script-docs/language/operators/#comparison-operators">comparison operators</a> automatically round “float” operands to <em>nine</em> fractional digits.</p>
<p>Many built-in variables store “float” values, including <a href="https://www.tradingview.com/pine-script-reference/v6/#var_close">close</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_hlcc4">hlcc4</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_volume">volume</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_ta.vwap">ta.vwap</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#var_strategy.position_size">strategy.position_size</a>.</p>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>Pine Script automatically converts “int” values to the “float” type if a script passes those values to variables or function parameters that require “float” values. Likewise, Pine converts “int” values to “float” in arithmetic or comparison <a href="/pine-script-docs/language/operators/">operations</a> that include a “float” operand. See the <a href="/pine-script-docs/language/type-system/#type-casting">Type casting</a> section to learn more.</p></div></aside>
<h4 id="bool" class="md-heading"><a href="#bool"> <span class="fancy-wrap">bool<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Values of the “bool” type represent the <a href="https://en.wikipedia.org/wiki/Boolean_data_type" rel="nofollow">Boolean</a> truth values of conditions (<em>true</em> or <em>false</em>). Scripts use these values in <a href="/pine-script-docs/language/conditional-structures/">conditional structures</a> and expressions to trigger specific calculations in the code. All <em>comparison</em> and <em>logical</em> <a href="/pine-script-docs/language/operators/">operators</a> return “bool” values.</p>
<p>There are only two possible “bool” literals in Pine Script:</p>
<div class="pine-colorizer not-content colorized" data-id="4d0"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk11">true</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;true&nbsp;value</span></span><br><span><span class="mtk11">false</span><span class="mtk1">&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;false&nbsp;value</span></span><br></code></div>
<p>In contrast to most other types, values of the “bool” type are <em>never</em> <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a>. Any expression or structure with the “bool” return type returns <code dir="auto">false</code> instead of <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> if data is <em>not available</em>.</p>
<p>For example, if a script uses the <a href="/pine-script-docs/language/operators/#-history-referencing-operator">history-referencing operator</a> to retrieve the value of a “bool” variable from a previous bar that does not exist, that operation returns <code dir="auto">false</code>. Likewise, an <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_if">if</a> statement with a return expression of the “bool” type returns <code dir="auto">false</code> if none of its <em>local blocks</em> activate. By contrast, expressions and structures with other return types, excluding <a href="/pine-script-docs/language/type-system/#void">void</a>, return <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> if there is no available data.</p>
<p>All built-in variables that represent conditions store “bool” values, including <a href="https://www.tradingview.com/pine-script-reference/v6/#var_barstate.isfirst">barstate.isfirst</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_chart.is_heikinashi">chart.is_heikinashi</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_session.ismarket">session.ismarket</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#var_timeframe.isdaily">timeframe.isdaily</a>.</p>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>In contrast to some other languages, Pine Script does <em>not</em> automatically convert other types to the “bool” type in logical expressions. Scripts can explicitly convert “int” or “float” values to the “bool” type by using the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_bool">bool()</a> function. See the <a href="/pine-script-docs/language/type-system/#type-casting">Type casting</a> section to learn more about type conversions.</p></div></aside>
<h4 id="color" class="md-heading"><a href="#color"> <span class="fancy-wrap">color<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Values of the “color” type represent <em>RGB colors</em>, which scripts use to define the colors of chart <a href="/pine-script-docs/visuals/overview/">visuals</a>. Color literals in Pine have the format <code dir="auto">#RRGGBB</code> or <code dir="auto">#RRGGBBAA</code>, where:</p>
<ul>
<li>Each symbol after the number sign (<code dir="auto">#</code>) represents a <a href="https://en.wikipedia.org/wiki/Hexadecimal" rel="nofollow">hexadecimal digit</a>, which is a <em>numeral</em> from <code dir="auto">0</code> to <code dir="auto">9</code> or a <em>letter</em> from <code dir="auto">A</code> (for 10) to <code dir="auto">F</code> (for 15). Each set of <em>two digits</em> represents one of the color’s <em>component values</em>, ranging from 0 (<code dir="auto">00</code>) to 255 (<code dir="auto">FF</code>).</li>
<li>The <code dir="auto">RR</code>, <code dir="auto">GG</code>, and <code dir="auto">BB</code> parts represent the color’s <em>red</em>, <em>green</em>, and <em>blue</em> components, respectively. The last pair of digits, <code dir="auto">AA</code>, is optional; it specifies the color’s opacity (<em>alpha</em>). If the pair is <code dir="auto">00</code>, the color is <em>transparent</em>. If <code dir="auto">FF</code> or not specified, the color is <em>fully opaque</em>.</li>
<li>All letters in the literal value can be uppercase or lowercase.</li>
</ul>
<p>Below are several examples of literal “color” values:</p>
<div class="pine-colorizer not-content colorized" data-id="20e"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk11">#000000</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Black</span></span><br><span><span class="mtk11">#FF0000</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Red</span></span><br><span><span class="mtk11">#00FF00</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Green</span></span><br><span><span class="mtk11">#0000FF</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Blue</span></span><br><span><span class="mtk11">#FFFFFF</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;White</span></span><br><span><span class="mtk11">#808080</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;A&nbsp;shade&nbsp;of&nbsp;gray</span></span><br><span><span class="mtk11">#3ff7a0</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;A&nbsp;custom&nbsp;green-cyan&nbsp;color</span></span><br><span><span class="mtk11">#FF000080</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;50%&nbsp;transparent&nbsp;red</span></span><br><span><span class="mtk11">#FF0000ff</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Equivalent&nbsp;to&nbsp;#FF0000;&nbsp;fully&nbsp;opaque&nbsp;red</span></span><br><span><span class="mtk11">#FF000000</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Completely&nbsp;transparent&nbsp;(invisible)&nbsp;red</span></span><br></code></div>
<p>Pine Script also includes several built-in <a href="/pine-script-docs/visuals/colors/#constant-colors">color constants</a>, such as <a href="https://www.tradingview.com/pine-script-reference/v6/#const_color.green">color.green</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#const_color.orange">color.orange</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#const_color.red">color.red</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#const_color.blue">color.blue</a>. Note that <a href="https://www.tradingview.com/pine-script-reference/v6/#const_color.blue">color.blue</a> is the default color for <a href="/pine-script-docs/visuals/plots/">plots</a>, and it is the default value for several <em>color properties</em> of <a href="/pine-script-docs/language/type-system/#drawing-types">drawing types</a>.</p>
<p>The <code dir="auto">color</code> namespace contains functions for retrieving color components, modifying colors, and creating new colors. For instance, scripts can use <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_color.new">color.new()</a> to define a copy of a built-in color with different transparency, or use <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_color.rgb">color.rgb()</a> to create a new color with specific red, green, blue, and transparency components.</p>
<p>Note that the <code dir="auto">red</code>, <code dir="auto">green</code>, and <code dir="auto">blue</code> parameters of the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_color.rgb">color.rgb()</a> function expect a number from <em>0 to 255</em>, where 0 means no intensity and 255 means maximum intensity. The <code dir="auto">transp</code> parameter of <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_color.rgb">color.rgb()</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_color.new">color.new()</a> expects a value from <em>0 to 100</em>, where 0 means fully opaque and 100 means completely transparent. Both functions automatically <em>clamp</em> arguments to these ranges, and they round the specified values to <em>whole numbers</em>.</p>
<p>The example below creates a new “color” value with <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_color.rgb">color.rgb()</a>, modifies the color’s transparency based on the current day of the week with <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_color.new">color.new()</a>, and then displays the resulting color in the chart’s background:</p>
<div class="pine-colorizer not-content colorized" data-id="6gy"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"`color.*()`&nbsp;functions&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;color&nbsp;with&nbsp;custom&nbsp;red,&nbsp;green,&nbsp;and&nbsp;blue&nbsp;componen</span><span class="mtk9">ts.&nbsp;The&nbsp;variable's&nbsp;type&nbsp;is&nbsp;"const&nbsp;color".</span></span><br><span><span class="mtk18 mtkb">color</span><span class="mtk1">&nbsp;</span><span class="mtk33">BASE_COLOR</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.rgb</span><span class="mtk13">(</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">99</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">165</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;calculated&nbsp;transparency&nbsp;value&nbsp;based&nbsp;on&nbsp;the&nbsp;curr</span><span class="mtk9">ent&nbsp;day&nbsp;of&nbsp;the&nbsp;week.&nbsp;This&nbsp;variable's&nbsp;type&nbsp;is&nbsp;"seri</span><span class="mtk9">es&nbsp;int".</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">transparency</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">int</span><span class="mtk13">(</span><span class="mtk12">40</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk11">dayofweek</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk12">7</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;modified&nbsp;copy&nbsp;of&nbsp;`BASE_COLOR`&nbsp;with&nbsp;dynamic&nbsp;tran</span><span class="mtk9">sparency.&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;variable's&nbsp;type&nbsp;is&nbsp;"series&nbsp;color"</span><span class="mtk9">,&nbsp;because&nbsp;its&nbsp;calculation&nbsp;depends&nbsp;on&nbsp;a&nbsp;"series&nbsp;int</span><span class="mtk9">"&nbsp;value.</span></span><br><span><span class="mtk18 mtkb">color</span><span class="mtk1">&nbsp;</span><span class="mtk33">modifiedColor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk33">BASE_COLOR</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">transparency</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Color&nbsp;the&nbsp;background&nbsp;using&nbsp;the&nbsp;`modifiedColor`&nbsp;</span><span class="mtk9">value.</span></span><br><span><span class="mtk16">bgcolor</span><span class="mtk13">(</span><span class="mtk33">modifiedColor</span><span class="mtk13">)</span></span><br></code></div>
<p>Note that:</p>
<ul>
<li>The value stored by <code dir="auto">BASE_COLOR</code> is of the type “const color” because it depends on only “const” values. However, the modified color returned by <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_color.new">color.new()</a> is of the type “series color”, because the <a href="https://www.tradingview.com/pine-script-reference/v6/#var_dayofweek">dayofweek</a> variable used in the calculation has the “series” <a href="/pine-script-docs/language/type-system/#qualifiers">qualifier</a>.</li>
</ul>
<p>To learn more about working with colors in Pine, see the <a href="/pine-script-docs/visuals/colors/">Colors</a> page.</p>
<h4 id="string" class="md-heading"><a href="#string"> <span class="fancy-wrap">string<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Values of the “string” type contain sequences of encoded characters representing text, including letters, digits, symbols, spaces, or other Unicode characters. Scripts use strings in many ways, such as to define titles, express symbols and timeframes, create alerts and debug messages, and display text on the chart.</p>
<p>Literal strings in Pine Script are sequences of characters enclosed by two ASCII quotation marks (<code dir="auto">"</code>) or apostrophes (<code dir="auto">'</code>). For example:</p>
<div class="pine-colorizer not-content colorized" data-id="1m4"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk29">"This&nbsp;is&nbsp;a&nbsp;literal&nbsp;string&nbsp;enclosed&nbsp;in&nbsp;quotation&nbsp;ma</span><span class="mtk29">rks."</span></span><br><span><span></span></span><br><span><span class="mtk29">'This&nbsp;is&nbsp;a&nbsp;literal&nbsp;string&nbsp;enclosed&nbsp;in&nbsp;apostrophes.</span><span class="mtk29">'</span></span><br></code></div>
<p>Quotation marks and apostrophes are functionally similar when used as the enclosing delimiters of literal strings. A string enclosed in quotation marks can contain any number of apostrophes. Likewise, a string enclosed in apostrophes can contain any number of quotation marks. For example:</p>
<div class="pine-colorizer not-content colorized" data-id="4a1"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk29">"It's&nbsp;an&nbsp;example"</span></span><br><span><span></span></span><br><span><span class="mtk29">'The&nbsp;"Star"&nbsp;indicator'</span></span><br></code></div>
<p>A literal string can prefix some characters with the backslash character (<code dir="auto">\</code>) to <em>change</em> their meaning. For example, applying a backslash to a quotation mark or apostrophe adds that character directly into a literal string’s sequence instead of treating the character as the <em>end</em> of the string:</p>
<div class="pine-colorizer not-content colorized" data-id="6sb"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk29">'It\'s&nbsp;an&nbsp;example'</span></span><br><span><span></span></span><br><span><span class="mtk29">"The&nbsp;\"Star\"&nbsp;indicator"</span></span><br></code></div>
<p>Applying a backslash to the <code dir="auto">n</code> or <code dir="auto">t</code> characters in a literal string creates <em>escape sequences</em> for multiline text or indentation respectively, which scripts can render using <code dir="auto">plot*()</code> functions, <a href="/pine-script-docs/writing/debugging/#pine-logs">Pine Logs</a>, or some <a href="/pine-script-docs/language/type-system/#drawing-types">drawing types</a>. For example, this string represents multiline text with a single word per line:</p>
<div class="pine-colorizer not-content colorized" data-id="50b"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk29">"This\nString\nContains\nOne\nWord\nPer\nLine"</span></span><br></code></div>
<p>Scripts can use two operators, <a href="https://www.tradingview.com/pine-script-reference/v6/#op_+">+</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#op_+=">+=</a>, to <em>concatenate</em> (combine) two separate strings. These operators create a new string containing the first operand’s character sequence followed by the second operand’s sequence. For example:</p>
<div class="pine-colorizer not-content colorized" data-id="695"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk29">"This&nbsp;creates&nbsp;a&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk29">"concatenated&nbsp;string."</span></span><br></code></div>
<p>The <code dir="auto">str</code> namespace contains several built-in functions that perform string-based calculations or create new strings. For example, the script below calls <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_str.format">str.format()</a> on each bar to create a <em>formatted string</em> containing representations of “float” price values, and it displays the result as multiline text in a label positioned at the bar’s <a href="https://www.tradingview.com/pine-script-reference/v6/#var_high">high</a> value:</p>
<div class="pine-colorizer not-content colorized" data-id="4z2"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Formatted&nbsp;string&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;"series&nbsp;string"&nbsp;value&nbsp;containing&nbsp;representation</span><span class="mtk9">s&nbsp;of&nbsp;the&nbsp;bar's&nbsp;OHLC&nbsp;prices.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">ohlcString</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.format</span><span class="mtk13">(</span><span class="mtk29">"Open:&nbsp;{0}\nHigh:&nbsp;{1}\nLow:&nbsp;{2}\nClose:&nbsp;{3}"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">open</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Draw&nbsp;a&nbsp;label&nbsp;to&nbsp;display&nbsp;the&nbsp;`ohlcString`&nbsp;value&nbsp;</span><span class="mtk9">as&nbsp;multiline&nbsp;text&nbsp;at&nbsp;the&nbsp;bar's&nbsp;`high`&nbsp;value.</span></span><br><span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">ohlcString</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">textcolor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.white</span><span class="mtk13">)</span></span><br></code></div>
<p>Several built-in variables that contain symbol and timeframe information store “string” values, e.g., <a href="https://www.tradingview.com/pine-script-reference/v6/#var_syminfo.tickerid">syminfo.tickerid</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_syminfo.currency">syminfo.currency</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#var_timeframe.period">timeframe.period</a>.</p>
<p>For detailed information about Pine strings and the built-in <code dir="auto">str.*()</code> functions, refer to the <a href="/pine-script-docs/concepts/strings/">Strings</a> page. To learn more about displaying text from strings, see the <a href="/pine-script-docs/visuals/text-and-shapes/">Text and shapes</a> and <a href="/pine-script-docs/writing/debugging/">Debugging</a> pages.</p>
<h4 id="enum-types" class="md-heading"><a href="#enum-types">Enum <span class="fancy-wrap">types<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>The <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_enum">enum</a> keyword enables the creation of an <em>enum</em>, otherwise known as an <em>enumeration</em>, <em>enumerated type</em>, or <em>enum type</em>. An enum is a unique type that contains distinct <em>named fields</em>. These fields represent the <em>members</em> (i.e., possible values) of the enum type. Programmers can use enums to maintain strict control over the values accepted by variables, parameters, conditional expressions, <a href="/pine-script-docs/language/type-system/#collections">collections</a>, and the fields of <a href="/pine-script-docs/language/type-system/#user-defined-types">UDT</a> objects. Additionally, scripts can use the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_input.enum">input.enum()</a> function to create enum-based dropdown <a href="/pine-script-docs/concepts/inputs/">inputs</a> in the “Settings/Inputs” tab.</p>
<p>The syntax to declare an enum is as follows:</p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">[export ]enum &lt;enumName&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8;--1:#24292e">    </span></span><span style="--0:#e1e4e8;--1:#24292e">&lt;field_1&gt;[ = &lt;title_1&gt;]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8;--1:#24292e">    </span></span><span style="--0:#e1e4e8;--1:#24292e">&lt;field_2&gt;[ = &lt;title_2&gt;]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8;--1:#24292e">    </span></span><span style="--0:#e1e4e8;--1:#24292e">...</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8;--1:#24292e">    </span></span><span style="--0:#e1e4e8;--1:#24292e">&lt;field_N&gt;[ = &lt;title_N&gt;]</span></div></div></code></pre></figure></div>
<p>Where:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v6/#kw_export">export</a> is the optional keyword for exporting the enum from a library, enabling its use in other scripts. See the <a href="/pine-script-docs/concepts/libraries/#enum-types">Enum types</a> section of the <a href="/pine-script-docs/concepts/libraries/">Libraries</a> page to learn more about exporting enums.</li>
<li><code dir="auto">enumName</code> is the name of the enum type. Scripts can use the enum’s name as the <em>type keyword</em> in <a href="/pine-script-docs/language/variable-declarations/">variable declarations</a>, parameter and field declarations, and the <em>type templates</em> of collections.</li>
<li><code dir="auto">field_*</code> is the name of an enum field. The field represents a <em>named member</em> (value) of the <code dir="auto">enumName</code> type. Each field must have a <em>unique</em> name that does not match the name or title of any other member in the enum. To retrieve an enum member, use <em>dot notation</em> syntax on the enum’s name (e.g., <code dir="auto">enumName.field_1</code>).</li>
<li><code dir="auto">title_*</code> is a “const string” value representing the <em>title</em> of an enum member. If the enum declaration does not specify a member’s title, its title is the “string” representation of its name. The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_input.enum">input.enum()</a> function displays enum member titles within a dropdown input in the “Settings/Inputs” tab. To retrieve the “string” title of an enum member, use the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_str.tostring">str.tostring()</a> function on that member (e.g., <code dir="auto">str.tostring(enumName.field_1)</code>). As with member names, each enum member’s title must be <em>unique</em>; it cannot match the name or title of another member in the same enum.</li>
</ul>
<p>The following code block declares an enum named <code dir="auto">maChoice</code>. Each field within the declaration represents a unique, constant member of the <code dir="auto">maChoice</code> enum type with a distinct title:</p>
<div class="pine-colorizer not-content colorized" data-id="6dx"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@enum</span><span class="mtk9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An&nbsp;enumeration&nbsp;of&nbsp;named&nbsp;values&nbsp;for&nbsp;moving&nbsp;a</span><span class="mtk9">verage&nbsp;selection.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;sma&nbsp;&nbsp;Specifies&nbsp;a&nbsp;Simple&nbsp;Moving&nbsp;Average.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;ema&nbsp;&nbsp;Specifies&nbsp;an&nbsp;Exponential&nbsp;Moving&nbsp;Average.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;wma&nbsp;&nbsp;Specifies&nbsp;a&nbsp;Weighted&nbsp;Moving&nbsp;Average.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;hma&nbsp;&nbsp;Specifies&nbsp;a&nbsp;Hull&nbsp;Moving&nbsp;Average.</span></span><br><span><span class="mtk18">enum</span><span class="mtk1">&nbsp;</span><span class="mtk33">maChoice</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">sma</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Simple&nbsp;Moving&nbsp;Average"</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">ema</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Exponential&nbsp;Moving&nbsp;Average"</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">wma</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Weighted&nbsp;Moving&nbsp;Average"</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">hma</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Hull&nbsp;Moving&nbsp;Average"</span></span><br></code></div>
<p>The following script uses the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_input.enum">input.enum()</a> function to create a dropdown input from our <code dir="auto">maChoice</code> enum in the “Settings/Inputs” tab. The dropdown displays each field’s <em>title</em> as a possible choice. The value of <code dir="auto">maInput</code> is the <code dir="auto">maChoice</code> <em>member</em> corresponding to the selected title. The script compares the <code dir="auto">maChoice</code> value inside a <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_switch">switch</a> structure to determine which <code dir="auto">ta.*()</code> function it uses to calculate a moving average:</p>
<div class="pine-colorizer not-content colorized" data-id="5rh"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Enum&nbsp;types&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@enum</span><span class="mtk9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An&nbsp;enumeration&nbsp;of&nbsp;named&nbsp;values&nbsp;for&nbsp;moving&nbsp;a</span><span class="mtk9">verage&nbsp;selection.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;sma&nbsp;&nbsp;Specifies&nbsp;a&nbsp;Simple&nbsp;Moving&nbsp;Average.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;ema&nbsp;&nbsp;Specifies&nbsp;an&nbsp;Exponential&nbsp;Moving&nbsp;Average.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;wma&nbsp;&nbsp;Specifies&nbsp;a&nbsp;Weighted&nbsp;Moving&nbsp;Average.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;hma&nbsp;&nbsp;Specifies&nbsp;a&nbsp;Hull&nbsp;Moving&nbsp;Average.</span></span><br><span><span class="mtk18">enum</span><span class="mtk1">&nbsp;</span><span class="mtk33">maChoice</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">sma</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Simple&nbsp;Moving&nbsp;Average"</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">ema</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Exponential&nbsp;Moving&nbsp;Average"</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">wma</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Weighted&nbsp;Moving&nbsp;Average"</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">hma</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Hull&nbsp;Moving&nbsp;Average"</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;`maChoice`&nbsp;member&nbsp;representing&nbsp;a&nbsp;selected&nbsp;mov</span><span class="mtk9">ing&nbsp;average&nbsp;name.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;variable's&nbsp;type&nbsp;is&nbsp;"input&nbsp;maChoic</span><span class="mtk9">e".</span></span><br><span><span class="mtk18 mtkb">maChoice</span><span class="mtk1">&nbsp;</span><span class="mtk33">maInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.enum</span><span class="mtk13">(</span><span class="mtk33">maChoice</span><span class="mtk1">.</span><span class="mtk33">sma</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Moving&nbsp;average&nbsp;type"</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;length&nbsp;of&nbsp;the&nbsp;moving&nbsp;average.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">lengthInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">20</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Length"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">4999</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;moving&nbsp;average&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;selected&nbsp;</span><span class="mtk9">enum&nbsp;member.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">selectedMA</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk18">switch</span><span class="mtk1">&nbsp;</span><span class="mtk33">maInput</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">maChoice</span><span class="mtk1">.</span><span class="mtk33">sma</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.sma</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lengthInput</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">maChoice</span><span class="mtk1">.</span><span class="mtk33">ema</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.ema</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lengthInput</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">maChoice</span><span class="mtk1">.</span><span class="mtk33">wma</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.wma</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lengthInput</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">maChoice</span><span class="mtk1">.</span><span class="mtk33">hma</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.hma</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lengthInput</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`selectedMA`&nbsp;value.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">selectedMA</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Selected&nbsp;moving&nbsp;average"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.teal</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br></code></div>
<p>See the <a href="/pine-script-docs/language/enums/">Enums</a> page and the <a href="/pine-script-docs/concepts/inputs/#enum-input">Enum input</a> section of the <a href="/pine-script-docs/concepts/inputs/">Inputs</a> page to learn more about using enums and enum inputs.</p>
<h3 id="reference-types" class="md-heading"><a href="#reference-types">Reference <span class="fancy-wrap">types<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>All the types covered in the following sections are <em>reference types</em>. These types <em>do not</em> directly represent values. Instead, scripts use them to create <em>objects</em>: logical entities that store data in a distinct location. Variables of reference types hold <em>references</em>, also known as <em>IDs</em>, that identify objects in memory and enable access to their data.</p>
<p>In contrast to <a href="/pine-script-docs/language/type-system/#value-types">value types</a>, which support <em>any</em> <a href="/pine-script-docs/language/type-system/#qualifiers">type qualifier</a>, instances of a reference type automatically inherit the “series” qualifier, because each instance is <em>unique</em>. Additionally, because reference types do not represent values, they are <em>not</em> compatible with any arithmetic or logical <a href="/pine-script-docs/language/operators/">operators</a>.</p>
<p>For advanced information about how these types differ from value types, see the <a href="/pine-script-docs/language/type-system/#value-vs-reference-types">Value vs. reference types</a> section at the bottom of the page.</p>
<h4 id="plot-and-hline" class="md-heading"><a href="#plot-and-hline">plot and <span class="fancy-wrap">hline<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Pine Script uses the “plot” and “hline” types to display <a href="/pine-script-docs/visuals/plots/">plots</a> and horizontal <a href="/pine-script-docs/visuals/levels/">levels</a> on the chart. The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_plot">plot()</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_hline">hline()</a> functions create instances of these types. Each call to these functions returns a <em>reference (ID)</em> to a specific “plot” or “hline” instance. Scripts can assign the references returned by these functions to variables for use with the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_fill">fill()</a> function, which colors the space between two displayed plots or levels.</p>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>Only the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_plot">plot()</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_hline">hline()</a> functions return usable IDs. All other plot-related functions — including <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_plotchar">plotchar()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_plotshape">plotshape()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_plotarrow">plotarrow()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_plotbar">plotbar()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_plotcandle">plotcandle()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_barcolor">barcolor()</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_bgcolor">bgcolor()</a> — return <a href="/pine-script-docs/language/type-system/#void">void</a>, because they produce <em>only</em> visual outputs. Scripts <em>cannot</em> use data from these functions in other parts of the code.</p></div></aside>
<p>The following example calculates two <a href="https://www.tradingview.com/support/solutions/43000592270-exponential-moving-average/">EMAs</a>, and then uses two <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_plot">plot()</a> calls to display their values on the chart. It assigns the “plot” IDs returned by the function calls to variables, then uses those variables in a call to <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_fill">fill()</a> to color the visual space between the displayed plots:</p>
<div class="pine-colorizer not-content colorized" data-id="6xk"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"plot&nbsp;fill&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;"series&nbsp;float"&nbsp;value&nbsp;representing&nbsp;a&nbsp;10-bar&nbsp;EMA&nbsp;</span><span class="mtk9">of&nbsp;`close`.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">emaFast</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.ema</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">10</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;"series&nbsp;float"&nbsp;value&nbsp;representing&nbsp;a&nbsp;20-bar&nbsp;EMA&nbsp;</span><span class="mtk9">of&nbsp;`close`.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">emaSlow</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.ema</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Holds&nbsp;the&nbsp;ID&nbsp;of&nbsp;the&nbsp;plot&nbsp;that&nbsp;displays&nbsp;the&nbsp;`emaFa</span><span class="mtk9">st`&nbsp;series.</span></span><br><span><span class="mtk33">emaFastPlot</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">emaFast</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Fast&nbsp;EMA"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.orange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Holds&nbsp;the&nbsp;ID&nbsp;of&nbsp;the&nbsp;plot&nbsp;that&nbsp;displays&nbsp;the&nbsp;`emaSl</span><span class="mtk9">ow`&nbsp;series.</span></span><br><span><span class="mtk33">emaSlowPlot</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">emaSlow</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Slow&nbsp;EMA"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.gray</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Color&nbsp;the&nbsp;space&nbsp;between&nbsp;the&nbsp;outputs&nbsp;from&nbsp;the&nbsp;"p</span><span class="mtk9">lot"&nbsp;objects&nbsp;referenced&nbsp;by&nbsp;`emaFastPlot`&nbsp;and&nbsp;`emaS</span><span class="mtk9">lowPlot`.</span></span><br><span><span class="mtk16">fill</span><span class="mtk13">(</span><span class="mtk33">emaFastPlot</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">emaSlowPlot</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"EMA&nbsp;Fill"</span><span class="mtk13">)</span></span><br></code></div>
<p>Note that:</p>
<ul>
<li>Pine does <em>not</em> include type keywords for specifying variables of the “plot” or “hline” type. Variables of these types never hold <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a>, so Pine can always determine their type information automatically.</li>
<li>A single <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_fill">fill()</a> function call cannot use both a “plot” and “hline” ID. The function requires two IDs of the <em>same type</em>.</li>
</ul>
<p>In addition to displaying the complete history of “series” values on the chart, “plot” objects enable <em>indicator-on-indicator</em> functionality. Scripts can access values from <em>another</em> script’s plots for their calculations by using the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_input.source">input.source()</a> function. See the <a href="/pine-script-docs/concepts/inputs/#source-input">Source input</a> section of the <a href="/pine-script-docs/concepts/inputs/">Inputs</a> page to learn more.</p>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>In contrast to variables of all other reference types, variables of the “plot” or “hline” type cannot refer to different plots or levels across bars. All variables of these types must consistently hold the references returned by the <em>same</em> <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_plot">plot()</a> or <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_hline">hline()</a> calls on <em>every execution</em>. Additionally, the functions that create “plot” and “hline” objects work only in the <em>global scope</em>; scripts cannot use them in the <em>local scopes</em> of <a href="/pine-script-docs/language/user-defined-functions/">user-defined functions</a>, <a href="/pine-script-docs/language/conditional-structures/">conditional structures</a>, or <a href="/pine-script-docs/language/loops/">loops</a>.</p></div></aside>
<h4 id="drawing-types" class="md-heading"><a href="#drawing-types">Drawing <span class="fancy-wrap">types<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Pine’s drawing types serve as structures for creating <em>drawing objects</em>, which scripts use to display custom chart <a href="/pine-script-docs/visuals/overview/">visuals</a>. The available drawing types are <a href="https://www.tradingview.com/pine-script-reference/v6/#type_line">line</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_linefill">linefill</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_box">box</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_polyline">polyline</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_label">label</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#type_table">table</a>.</p>
<p>Each drawing type has an associated <em>namespace</em> with the <em>same name</em>. This namespace contains all the available built-ins for creating and managing drawing objects. For example, the <code dir="auto">label</code> namespace contains all the built-in functions and variables for creating and managing <a href="/pine-script-docs/visuals/text-and-shapes/#labels">labels</a>. To create new instances of any drawing type, scripts can use the following <code dir="auto">*.new()</code> functions from each type’s namespace: <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_line.new">line.new()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_linefill.new">linefill.new()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_box.new">box.new()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_polyline.new">polyline.new()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.new">label.new()</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_table.new">table.new()</a>.</p>
<p>Each of these <code dir="auto">*.new()</code> functions creates a new drawing object on every call, and it returns the <em>ID (reference)</em> of that specific object. The other functions in the type’s namespace require this ID to access and delete, copy, or modify the drawing. For example, a script can use the ID returned by <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_line.new">line.new()</a> later to delete the underlying <a href="https://www.tradingview.com/pine-script-reference/v6/#type_line">line</a> object with <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_line.delete">line.delete()</a>, copy the object with <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_line.copy">line.copy()</a>, or update the drawing’s color with <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_line.set_color">line.set_color()</a>.</p>
<p>For detailed information about lines, boxes, and polylines, see the <a href="/pine-script-docs/visuals/lines-and-boxes/">Lines and boxes</a> page. To learn more about tables and labels, see the <a href="/pine-script-docs/visuals/tables/">Tables</a> page and the <a href="/pine-script-docs/visuals/text-and-shapes/#labels">Labels</a> section of the <a href="/pine-script-docs/visuals/text-and-shapes/">Text and shapes</a> page.</p>
<h4 id="chart-points" class="md-heading"><a href="#chart-points">Chart <span class="fancy-wrap">points<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>The <a href="https://www.tradingview.com/pine-script-reference/v6/#type_chart.point">chart.point</a> type is a special type that scripts use to generate <em>chart points</em>. Chart points are objects that contain <em>chart coordinates</em>. Scripts use information from these objects to position <a href="/pine-script-docs/visuals/lines-and-boxes/#lines">lines</a>, <a href="/pine-script-docs/visuals/lines-and-boxes/#boxes">boxes</a>, <a href="/pine-script-docs/visuals/lines-and-boxes/#polylines">polylines</a>, and <a href="/pine-script-docs/visuals/text-and-shapes/#labels">labels</a> on the chart.</p>
<p>Objects of the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_chart.point">chart.point</a> type contain three <em>fields</em>: <code dir="auto">time</code>, <code dir="auto">index</code>, and <code dir="auto">price</code>. The <code dir="auto">time</code> and <code dir="auto">index</code> fields both represent horizontal locations (<em>x-coordinates</em>). The <code dir="auto">price</code> field represents the vertical location (<em>y-coordinate</em>). Whether a drawing instance uses the <code dir="auto">time</code> or <code dir="auto">index</code> field from a chart point as an x-coordinate depends on the drawing’s <code dir="auto">xloc</code> property. By default, drawings use the <code dir="auto">index</code> field from a chart point and <em>ignore</em> the <code dir="auto">time</code> field.</p>
<p>Multiple functions in the <code dir="auto">chart.point</code> <em>namespace</em> create chart points:</p>
<ul>
<li>The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_chart.point.new">chart.point.new()</a> function creates a new chart point containing specified <code dir="auto">time</code>, <code dir="auto">index</code>, and <code dir="auto">price</code> values.</li>
<li>The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_chart.point.now">chart.point.now()</a> function creates a chart point with a specified <code dir="auto">price</code> value. The object’s <code dir="auto">time</code> and <code dir="auto">index</code> field automatically contain the <a href="https://www.tradingview.com/pine-script-reference/v6/#var_time">time</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#var_bar_index">bar_index</a> values from the bar on which the function call occurs.</li>
<li>The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_chart.point.from_index">chart.point.from_index()</a> function creates a chart point with only specified <code dir="auto">price</code> and <code dir="auto">index</code> values. The <code dir="auto">time</code> field of the created object is <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a>. Therefore, all chart points from this function are intended for use with drawings whose <code dir="auto">xloc</code> property is <a href="https://www.tradingview.com/pine-script-reference/v6/#const_xloc.bar_index">xloc.bar_index</a>.</li>
<li>The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_chart.point.from_time">chart.point.from_time()</a> function creates a chart point with only specified <code dir="auto">price</code> and <code dir="auto">time</code> values. The <code dir="auto">index</code> field of the created object is <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a>. Therefore, all chart points from this function are intended for use with drawings whose <code dir="auto">xloc</code> property is <a href="https://www.tradingview.com/pine-script-reference/v6/#const_xloc.bar_time">xloc.bar_time</a>.</li>
<li>The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_chart.point.copy">chart.point.copy()</a> function creates a new chart point with the <em>same</em> <code dir="auto">time</code>, <code dir="auto">index</code>, and <code dir="auto">price</code> values as the one referenced by the specified <code dir="auto">id</code> argument.</li>
</ul>
<p>The following script draws a new line from the previous bar’s <a href="https://www.tradingview.com/pine-script-reference/v6/#var_high">high</a> value to the current bar’s <a href="https://www.tradingview.com/pine-script-reference/v6/#var_low">low</a> value on each execution. It also displays labels at both points of the line. The script sets the coordinates of the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_line">line</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#type_label">label</a> drawings using data from chart points created by the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_chart.point.from_index">chart.point.from_index()</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_chart.point.now">chart.point.now()</a> functions:</p>
<div class="pine-colorizer not-content colorized" data-id="nz"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Chart&nbsp;points&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;References&nbsp;a&nbsp;chart&nbsp;point&nbsp;containing&nbsp;the&nbsp;previous&nbsp;</span><span class="mtk9">bar's&nbsp;`bar_index`&nbsp;and&nbsp;`high`&nbsp;values.</span></span><br><span><span class="mtk33">firstPoint</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">chart.point.from_index</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">])</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;References&nbsp;a&nbsp;chart&nbsp;point&nbsp;containing&nbsp;the&nbsp;current&nbsp;b</span><span class="mtk9">ar's&nbsp;`bar_index`,&nbsp;`time`,&nbsp;and&nbsp;`low`&nbsp;values.</span></span><br><span><span class="mtk18 mtkb">chart.point</span><span class="mtk1">&nbsp;</span><span class="mtk33">secondPoint</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">chart.point.now</span><span class="mtk13">(</span><span class="mtk11">low</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;References&nbsp;a&nbsp;line&nbsp;connecting&nbsp;the&nbsp;coordinates&nbsp;from</span><span class="mtk9">&nbsp;the&nbsp;objects&nbsp;referenced&nbsp;by&nbsp;`firstPoint`&nbsp;and&nbsp;`secon</span><span class="mtk9">dPoint`.&nbsp;</span></span><br><span><span class="mtk18 mtkb">line</span><span class="mtk1">&nbsp;</span><span class="mtk33">myLine</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">line.new</span><span class="mtk13">(</span><span class="mtk33">firstPoint</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">secondPoint</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">width</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Draw&nbsp;a&nbsp;label&nbsp;at&nbsp;the&nbsp;`index`&nbsp;and&nbsp;`price`&nbsp;coordin</span><span class="mtk9">ates&nbsp;of&nbsp;the&nbsp;chart&nbsp;point&nbsp;referenced&nbsp;by&nbsp;`firstPoint`</span><span class="mtk9">.</span></span><br><span><span class="mtk9">//&nbsp;The&nbsp;label&nbsp;displays&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;fi</span><span class="mtk9">rst&nbsp;chart&nbsp;point's&nbsp;`price`&nbsp;value.&nbsp;&nbsp;</span></span><br><span><span class="mtk16">label.new</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">firstPoint</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk33">firstPoint</span><span class="mtk1">.</span><span class="mtk33">price</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.green</span><span class="mtk18">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">style</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">label.style_label_down</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">textcolor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.white</span></span><br><span><span class="mtk1">&nbsp;</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Draw&nbsp;a&nbsp;label&nbsp;at&nbsp;the&nbsp;`index`&nbsp;and&nbsp;`price`&nbsp;coordin</span><span class="mtk9">ates&nbsp;of&nbsp;the&nbsp;chart&nbsp;point&nbsp;referenced&nbsp;by&nbsp;`secondPoint</span><span class="mtk9">`.</span></span><br><span><span class="mtk9">//&nbsp;The&nbsp;label&nbsp;displays&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;se</span><span class="mtk9">cond&nbsp;chart&nbsp;point's&nbsp;`price`&nbsp;value.&nbsp;</span></span><br><span><span class="mtk16">label.new</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">secondPoint</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk33">secondPoint</span><span class="mtk1">.</span><span class="mtk33">price</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.red</span><span class="mtk18">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">style</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">label.style_label_up</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">textcolor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.white</span></span><br><span><span class="mtk1">&nbsp;</span><span class="mtk13">)</span></span><br></code></div>
<p>Refer to the <a href="/pine-script-docs/visuals/lines-and-boxes/">Lines and boxes</a> page for additional examples of using chart points.</p>
<h4 id="collections" class="md-heading"><a href="#collections"> <span class="fancy-wrap">Collections<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Pine Script <em>collections</em> (<a href="/pine-script-docs/language/arrays/">arrays</a>, <a href="/pine-script-docs/language/matrices/">matrices</a>, and <a href="/pine-script-docs/language/maps/">maps</a>) are objects that store values or the <em>IDs (references)</em> of other objects as <em>elements</em>. Collection types enable scripts to group multiple values or IDs in a single location and perform advanced calculations. Arrays and matrices contain elements of <em>one</em> specific type. Maps can contain data of <em>two</em> types: one type for the <em>keys</em>, and another for the corresponding <em>value elements</em>. The <code dir="auto">array</code>, <code dir="auto">matrix</code>, and <code dir="auto">map</code> <em>namespaces</em> include all the built-in functions for creating and managing collections.</p>
<p>A collection’s <em>type identifier</em> consists of two parts: a <em>keyword</em> defining the collection’s <em>category</em> (<a href="https://www.tradingview.com/pine-script-reference/v6/#type_array">array</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_matrix">matrix</a>, or <a href="https://www.tradingview.com/pine-script-reference/v6/#type_map">map</a>), and a <em>type template</em> specifying the <em>types of elements</em> that the collection stores. The type template for array or matrix types consists of a single type keyword enclosed in angle brackets (e.g., <code dir="auto">&lt;int&gt;</code> for a collection of “int” values). The type template for a map type consists of <em>two</em> comma-separated keywords surrounded by angle brackets (e.g., <code dir="auto">&lt;string, int&gt;</code> for a map of “string” keys and “int” values).</p>
<p>Below, we list some examples of collection type identifiers and the types that they represent:</p>
<ul>
<li><code dir="auto">array&lt;int&gt;</code> — an array type for storing “int” values.</li>
<li><code dir="auto">array&lt;label&gt;</code> — an array type for storing <a href="https://www.tradingview.com/pine-script-reference/v6/#type_label">label</a> IDs.</li>
<li><code dir="auto">array&lt;myUDT&gt;</code> — an array type for storing references to objects of a <code dir="auto">myUDT</code> <a href="/pine-script-docs/language/type-system/#user-defined-types">user-defined type</a>.</li>
<li><code dir="auto">matrix&lt;float&gt;</code> — a matrix type for storing “float” values.</li>
<li><code dir="auto">matrix&lt;line&gt;</code> — a matrix type for storing <a href="https://www.tradingview.com/pine-script-reference/v6/#type_line">line</a> IDs.</li>
<li><code dir="auto">map&lt;string, float&gt;</code> — a map type for storing key-value pairs with “string” keys and “float” value elements.</li>
<li><code dir="auto">map&lt;int, myUDT&gt;</code> — a map type for storing “int” values as keys, and references to <code dir="auto">myUDT</code> objects as value elements.</li>
</ul>
<p>Scripts also use type templates in the <code dir="auto">*.new*()</code> functions that create new collections. For example, a call to <code dir="auto">array.new&lt;int&gt;()</code> creates an array that stores “int” values, and a call to <code dir="auto">map.new&lt;int, color&gt;()</code> creates a map that stores “int” keys and corresponding “color” values.</p>
<p>Programmers can explicitly define variables, parameters, and fields that accept references to objects of specific collection types by using the type identifier as the <em>type keyword</em> in the declaration. The following code snippet declares variables that hold references to collections of the type <code dir="auto">array&lt;int&gt;</code>, <code dir="auto">array&lt;float&gt;</code>, and <code dir="auto">matrix&lt;float&gt;</code>:</p>
<div class="pine-colorizer not-content colorized" data-id="6xe"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;References&nbsp;an&nbsp;"int"&nbsp;array&nbsp;with&nbsp;a&nbsp;single&nbsp;element.</span></span><br><span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">int</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">myIntArray</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.new</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">int</span><span class="mtk13">&gt;(</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">10</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Holds&nbsp;an&nbsp;initial&nbsp;reference&nbsp;of&nbsp;`na`.&nbsp;Can&nbsp;reference</span><span class="mtk9">&nbsp;an&nbsp;array&nbsp;of&nbsp;"float"&nbsp;values.</span></span><br><span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">myFloatArray</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;References&nbsp;a&nbsp;"float"&nbsp;matrix&nbsp;with&nbsp;two&nbsp;rows&nbsp;and&nbsp;thr</span><span class="mtk9">ee&nbsp;columns.</span></span><br><span><span class="mtk18 mtkb">matrix</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">myFloatMatrix</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">matrix.new</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;(</span><span class="mtk12">2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0.0</span><span class="mtk13">)</span></span><br></code></div>
<aside aria-label="Notice" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Notice</span></p><p>The <code dir="auto">array</code> namespace also includes <em>legacy functions</em> for creating arrays of specific built-in types. For example, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_array.new_float">array.new_float()</a> creates a “float” array, just like <code dir="auto">array.new&lt;float&gt;()</code>. However, we recommend using the general-purpose <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_array.new%3Ctype%3E">array.new&lt;type&gt;()</a> function, because it can create arrays of <em>any</em> supported type.</p><br><p>An alternative way to specify an array variable’s type is to prefix its declaration with the <em>element</em> type keyword, followed by empty <em>square brackets</em> (<code dir="auto">[]</code>). For example, a variable whose declaration includes <code dir="auto">int[]</code> as the type keyword accepts a reference to a collection of the type <code dir="auto">array&lt;int&gt;</code>. However, this legacy format is <em>deprecated</em>; future versions of Pine Script might not support it. Therefore, we recommend using the <code dir="auto">array&lt;type&gt;</code> format to define type identifiers for readability and consistency.</p><br><p>Note that there are no alternative <code dir="auto">*.new*()</code> functions or type declaration formats for matrices or maps.</p><p></p></div></aside>
<p>Scripts can construct collections and type templates for most available types, including:</p>
<ul>
<li>All <a href="/pine-script-docs/language/type-system/#value-types">value types</a>: <a href="https://www.tradingview.com/pine-script-reference/v6/#type_int">int</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_float">float</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_bool">bool</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_color">color</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_string">string</a>, and <a href="/pine-script-docs/language/type-system/#enum-types">enum types</a>.</li>
<li>The following <em>special types</em>: <a href="https://www.tradingview.com/pine-script-reference/v6/#type_line">line</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_linefill">linefill</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_box">box</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_polyline">polyline</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_label">label</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_table">table</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#type_chart.point">chart.point</a>.</li>
<li><a href="/pine-script-docs/language/type-system/#user-defined-types">User-defined types (UDTs)</a>.</li>
</ul>
<p>Note that maps can use any of these types as value elements, but they can store only <em>value types</em> as <em>keys</em>. See the <a href="/pine-script-docs/language/maps/">Maps</a> page to learn more.</p>
<p>Collections <em>cannot</em> store elements of any of the following types:</p>
<ul>
<li>The <em>unique types</em> for specific built-ins, such as “plot_style”, “plot_display”, and “barmerge_gaps”.</li>
<li>The “plot” or “hline” type.</li>
<li>Any collection type.</li>
</ul>
<aside aria-label="Tip" class="tv-informer not-content" style="--informer-header-color:#089981;--informer-back-color-light:#DAF2EE;--informer-back-color-dark:#082621"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm3.87-12.15c.36.2.49.66.28 1.02l-4 7a.75.75 0 0 1-1.18.16l-3-3a.75.75 0 1 1 1.06-1.06l2.3 2.3 3.52-6.14a.75.75 0 0 1 1.02-.28Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Tip</span>Although collections cannot directly store the IDs of other collections, they <em>can</em> store references to <em>user-defined type</em> instances that contain collection IDs in their fields. See the next section to learn more about UDTs.</p></div></aside>
<h4 id="user-defined-types" class="md-heading"><a href="#user-defined-types">User-defined <span class="fancy-wrap">types<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>The <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_type">type</a> keyword enables the creation of <em>user-defined types (UDTs)</em>. UDTs are composite types; they can contain an arbitrary number of <em>fields</em> that can be of <em>any</em> supported type, including <a href="/pine-script-docs/language/type-system/#collections">collection types</a> and other user-defined types. Scripts use UDTs to create <a href="/pine-script-docs/language/objects/">custom objects</a> that can store multiple types of data in a single location.</p>
<p>The syntax to declare a user-defined type is as follows:</p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">[export ]type &lt;UDT_identifier&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8;--1:#24292e">    </span></span><span style="--0:#e1e4e8;--1:#24292e">[field_type] &lt;field_name&gt;[ = &lt;value&gt;]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8;--1:#24292e">    </span></span><span style="--0:#e1e4e8;--1:#24292e">...</span></div></div></code></pre></figure></div>
<p>Where:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v6/#kw_export">export</a> is the optional keyword for exporting the UDT from a <em>library</em>, enabling its use in other scripts. See the <a href="/pine-script-docs/concepts/libraries/#user-defined-types-and-objects">User-defined types and objects</a> section of the <a href="/pine-script-docs/concepts/libraries/">Libraries</a> page to learn more.</li>
<li><code dir="auto">UDT_identifier</code> is the <em>name</em> of the user-defined type.</li>
<li><code dir="auto">field_type</code> is a type keyword or identifier, which defines the field’s type.</li>
<li><code dir="auto">field_name</code> is the name of the field.</li>
<li><code dir="auto">value</code> is an optional <em>default value</em> for the field. Each time that the script creates a new instance of the UDT, it initializes the field with the specified value. If not specified, the field’s default value is <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a>, or <code dir="auto">false</code> if the field’s type is “bool”. Note that the default value <em>cannot</em> be the result of a function call or any other expression; only a <em>literal value</em> or a compatible <em>built-in variable</em> is allowed.</li>
</ul>
<p>The following example declares a UDT named <code dir="auto">pivotPoint</code>. The type contains two fields for storing pivot data: <code dir="auto">pivotTime</code> and <code dir="auto">priceLevel</code>. The <code dir="auto">pivotTime</code> field is of the type “int”, and <code dir="auto">priceLevel</code> is of the type “float”:</p>
<div class="pine-colorizer not-content colorized" data-id="22p"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@type</span><span class="mtk9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;custom&nbsp;type&nbsp;for&nbsp;creating&nbsp;objects&nbsp;th</span><span class="mtk9">at&nbsp;store&nbsp;pivot&nbsp;information.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;pivotTime&nbsp;&nbsp;Stores&nbsp;the&nbsp;pivot's&nbsp;timestamp.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;priceLevel&nbsp;Stores&nbsp;the&nbsp;pivot's&nbsp;price.</span></span><br><span><span class="mtk18">type</span><span class="mtk1">&nbsp;</span><span class="mtk33">pivotPoint</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;&nbsp;&nbsp;</span><span class="mtk33">pivotTime</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">priceLevel</span></span><br></code></div>
<p>User-defined types can contain fields for referencing other UDT objects. Additionally, UDTs support <em>type recursion</em>, meaning a UDT can include fields for referencing objects of the <em>same</em> UDT. Below, we added a <code dir="auto">nextPivot</code> field to our <code dir="auto">pivotPoint</code> type. Objects of this version of the UDT can store a <em>reference (ID)</em> to a separate object of the same <code dir="auto">pivotPoint</code> type in this field:</p>
<div class="pine-colorizer not-content colorized" data-id="7mq"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@type</span><span class="mtk9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;custom&nbsp;type&nbsp;for&nbsp;creating&nbsp;objects&nbsp;th</span><span class="mtk9">at&nbsp;store&nbsp;pivot&nbsp;information.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;pivotTime&nbsp;&nbsp;Stores&nbsp;the&nbsp;pivot's&nbsp;timestamp.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;priceLevel&nbsp;Stores&nbsp;the&nbsp;pivot's&nbsp;price.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;nextPivot&nbsp;&nbsp;Stores&nbsp;the&nbsp;reference&nbsp;to&nbsp;*another*&nbsp;inst</span><span class="mtk9">ance&nbsp;of&nbsp;the&nbsp;`pivotPoint`&nbsp;type.</span></span><br><span><span class="mtk18">type</span><span class="mtk1">&nbsp;</span><span class="mtk33">pivotPoint</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">pivotTime</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">priceLevel</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">pivotPoint</span><span class="mtk1">&nbsp;</span><span class="mtk33">nextPivot</span></span><br></code></div>
<p>Every user-defined type includes built-in <code dir="auto">*.new()</code> and <code dir="auto">*.copy()</code> functions for creating objects or copying existing ones. Both functions construct a new object on every call and return that object’s ID. For example, <code dir="auto">pivotPoint.new()</code> creates a new instance of our <code dir="auto">pivotPoint</code> type and returns its ID for use in other parts of the script.</p>
<p>To learn more about objects of UDTs and how to use them, see the <a href="/pine-script-docs/language/objects/">Objects</a> page.</p>
<h3 id="void" class="md-heading"><a href="#void"> <span class="fancy-wrap">void<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Pine Script includes some <a href="/pine-script-docs/language/built-ins/#built-in-functions">built-in functions</a> that produce <em>side effects</em> — such as creating triggers for <a href="/pine-script-docs/concepts/alerts/">alerts</a>, generating chart <a href="/pine-script-docs/visuals/overview/">visuals</a>, or modifying <a href="/pine-script-docs/language/type-system/#collections">collections</a> — <em>without</em> returning any value or reference. The return type of these functions is <strong>“void”</strong>, which represents the <em>absence</em> of usable data. The “void” type applies to every function that performs actions without returning anything that the script can use elsewhere in the code.</p>
<p>For example, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_plotshape">plotshape()</a> performs an action (plots shapes on the chart), but it does <em>not</em> return a usable ID like the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_plot">plot()</a> function does. Therefore, its return type is “void”. Another example is the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_alert">alert()</a> function. The function creates an alert trigger without returning any data that the script can use elsewhere, so it also has the “void” return type.</p>
<p>Because “void” represents the absence of usable data, scripts <em>cannot</em> call functions that return “void” in other calculations or assign their results to variables. Additionally, there is no available keyword to specify that an expression returns the “void” type.</p>
<h2 id="na-value" class="md-heading"><a href="#na-value"><span>​<code dir="auto">na</code>​ value</span><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></a></h2>
<p>Pine Script includes a special value called <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a>, which is an abbreviation for <em>“not available”</em>. Scripts use <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> to represent an <em>undefined</em> value or reference. It is similar to <code dir="auto">null</code> in Java or <code dir="auto">NONE</code> in Python.</p>
<p>Pine can automatically <em>cast</em> <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> values to almost any type. The type assigned to an <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> value depends on how the code uses it. However, in some cases, more than one type might be valid for a piece of code that includes <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a>, and the compiler cannot determine which type to assign in those cases.</p>
<p>For example, this line of code declares a <code dir="auto">myVar</code> variable with an initial value of <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a>. This line causes a <em>compilation error</em>, because the type of data the variable might hold later is <em>uncertain</em>. It might store a “float” value for plotting, a “string” value for setting text in a label, or maybe even a <em>reference</em> to a <a href="/pine-script-docs/language/type-system/#drawing-types">drawing object</a>:</p>
<div class="pine-colorizer not-content colorized" data-id="7dr"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//&nbsp;This&nbsp;declaration&nbsp;causes&nbsp;an&nbsp;error,&nbsp;because&nbsp;the&nbsp;t</span><span class="mtk9">ype&nbsp;that&nbsp;`myVar`&nbsp;accepts&nbsp;is&nbsp;*uncertain*.</span></span><br><span><span class="mtk33">myVar</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span></span><br></code></div>
<p>To resolve this error, we must explicitly define the variable’s type in the code. For instance, if the <code dir="auto">myVar</code> variable will store “float” values, we can prefix the variable with the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_float">float</a> keyword to specify its type as “float”:</p>
<div class="pine-colorizer not-content colorized" data-id="2dz"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//&nbsp;It&nbsp;is&nbsp;clear&nbsp;to&nbsp;the&nbsp;compiler&nbsp;that&nbsp;this&nbsp;variable&nbsp;</span><span class="mtk9">accepts&nbsp;"float"&nbsp;values,&nbsp;so&nbsp;this&nbsp;declaration&nbsp;does&nbsp;n</span><span class="mtk9">ot&nbsp;cause&nbsp;an&nbsp;error.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">myVar</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span></span><br></code></div>
<p>Alternatively, we can use the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_float">float()</a> function to explicitly cast the <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> value’s type to “float”, causing the variable to automatically inherit the “float” type:</p>
<div class="pine-colorizer not-content colorized" data-id="5cg"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//&nbsp;This&nbsp;declaration&nbsp;does&nbsp;not&nbsp;cause&nbsp;an&nbsp;error,&nbsp;becau</span><span class="mtk9">se&nbsp;`na`&nbsp;is&nbsp;cast&nbsp;to&nbsp;"float",&nbsp;and&nbsp;`myVar`&nbsp;inherits&nbsp;t</span><span class="mtk9">he&nbsp;type.</span></span><br><span><span class="mtk33">myVar</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">float</span><span class="mtk13">(</span><span class="mtk11">na</span><span class="mtk13">)</span></span><br></code></div>
<p>Scripts can test whether the result from a variable or expression is <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> by using the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_na">na()</a> function. The function returns <code dir="auto">true</code> if the value or reference is <em>undefined</em>. Otherwise, it returns <code dir="auto">false</code>. For example, the following <a href="/pine-script-docs/language/operators/#-ternary-operator">ternary operation</a> returns 0 if the value of <code dir="auto">myVar</code> is <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a>, or <a href="https://www.tradingview.com/pine-script-reference/v6/#var_close">close</a> if the value is defined:</p>
<div class="pine-colorizer not-content colorized" data-id="69f"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Holds&nbsp;0&nbsp;if&nbsp;the&nbsp;the&nbsp;value&nbsp;of&nbsp;`myVar`&nbsp;is&nbsp;`na`;&nbsp;`clo</span><span class="mtk9">se`&nbsp;otherwise.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">myClose</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">na</span><span class="mtk13">(</span><span class="mtk33">myVar</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span></span><br></code></div>
<p>It is crucial to note that scripts <strong>cannot</strong> directly <em>compare</em> values to <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a>, because by definition, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> values are undefined. The <a href="https://www.tradingview.com/pine-script-reference/v6/#op_==">==</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#op_!=">!=</a> operators, and all other <a href="/pine-script-docs/language/operators/#comparison-operators">comparison operators</a> always return <code dir="auto">false</code> if at least one of the operands is a variable with an <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> value. Therefore, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> comparisons can cause <em>unexpected results</em>. Additionally, if a script attempts to use <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> directly as an operand in any comparison operation, it causes a <em>compilation error</em>. For example:</p>
<div class="pine-colorizer not-content colorized" data-id="6xq"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//&nbsp;This&nbsp;line&nbsp;causes&nbsp;an&nbsp;error,&nbsp;because&nbsp;using&nbsp;`na`&nbsp;d</span><span class="mtk9">irectly&nbsp;as&nbsp;an&nbsp;operand&nbsp;for&nbsp;the&nbsp;`==`&nbsp;operator&nbsp;is&nbsp;*no</span><span class="mtk9">t&nbsp;allowed*.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">myClose</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">myVar</span><span class="mtk1">&nbsp;</span><span class="mtk18">==</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span></span><br></code></div>
<p>Best practices often involve <em>replacing</em> occurrences of undefined values in the code to prevent them from propagating in a script’s calculations. There are three ways to replace <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> values with defined values in a script’s calculations, depending on the type:</p>
<ul>
<li>For the “int”, “float”, and “color” types, scripts can use the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_nz">nz()</a> function to replace <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> values with a type-specific default value (<code dir="auto">0</code> for “int”, <code dir="auto">0.0</code> for “float”, or <code dir="auto">#00000000</code> for “color”) or a specified replacement.</li>
<li>Alternatively, scripts can use the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_fixnan">fixnan()</a> function to replace <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> values of the above types in a series with the latest non-na value from that series’ history.</li>
<li>For other types such as “string”, scripts can test for an undefined value using the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_na">na()</a> function and replace it if the function returns <code dir="auto">true</code>.</li>
</ul>
<p>The following line of code uses the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_nz">nz()</a> function to replace the value of <code dir="auto">close[1]</code> with the current bar’s <a href="https://www.tradingview.com/pine-script-reference/v6/#var_open">open</a> value if the expression’s result is <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a>. This logic prevents the code from returning <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> on the first bar, where there is <em>no</em> previous <a href="https://www.tradingview.com/pine-script-reference/v6/#var_close">close</a> value for the <a href="https://www.tradingview.com/pine-script-reference/v6/#op_%5B%5D">[]</a> operator to access:</p>
<div class="pine-colorizer not-content colorized" data-id="6to"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Holds&nbsp;`true`&nbsp;if&nbsp;the&nbsp;current&nbsp;`close`&nbsp;value&nbsp;is&nbsp;abov</span><span class="mtk9">e&nbsp;the&nbsp;previous&nbsp;`close`&nbsp;(or&nbsp;the&nbsp;current&nbsp;`open`&nbsp;if&nbsp;t</span><span class="mtk9">he&nbsp;previous&nbsp;`close`&nbsp;is&nbsp;`na`).</span></span><br><span><span class="mtk18 mtkb">bool</span><span class="mtk1">&nbsp;</span><span class="mtk33">risingClose</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk16">nz</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">]</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">open</span><span class="mtk13">)</span></span><br></code></div>
<p>Replacing <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> values to avoid unintended results is especially helpful when a calculation involves data that can <em>persist</em> across bars.</p>
<p>For example, the script below declares a global <code dir="auto">allTimeHigh</code> variable using the <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_var">var</a> keyword, meaning the variable is initialized only on the first bar and persists on all subsequent bars. On each bar, the script updates the variable with the result of a <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_math.max">math.max()</a> call that returns the maximum between the current <code dir="auto">allTimeHigh</code> and <a href="https://www.tradingview.com/pine-script-reference/v6/#var_high">high</a> values, then plots the result.</p>
<p>This script plots <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> instead of the chart’s all-time high on every bar. The <code dir="auto">allTimeHigh</code> variable has an initial value of <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a>, and the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_math.max">math.max()</a> function <em>cannot</em> compare <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> to the current value of <a href="https://www.tradingview.com/pine-script-reference/v6/#var_high">high</a>. Therefore, the function call consistently returns <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a>:</p>
<div class="pine-colorizer not-content colorized" data-id="6vb"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Persistent&nbsp;`na`&nbsp;result&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;variable&nbsp;intended&nbsp;to&nbsp;store&nbsp;the&nbsp;chart's&nbsp;all-time</span><span class="mtk9">&nbsp;high&nbsp;as&nbsp;of&nbsp;the&nbsp;current&nbsp;bar,&nbsp;with&nbsp;an&nbsp;initial&nbsp;value</span><span class="mtk9">&nbsp;of&nbsp;`na`.&nbsp;</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">allTimeHigh</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Compare&nbsp;the&nbsp;current&nbsp;`allTimeHigh`&nbsp;and&nbsp;`high`&nbsp;va</span><span class="mtk9">lues,&nbsp;and&nbsp;update&nbsp;the&nbsp;`allTimeHigh`&nbsp;with&nbsp;the&nbsp;maximu</span><span class="mtk9">m.</span></span><br><span><span class="mtk9">//&nbsp;This&nbsp;line&nbsp;does&nbsp;not&nbsp;assign&nbsp;the&nbsp;current&nbsp;all-time&nbsp;</span><span class="mtk9">high&nbsp;to&nbsp;the&nbsp;variable;&nbsp;the&nbsp;value&nbsp;remains&nbsp;`na`&nbsp;on&nbsp;*e</span><span class="mtk9">very&nbsp;bar*.</span></span><br><span><span class="mtk9">//&nbsp;The&nbsp;`math.max()`&nbsp;function&nbsp;cannot&nbsp;compare&nbsp;undefi</span><span class="mtk9">ned&nbsp;values,&nbsp;so&nbsp;it&nbsp;returns&nbsp;`na`&nbsp;if&nbsp;at&nbsp;least&nbsp;one&nbsp;arg</span><span class="mtk9">ument&nbsp;is&nbsp;`na`.&nbsp;</span></span><br><span><span class="mtk33">allTimeHigh</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.max</span><span class="mtk13">(</span><span class="mtk33">allTimeHigh</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">allTimeHigh</span><span class="mtk13">)</span></span><br></code></div>
<p>To fix this script’s behavior and enable it to calculate the chart’s all-time high as intended, we must stop the script from passing an <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> value to the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_math.max">math.max()</a> call. In the version below, we included the expression <code dir="auto">nz(allTimeHigh, high)</code> as the first argument in the function call. Now, on any execution where the <code dir="auto">allTimeHigh</code> value is <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a>, the script replaces it with the value of <a href="https://www.tradingview.com/pine-script-reference/v6/#var_high">high</a>, preventing <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> values from persisting in the calculation:</p>
<div class="pine-colorizer not-content colorized" data-id="7e1"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Replaced&nbsp;`na`&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Stores&nbsp;the&nbsp;chart's&nbsp;all-time&nbsp;high&nbsp;value&nbsp;as&nbsp;of&nbsp;the&nbsp;</span><span class="mtk9">current&nbsp;bar.&nbsp;</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">allTimeHigh</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;The&nbsp;`nz()`&nbsp;call&nbsp;in&nbsp;this&nbsp;line&nbsp;replaces&nbsp;`allTimeH</span><span class="mtk9">igh`&nbsp;with&nbsp;`high`&nbsp;when&nbsp;the&nbsp;variable's&nbsp;value&nbsp;is&nbsp;`na`</span><span class="mtk9">.&nbsp;Now,&nbsp;the&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;`math.max()`&nbsp;function&nbsp;never&nbsp;receives&nbsp;an&nbsp;`na`&nbsp;ar</span><span class="mtk9">gument,&nbsp;so&nbsp;the&nbsp;`na`&nbsp;result&nbsp;no&nbsp;longer&nbsp;persists.&nbsp;</span></span><br><span><span class="mtk33">allTimeHigh</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.max</span><span class="mtk13">(</span><span class="mtk16">nz</span><span class="mtk13">(</span><span class="mtk33">allTimeHigh</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">allTimeHigh</span><span class="mtk13">)</span></span><br></code></div>
<p>Note that:</p>
<ul>
<li>An alternative way to fix this script’s behavior is to initialize the <code dir="auto">allTimeHigh</code> variable using the value of <a href="https://www.tradingview.com/pine-script-reference/v6/#var_high">high</a>. The fix works in this case because the script does not use <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> later in its calculations.</li>
</ul>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>Some built-in functions automatically <em>ignore</em> <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> values in their calculations, preventing them from continuously returning <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> results in most cases. For example, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_ta.max">ta.max()</a> calculates the all-time high of a series <em>without</em> considering <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> values. Check the “Remarks” section of a function’s entry in the <a href="https://www.tradingview.com/pine-script-reference/v6/">Reference Manual</a> to confirm whether it ignores <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> in its calculations.</p></div></aside>
<h2 id="type-casting" class="md-heading"><a href="#type-casting">Type <span class="fancy-wrap">casting<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p>Pine Script can convert (cast) values of one type to another type either by using specific functions, or automatically.</p>
<p>The <em>automatic</em> type-casting process can cast “int” values to the “float” type when necessary. All variables, function parameters, fields, and expressions that allow the “float” type can also accept “int” values, because any integer is equivalent to a floating-point number with its fractional part set to 0. If a script assigns an “int” value to a variable, function parameter, or field declared with the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_float">float</a> keyword, the assigned value’s type automatically changes to “float”. Likewise, Pine converts “int” values to “float” in arithmetic or comparison <a href="/pine-script-docs/language/operators/">operations</a> that include a “float” operand.</p>
<p>For example, the following line of code uses the addition operator <a href="https://www.tradingview.com/pine-script-reference/v6/#op_+">+</a> with “int” and “float” operands. Pine automatically casts the “int” value to the “float” type before performing the addition operation, and thus the expression returns a “float” result:</p>
<div class="pine-colorizer not-content colorized" data-id="721"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//&nbsp;This&nbsp;variable&nbsp;holds&nbsp;a&nbsp;"float"&nbsp;value,&nbsp;because&nbsp;an</span><span class="mtk9">y&nbsp;arithmetic&nbsp;operation&nbsp;with&nbsp;"int"&nbsp;and&nbsp;"float"&nbsp;oper</span><span class="mtk9">ands</span></span><br><span><span class="mtk9">//&nbsp;returns&nbsp;a&nbsp;"float"&nbsp;result.</span></span><br><span><span class="mtk33">myVar</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">bar_index</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span></span><br></code></div>
<p>Sometimes, a script must cast data of one type to another. Scripts can cast <a href="/pine-script-docs/language/type-system/#na-value"><code dir="auto">na</code> values</a>, or numeric values, to specific types by using the following <em>type-casting functions</em>: <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_int">int()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_float">float()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_bool">bool()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_color">color()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_string">string()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_line">line()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_linefill">linefill()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label">label()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_box">box()</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_table">table()</a>.</p>
<p>For example, the script below declares a <code dir="auto">LENGTH</code> variable of the “const float” type, then attempts to use that variable as the <code dir="auto">length</code> argument of a <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_ta.sma">ta.sma()</a> function call:</p>
<div class="pine-colorizer not-content colorized" data-id="4o6"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Invalid&nbsp;type&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Holds&nbsp;a&nbsp;"const&nbsp;float"&nbsp;value&nbsp;intended&nbsp;for&nbsp;use&nbsp;in&nbsp;t</span><span class="mtk9">he&nbsp;`length`&nbsp;argument&nbsp;of&nbsp;`ta.sma()`.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">LENGTH</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">10.0</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;This&nbsp;line&nbsp;causes&nbsp;an&nbsp;error,&nbsp;because&nbsp;the&nbsp;`length`</span><span class="mtk9">&nbsp;parameter&nbsp;has&nbsp;the&nbsp;expected&nbsp;type&nbsp;"series&nbsp;int".</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">sma</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.sma</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">LENGTH</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">sma</span><span class="mtk13">)</span></span><br></code></div>
<p>The above code causes the following compilation error:</p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text" tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">Cannot call `ta.sma()` with the argument `length = LENGTH`. An argument of "const float" type was used but a "series int" is expected.</span></div></div></code></pre></figure></div>
<p>This error tells us that the code uses a “float” value where an “int” value is required. There is no automatic rule to cast “float” to “int”, so we must resolve the error manually. In this version of the code, we used the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_int">int()</a> function to cast the “float” value of the <code dir="auto">LENGTH</code> variable to the “int” type in the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_ta.sma">ta.sma()</a> call. Now, the script compiles successfully:</p>
<div class="pine-colorizer not-content colorized" data-id="14w"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Explicit&nbsp;casting&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Holds&nbsp;a&nbsp;"const&nbsp;float"&nbsp;value&nbsp;intended&nbsp;for&nbsp;use&nbsp;in&nbsp;t</span><span class="mtk9">he&nbsp;`length`&nbsp;argument&nbsp;of&nbsp;`ta.sma()`.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">LENGTH</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">10.0</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;This&nbsp;line&nbsp;does&nbsp;not&nbsp;cause&nbsp;an&nbsp;error,&nbsp;because&nbsp;the&nbsp;</span><span class="mtk9">`int()`&nbsp;function&nbsp;converts&nbsp;the&nbsp;`length`&nbsp;argument's&nbsp;</span><span class="mtk9">type&nbsp;to&nbsp;"const&nbsp;int".</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">sma</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.sma</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">int</span><span class="mtk13">(</span><span class="mtk33">LENGTH</span><span class="mtk13">))</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">sma</span><span class="mtk13">)</span></span><br></code></div>
<p>Note that:</p>
<ul>
<li>The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_int">int()</a> function removes all fractional information from a “float” value <em>without</em> rounding. For instance, a call such as <code dir="auto">int(10.5)</code> returns a value of 10, not 11. To round a “float” value to the nearest whole number before converting it to “int”, use <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_math.round">math.round()</a>.</li>
</ul>
<p>For most available types, explicit type casting is useful when defining variables that have initial <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> values or references, as explained in the previous section, <a href="/pine-script-docs/language/type-system/#na-value"><code dir="auto">na</code> value</a>.</p>
<p>For example, a script can declare a variable that holds an <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> reference of the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_label">label</a> type in either of the following, equivalent ways:</p>
<div class="pine-colorizer not-content colorized" data-id="40u"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//&nbsp;Explicitly&nbsp;specify&nbsp;that&nbsp;the&nbsp;variable&nbsp;can&nbsp;refere</span><span class="mtk9">nce&nbsp;`label`&nbsp;objects.</span></span><br><span><span class="mtk18 mtkb">label</span><span class="mtk1">&nbsp;</span><span class="mtk33">myLabel</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Explicitly&nbsp;cast&nbsp;the&nbsp;`na`&nbsp;instance&nbsp;to&nbsp;the&nbsp;`label</span><span class="mtk9">`&nbsp;type,&nbsp;causing&nbsp;`myLabel`&nbsp;to&nbsp;inherit&nbsp;the&nbsp;type.</span></span><br><span><span class="mtk33">myLabel</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label</span><span class="mtk13">(</span><span class="mtk11">na</span><span class="mtk13">)</span></span><br></code></div>
<h2 id="tuples" class="md-heading"><a href="#tuples"> <span class="fancy-wrap">Tuples<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p>A <em>tuple</em> is a <em>comma-separated list</em> of expressions enclosed in square brackets (e.g., <code dir="auto">[expr1, expr2, expr3]</code>). If a structure that creates a local scope, such as a function, <a href="/pine-script-docs/language/methods/">method</a>, <a href="/pine-script-docs/language/conditional-structures/">conditional structure</a>, or <a href="/pine-script-docs/language/loops/">loop</a>, returns more than one value, the code lists those values in the form of a tuple.</p>
<p>For example, the following <a href="/pine-script-docs/language/user-defined-functions/">user-defined function</a> returns a tuple containing two values. The first item in the tuple is the sum of the function’s <code dir="auto">a</code> and <code dir="auto">b</code> arguments, and the second is the product of those two values:</p>
<div class="pine-colorizer not-content colorized" data-id="2ny"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@function</span><span class="mtk9">&nbsp;Calculates&nbsp;the&nbsp;sum&nbsp;and&nbsp;product&nbsp;of&nbsp;two&nbsp;"float"&nbsp;val</span><span class="mtk9">ues.</span></span><br><span><span class="mtk15">calcSumAndProduct</span><span class="mtk13">(</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">a</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">b</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;sum&nbsp;of&nbsp;`a`&nbsp;and&nbsp;`b`.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">sum</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">a</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk33">b</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;product&nbsp;of&nbsp;`a`&nbsp;and&nbsp;`b`.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">product</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">a</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">b</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Return&nbsp;a&nbsp;tuple&nbsp;containing&nbsp;the&nbsp;`sum`&nbsp;and&nbsp;`produc</span><span class="mtk9">t`&nbsp;values.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk13">[</span><span class="mtk33">sum</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">product</span><span class="mtk13">]</span></span><br></code></div>
<p>When calling this function later in the code, the script must use a <a href="/pine-script-docs/language/variable-declarations/#tuple-declarations">tuple declaration</a> containing one new variable for each value returned by the function to use its data. For example, the <code dir="auto">hlSum</code> and <code dir="auto">hlProduct</code> variables in the following tuple declaration hold the <code dir="auto">sum</code> and <code dir="auto">product</code> values returned by a <code dir="auto">calcSumAndProduct()</code> call:</p>
<div class="pine-colorizer not-content colorized" data-id="72e"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//&nbsp;Declare&nbsp;a&nbsp;tuple&nbsp;containing&nbsp;a&nbsp;variable&nbsp;for&nbsp;each&nbsp;</span><span class="mtk9">value&nbsp;returned&nbsp;by&nbsp;the&nbsp;`calcSumAndProduct()`&nbsp;call.</span></span><br><span><span class="mtk13">[</span><span class="mtk33">hlSum</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">hlProduct</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">calcSumAndProduct</span><span class="mtk13">(</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk13">)</span></span><br></code></div>
<p>Note that:</p>
<ul>
<li>In contrast to individual <a href="/pine-script-docs/language/variable-declarations/">variable declarations</a>, tuple declarations <em>do not</em> support <a href="/pine-script-docs/language/type-system/#types">type keywords</a>. The compiler automatically determines the type of each variable in a declared tuple.</li>
</ul>
<p>If a script’s calculations do not require <em>all</em> the values returned by a function or structure, programmers can <a href="/pine-script-docs/language/variable-declarations/#using-an-underscore-_-as-an-identifier">use an underscore</a> as the <em>identifier</em> for one or more returned items in the tuple declaration. If a variable’s identifier is an underscore, that variable is not usable elsewhere in the code, such as in comparisons or arithmetic expressions.</p>
<p>For example, if we do not require the <code dir="auto">product</code> value returned by our <code dir="auto">calcSumAndProduct()</code> function, we can replace the <code dir="auto">hlProduct</code> variable with <code dir="auto">_</code> in our declared tuple:</p>
<div class="pine-colorizer not-content colorized" data-id="3tl"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//&nbsp;Declare&nbsp;a&nbsp;tuple&nbsp;with&nbsp;`_`&nbsp;as&nbsp;the&nbsp;second&nbsp;identifi</span><span class="mtk9">er,&nbsp;signifying&nbsp;that&nbsp;the&nbsp;script&nbsp;does&nbsp;not&nbsp;use&nbsp;the&nbsp;se</span><span class="mtk9">cond&nbsp;returned&nbsp;value.</span></span><br><span><span class="mtk9">//&nbsp;The&nbsp;`_`&nbsp;identifier&nbsp;in&nbsp;this&nbsp;tuple&nbsp;is&nbsp;*not*&nbsp;usabl</span><span class="mtk9">e&nbsp;elsewhere&nbsp;in&nbsp;the&nbsp;code.</span></span><br><span><span class="mtk13">[</span><span class="mtk33">hlSum</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">_</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">calcSumAndProduct</span><span class="mtk13">(</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk13">)</span></span><br></code></div>
<p>In the above examples, the resulting tuple contains two items of the same type (“float”). However, Pine does not restrict tuples to only one type; a single tuple can contain multiple items of <em>different types</em>. For example, the custom <code dir="auto">chartInfo()</code> function below returns a five-item tuple containing “int”, “float”, “bool”, “color”, and “string” values:</p>
<div class="pine-colorizer not-content colorized" data-id="4va"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@function</span><span class="mtk9">&nbsp;Returns&nbsp;information&nbsp;about&nbsp;the&nbsp;current&nbsp;chart.</span></span><br><span><span class="mtk15">chartInfo</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;first&nbsp;visible&nbsp;bar's&nbsp;UNIX&nbsp;time&nbsp;value.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">firstVisibleTime</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">chart.left_visible_bar_time</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;`close`&nbsp;value&nbsp;at&nbsp;the&nbsp;`firstVisibleTime`.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">firstVisibleClose</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.valuewhen</span><span class="mtk13">(</span><span class="mtk16">ta.cross</span><span class="mtk13">(</span><span class="mtk11">time</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">firstVisibleTime</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Is&nbsp;`true`&nbsp;if&nbsp;the&nbsp;chart&nbsp;has&nbsp;a&nbsp;standard&nbsp;chart&nbsp;type;</span><span class="mtk9">&nbsp;`false`&nbsp;otherwise.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">bool</span><span class="mtk1">&nbsp;</span><span class="mtk33">isStandard</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">chart.is_standard</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;foreground&nbsp;color&nbsp;of&nbsp;the&nbsp;chart.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">color</span><span class="mtk1">&nbsp;</span><span class="mtk33">fgColor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">chart.fg_color</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;ticker&nbsp;ID&nbsp;of&nbsp;the&nbsp;current&nbsp;chart.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">symbol</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">syminfo.tickerid</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Return&nbsp;a&nbsp;tuple&nbsp;containing&nbsp;the&nbsp;values.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk13">[</span><span class="mtk33">firstVisibleTime</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">firstVisibleClose</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">isStandard</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">fgColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">symbol</span><span class="mtk13">]</span></span><br></code></div>
<p>Scripts can also pass tuples to the <code dir="auto">expression</code> parameter of <code dir="auto">request.*()</code> functions, enabling them to retrieve <em>multiple</em> series from a single function call. A single call to <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_request.security">request.security()</a> or another <code dir="auto">request.*()</code> function that requests a tuple of data still counts as <em>one</em> data request, not multiple. See the <a href="/pine-script-docs/concepts/other-timeframes-and-data/">Other timeframes and data</a> page to learn more about <code dir="auto">request.*()</code> functions and the data that they can retrieve.</p>
<p>The following code snippet defines a <code dir="auto">roundedOHLC()</code> function that returns a tuple of OHLC prices rounded to the nearest values that are divisible by the symbol’s minimum tick size. We use this function as the <code dir="auto">expression</code> argument in a <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_request.security">request.security()</a> call to retrieve a tuple containing the symbol’s rounded price values on the “1D” timeframe:</p>
<div class="pine-colorizer not-content colorized" data-id="4r2"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@function</span><span class="mtk9">&nbsp;Returns&nbsp;a&nbsp;tuple&nbsp;of&nbsp;OHLC&nbsp;values,&nbsp;rounded&nbsp;to&nbsp;the&nbsp;ne</span><span class="mtk9">arest&nbsp;tick.</span></span><br><span><span class="mtk15">roundedOHLC</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk13">[</span><span class="mtk16">math.round_to_mintick</span><span class="mtk13">(</span><span class="mtk11">open</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.round_to_mintick</span><span class="mtk13">(</span><span class="mtk11">high</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.round_to_mintick</span><span class="mtk13">(</span><span class="mtk11">low</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.round_to_mintick</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk13">)]</span></span><br><span><span></span></span><br><span><span class="mtk13">[</span><span class="mtk33">op</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">hi</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lo</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">cl</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"1D"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">roundedOHLC</span><span class="mtk13">())</span></span><br></code></div>
<p>An alternative way to perform the same request is to pass the tuple of rounded values <em>directly</em> to the <code dir="auto">expression</code> parameter of the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_request.security">request.security()</a> call. For example:</p>
<div class="pine-colorizer not-content colorized" data-id="2th"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk13">[</span><span class="mtk33">op</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">hi</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lo</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">cl</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"1D"</span><span class="mtk18">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk13">[</span><span class="mtk16">math.round_to_mintick</span><span class="mtk13">(</span><span class="mtk11">open</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.round_to_mintick</span><span class="mtk13">(</span><span class="mtk11">high</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.round_to_mintick</span><span class="mtk13">(</span><span class="mtk11">low</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.round_to_mintick</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk13">)]</span></span><br><span><span class="mtk1">&nbsp;</span><span class="mtk13">)</span></span><br></code></div>
<p>Note that:</p>
<ul>
<li>Only the <code dir="auto">request.*()</code> functions that have an <code dir="auto">expression</code> parameter and the <code dir="auto">input.*()</code> functions that include an <code dir="auto">options</code> parameter support this argument format. No other functions can use tuples as arguments.</li>
</ul>
<p>Conditional structures and loops can use tuples as their return expressions, enabling them to return multiple values at once after the script exits their scopes. For example, the <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_if">if</a> statement below returns a two-item tuple from one of its local blocks:</p>
<div class="pine-colorizer not-content colorized" data-id="47x"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk13">[</span><span class="mtk33">v1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">v2</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk11">open</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk13">[</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">]</span></span><br><span><span class="mtk18">else</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk13">[</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk13">]</span></span><br></code></div>
<p>The following <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_switch">switch</a> statement is equivalent to the above <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_if">if</a> statement:</p>
<div class="pine-colorizer not-content colorized" data-id="69k"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk13">[</span><span class="mtk33">v1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">v2</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk18">switch</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">close</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk11">open</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk13">[</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">=&gt;</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk13">[</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk13">]</span></span><br></code></div>
<p>It’s crucial to emphasize that only the <em>local scopes</em> of functions, conditional structures, or loops can return tuples. In contrast to <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_if">if</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_switch">switch</a> statements, <a href="/pine-script-docs/language/operators/#-ternary-operator">ternary operations</a> are <strong>not</strong> conditional structures; they are <em>expressions</em> that <em>do not</em> create local scopes. Therefore, they cannot return tuples.</p>
<p>For example, this line of code attempts to return a tuple from a ternary operation, causing a <em>compilation error</em>:</p>
<div class="pine-colorizer not-content colorized" data-id="1ic"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//&nbsp;Causes&nbsp;an&nbsp;error.&nbsp;Only&nbsp;local&nbsp;scopes&nbsp;can&nbsp;return&nbsp;t</span><span class="mtk9">uples,&nbsp;and&nbsp;the&nbsp;`?:`&nbsp;operator&nbsp;does&nbsp;not&nbsp;create&nbsp;new&nbsp;s</span><span class="mtk9">copes.</span></span><br><span><span class="mtk13">[</span><span class="mtk33">v1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">v2</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk11">open</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk13">[</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk13">[</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk13">]</span></span><br></code></div>
<p>Although all items in a tuple do not have to be of the same <em>type</em>, it’s important to note that every item inherits the <strong>same</strong> <a href="/pine-script-docs/language/type-system/#qualifiers">type qualifier</a>. All items within a tuple <em>returned</em> by a local scope inherit either the “simple” or “series” qualifier, depending on the structure and the items’ types. Therefore, because “series” is the stronger qualifier, all other items in the returned tuple automatically inherit the “series” qualifier if at least one item is qualified as “series”.</p>
<p>For example, the script below defines a <code dir="auto">getParameters()</code> function that returns a two-item tuple. The script attempts to use the values returned by the function as arguments in a <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_ta.ema">ta.ema()</a> function call, causing a compilation error. The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_ta.ema">ta.ema()</a> function requires a <code dir="auto">length</code> argument of the type “simple int”, but the <code dir="auto">len</code> variable’s type is <em>“series int”</em>. The value assigned to <code dir="auto">len</code> automatically inherits the “series” qualifier because the <code dir="auto">source</code> argument of the <code dir="auto">getParameters()</code> call is of the type “series float”:</p>
<div class="pine-colorizer not-content colorized" data-id="3xw"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Qualified&nbsp;types&nbsp;in&nbsp;tuples&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk15">getParameters</span><span class="mtk13">(</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">source</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">simple</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Although&nbsp;the&nbsp;expected&nbsp;type&nbsp;of&nbsp;the&nbsp;`length`&nbsp;para</span><span class="mtk9">meter&nbsp;is&nbsp;"simple&nbsp;int",&nbsp;the</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;`length`&nbsp;value&nbsp;in&nbsp;the&nbsp;returned&nbsp;tuple&nbsp;inherits&nbsp;t</span><span class="mtk9">he&nbsp;"series"&nbsp;qualifier&nbsp;if&nbsp;the</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;`source`&nbsp;value&nbsp;has&nbsp;that&nbsp;qualifier,&nbsp;because&nbsp;all&nbsp;</span><span class="mtk9">items&nbsp;in&nbsp;a&nbsp;tuple&nbsp;inherit&nbsp;the&nbsp;*same*&nbsp;qualifier.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk13">[</span><span class="mtk33">source</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk13">]</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Declare&nbsp;a&nbsp;tuple&nbsp;containing&nbsp;the&nbsp;values&nbsp;returned&nbsp;</span><span class="mtk9">by&nbsp;a&nbsp;`getParameters()`&nbsp;call.</span></span><br><span><span class="mtk9">//&nbsp;Both&nbsp;variables&nbsp;in&nbsp;this&nbsp;tuple&nbsp;have&nbsp;the&nbsp;"series"&nbsp;</span><span class="mtk9">qualifier,&nbsp;because&nbsp;`close`&nbsp;is&nbsp;of&nbsp;the&nbsp;type&nbsp;"series&nbsp;</span><span class="mtk9">float".</span></span><br><span><span class="mtk13">[</span><span class="mtk33">src</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">len</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">getParameters</span><span class="mtk13">(</span><span class="mtk33">source</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;This&nbsp;line&nbsp;causes&nbsp;an&nbsp;error.&nbsp;`ta.ema()`&nbsp;expects&nbsp;a</span><span class="mtk9">&nbsp;"simple&nbsp;int"&nbsp;`length`&nbsp;argument,&nbsp;but&nbsp;`len`&nbsp;has&nbsp;the</span><span class="mtk9">&nbsp;type&nbsp;"series&nbsp;int".</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk16">ta.ema</span><span class="mtk13">(</span><span class="mtk33">source</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">src</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">len</span><span class="mtk13">))</span></span><br></code></div>
<h2 id="value-vs-reference-types" class="md-heading"><a href="#value-vs-reference-types">Value vs. reference <span class="fancy-wrap">types<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<aside aria-label="Tip" class="tv-informer not-content" style="--informer-header-color:#089981;--informer-back-color-light:#DAF2EE;--informer-back-color-dark:#082621"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm3.87-12.15c.36.2.49.66.28 1.02l-4 7a.75.75 0 0 1-1.18.16l-3-3a.75.75 0 1 1 1.06-1.06l2.3 2.3 3.52-6.14a.75.75 0 0 1 1.02-.28Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Tip</span>This section contains advanced details about the differences between value and reference types. To make the most of this information, we recommend that newcomers to Pine Script start by reading about the available <a href="/pine-script-docs/language/type-system/#types">types</a>, and then come back to this section to learn more about their differences.</p></div></aside>
<p>Every type in Pine Script, excluding <a href="/pine-script-docs/language/type-system/#void">void</a>, is either a <a href="/pine-script-docs/language/type-system/#value-types">value type</a> or a <a href="/pine-script-docs/language/type-system/#types">reference type</a>.</p>
<p>All <a href="/pine-script-docs/language/type-system/#types">fundamental types</a>, <a href="/pine-script-docs/language/type-system/#enum-types">enum types</a>, and the <em>unique types</em> for specific function parameters are <em>value types</em>. These types directly <em>represent</em> values, which scripts can use in arithmetic, comparison, or logical <a href="/pine-script-docs/language/operators/">operations</a>. Variables of these types store values. Likewise, expressions that return these types return values. Values can become available at compile time, input time, or runtime. Therefore, they can inherit <em>any</em> <a href="/pine-script-docs/language/type-system/#qualifiers">type qualifier</a>, depending on their use in the code.</p>
<p>By contrast, <a href="/pine-script-docs/language/type-system/#user-defined-types">user-defined types (UDTs)</a> and <em>special types</em> — including <a href="https://www.tradingview.com/pine-script-reference/v6/#type_label">label</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_line">line</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_linefill">linefill</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_polyline">polyline</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_box">box</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_table">table</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#type_chart.point">chart.point</a>, and <a href="/pine-script-docs/language/type-system/#collections">collection types</a> — are <em>reference types</em>. These types serve as structures for creating <em>objects</em>. An object is <strong>not</strong> a value; it is a logical entity that stores data in a distinct memory location. Each separate object has a unique associated <em>reference</em>, similar to a pointer, which identifies the object in memory and enables the script to access its data. Variables of reference types hold these object references; they <strong>do not</strong> store objects directly.</p>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>For simplicity and ease of discussion, we sometimes use the term <em>“ID”</em> as a substitute for <em>“object reference”</em>.</p></div></aside>
<p>Scripts create objects exclusively at <em>runtime</em>, using the available constructor functions from the type’s namespace (e.g., <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.new">label.new()</a>). Every call to these functions creates a <em>new object</em> with a <em>unique reference</em>. Therefore, unlike value types, reference types automatically inherit the “series” qualifier; they never inherit <em>weaker</em> qualifiers such as “simple” or “const”.</p>
<p>For example, the following script declares a <code dir="auto">myLabel</code> variable and assigns it the result of a <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.new">label.new()</a> function call with constant <code dir="auto">x</code> and <code dir="auto">y</code> arguments on the first bar. Although the script calls <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.new">label.new()</a> only <em>once</em>, with “const” arguments, the variable’s type is <em>“series label”</em>. The type is <strong>not</strong> “const label”, because every call to the function returns a new, unique <a href="https://www.tradingview.com/pine-script-reference/v6/#type_label">label</a> reference, which no other call can reproduce:</p>
<div class="pine-colorizer not-content colorized" data-id="2qf"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"'series'&nbsp;reference&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;References&nbsp;a&nbsp;label&nbsp;created&nbsp;on&nbsp;the&nbsp;first&nbsp;bar&nbsp;using</span><span class="mtk9">&nbsp;"const"&nbsp;arguments.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Although&nbsp;the&nbsp;script&nbsp;creates&nbsp;only&nbsp;one&nbsp;l</span><span class="mtk9">abel,&nbsp;using&nbsp;constant&nbsp;values,&nbsp;this&nbsp;variable's&nbsp;type&nbsp;</span><span class="mtk9">is&nbsp;"series&nbsp;label"&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;because&nbsp;the&nbsp;assigned&nbsp;`label`&nbsp;reference</span><span class="mtk9">&nbsp;is&nbsp;*unique*.&nbsp;No&nbsp;additional&nbsp;function&nbsp;calls&nbsp;can&nbsp;cre</span><span class="mtk9">ate&nbsp;the&nbsp;same&nbsp;label&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instance&nbsp;or&nbsp;return&nbsp;the&nbsp;same&nbsp;reference.</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">label</span><span class="mtk1">&nbsp;</span><span class="mtk33">myLabel</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"A&nbsp;new&nbsp;'series'&nbsp;label"</span><span class="mtk13">)</span></span><br></code></div>
<p>Note that:</p>
<ul>
<li>The script creates a label only on the first bar because the variable that stores its reference is declared in the <em>global scope</em> using the <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_var">var</a> keyword. See the <a href="/pine-script-docs/language/variable-declarations/#declaration-modes">Declaration modes</a> section of the <a href="/pine-script-docs/language/variable-declarations/">Variable declarations</a> page to learn more.</li>
</ul>
<h3 id="modifying-variables-vs-objects" class="md-heading"><a href="#modifying-variables-vs-objects">Modifying variables vs. <span class="fancy-wrap">objects<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Each variable of a <a href="/pine-script-docs/language/type-system/#value-types">value type</a> holds an independent value, and the only way to modify that variable’s data is by using the reassignment or compound assignment <a href="/pine-script-docs/language/operators/">operators</a>. Each use of these operators directly overwrites the stored value, thus removing it from the current execution.</p>
<p>Scripts can also modify variables of <a href="/pine-script-docs/language/type-system/#reference-types">reference types</a> with the <a href="https://www.tradingview.com/pine-script-reference/v6/#op_:=">:=</a> operator, but not a compound assignment operator such as <a href="https://www.tradingview.com/pine-script-reference/v6/#op_+=">+=</a>, because object references are <em>not compatible</em> with arithmetic or logical operations. However, it’s crucial to note that reassigning a variable of a reference type <em>does not</em> directly affect any object; it only assigns <em>another reference</em> to that variable. The object referenced before the operation <em>can</em> remain in memory and affect the script’s results, depending on the type and the script’s logic.</p>
<p>To understand this distinction, consider the following script, which uses a variable to store <a href="https://www.tradingview.com/pine-script-reference/v6/#type_label">label</a> references on the last historical bar. First, the script initializes the <code dir="auto">myLabel</code> variable with the result of one <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.new">label.new()</a> call. Then, it uses the <a href="https://www.tradingview.com/pine-script-reference/v6/#op_:=">:=</a> operator to assign the variable the result of a <em>second</em> <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.new">label.new()</a> call. Reassigning the <code dir="auto">myLabel</code> variable only changes the variable’s stored reference; it <em>does not</em> overwrite the <em>first</em> <a href="https://www.tradingview.com/pine-script-reference/v6/#type_label">label</a> object. The first label <em>still exists</em> in memory. Consequently, this script displays <em>two</em> separate drawings:</p>
<div class="pine-colorizer not-content colorized" data-id="2en"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Reassigning&nbsp;reference-type&nbsp;variables&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk11">barstate.islastconfirmedhistory</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Create&nbsp;a&nbsp;new&nbsp;`label`&nbsp;object&nbsp;and&nbsp;assign&nbsp;its&nbsp;refe</span><span class="mtk9">rence&nbsp;to&nbsp;`myLabel`.&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">label</span><span class="mtk1">&nbsp;</span><span class="mtk33">myLabel</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"First&nbsp;label"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Create&nbsp;another&nbsp;`label`&nbsp;object&nbsp;and&nbsp;assign&nbsp;that&nbsp;o</span><span class="mtk9">bject's&nbsp;reference&nbsp;to&nbsp;the&nbsp;variable.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;This&nbsp;reassignment&nbsp;operation&nbsp;does&nbsp;not&nbsp;overwrite&nbsp;</span><span class="mtk9">the&nbsp;first&nbsp;label.&nbsp;It&nbsp;only&nbsp;changes&nbsp;the&nbsp;variable's&nbsp;as</span><span class="mtk9">signed</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;reference.&nbsp;The&nbsp;first&nbsp;object&nbsp;still&nbsp;exists&nbsp;and&nbsp;pr</span><span class="mtk9">oduces&nbsp;an&nbsp;output&nbsp;on&nbsp;the&nbsp;chart.&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">myLabel</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Second&nbsp;label"</span><span class="mtk13">)</span></span><br></code></div>
<p>Note that:</p>
<ul>
<li>Objects remain in memory until a script no longer uses them. For <a href="/pine-script-docs/language/type-system/#drawing-types">drawing types</a>, the runtime system automatically maintains a limited number of active objects. It begins deleting those objects, starting with the oldest ones, only if a script reaches its <em>drawing limit</em> (e.g., ~50 labels by default).</li>
<li>A script can also explicitly delete objects of drawing types by using the built-in <code dir="auto">*.delete()</code> functions, such as <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.delete">label.delete()</a>. For example, if we add the call <code dir="auto">label.delete(myLabel)</code> before the final line in the code above, the script removes the first label before assigning the second label’s reference to the <code dir="auto">myLabel</code> variable.</li>
</ul>
<p>Because objects are not values, but entities that store data separately, scripts do not modify their data by reassigning the variables that reference them. To access or modify an object’s data, programmers must do either of the following, depending on the type:</p>
<ul>
<li>Use the built-in <em>getter</em> and <em>setter</em> functions available for most special types. For example, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.get_x">label.get_x()</a> retrieves the <code dir="auto">x</code> value from a <a href="https://www.tradingview.com/pine-script-reference/v6/#type_label">label</a> object, and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.set_x">label.set_x()</a> updates a label’s <code dir="auto">x</code> value.</li>
<li>Use <em>dot notation</em> syntax on a variable of a <a href="/pine-script-docs/language/type-system/#user-defined-types">UDT</a> or the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_chart.point">chart.point</a> type to access the object’s <em>field</em>. Then, to change the field’s assigned data, use a reassignment or compound assignment operator after the syntax. For example, <code dir="auto">myObj.price</code> retrieves the <code dir="auto">price</code> field of the object referenced by the <code dir="auto">myObj</code> variable, and <code dir="auto">myObj.price := 10</code> sets that field’s value to 10.</li>
</ul>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>Because reference types always inherit the “series” qualifier, all data retrieved from an object also inherits the qualifier. Values stored by an object never qualify as “simple”, “input”, or “const”, even if the script constructs the object using values with those weaker <a href="/pine-script-docs/language/type-system/#qualifiers">qualifiers</a>.</p></div></aside>
<p>The example below creates a <a href="/pine-script-docs/language/type-system/#chart-points">chart point</a> and a <a href="https://www.tradingview.com/pine-script-reference/v6/#type_label">label</a> instance on the first bar, and then modifies the two objects on every bar. With each execution, the script updates the <code dir="auto">price</code> (“float”) and <code dir="auto">index</code> (“int”) fields of the chart point, then uses its reference in a <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.set_point">label.set_point()</a> call to change the label’s coordinates. Lastly, the script uses <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.get_y">label.get_y()</a> to get the label’s <code dir="auto">y</code> value (“float”), then uses a plot to display the value:</p>
<div class="pine-colorizer not-content colorized" data-id="gw"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Modifying&nbsp;objects&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Maintains&nbsp;a&nbsp;persistent&nbsp;reference&nbsp;to&nbsp;one&nbsp;`chart.po</span><span class="mtk9">int`&nbsp;object&nbsp;with&nbsp;an&nbsp;initial&nbsp;`price`&nbsp;field&nbsp;of&nbsp;`na`.</span><span class="mtk9">&nbsp;</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">chart.point</span><span class="mtk1">&nbsp;</span><span class="mtk33">myPoint</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">chart.point.now</span><span class="mtk13">(</span><span class="mtk11">na</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Maintains&nbsp;a&nbsp;persistent&nbsp;reference&nbsp;to&nbsp;one&nbsp;`label`&nbsp;o</span><span class="mtk9">bject&nbsp;initialized&nbsp;using&nbsp;the&nbsp;`myPoint`&nbsp;chart&nbsp;point.</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">label</span><span class="mtk1">&nbsp;</span><span class="mtk33">myLabel</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk33">myPoint</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Persistent&nbsp;label"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Update&nbsp;the&nbsp;chart&nbsp;point&nbsp;referenced&nbsp;by&nbsp;`myPoint`&nbsp;</span><span class="mtk9">on&nbsp;each&nbsp;bar&nbsp;by&nbsp;reassigning&nbsp;the&nbsp;object's&nbsp;*fields*.</span></span><br><span><span class="mtk33">myPoint</span><span class="mtk1">.</span><span class="mtk33">index</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk11">bar_index</span></span><br><span><span class="mtk33">myPoint</span><span class="mtk1">.</span><span class="mtk33">price</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Update&nbsp;the&nbsp;label&nbsp;referenced&nbsp;by&nbsp;`myLabel`&nbsp;using&nbsp;</span><span class="mtk9">a&nbsp;call&nbsp;to&nbsp;`label.set_point()`.&nbsp;The&nbsp;call&nbsp;uses&nbsp;the&nbsp;`</span><span class="mtk9">index`&nbsp;field&nbsp;of&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;the&nbsp;chart&nbsp;point&nbsp;for&nbsp;the&nbsp;label's&nbsp;x-coordinate,&nbsp;a</span><span class="mtk9">nd&nbsp;the&nbsp;`price`&nbsp;field&nbsp;for&nbsp;the&nbsp;y-coordinate.</span></span><br><span><span class="mtk16">label.set_point</span><span class="mtk13">(</span><span class="mtk33">myLabel</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">myPoint</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Retrieve&nbsp;the&nbsp;y-coordinate&nbsp;from&nbsp;the&nbsp;`myLabel`&nbsp;la</span><span class="mtk9">bel,&nbsp;confirming&nbsp;that&nbsp;both&nbsp;persistent&nbsp;objects&nbsp;were&nbsp;</span><span class="mtk9">modified.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk16">label.get_y</span><span class="mtk13">(</span><span class="mtk33">myLabel</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Label&nbsp;y-coordinate"</span><span class="mtk13">)</span></span><br></code></div>
<p>Note that:</p>
<ul>
<li>The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.set_point">label.set_point()</a> call in this example uses the <code dir="auto">index</code> field of the chart point to set the label’s <code dir="auto">x</code> value, and it uses the <code dir="auto">price</code> field to set the <code dir="auto">y</code> value. It does not use the <code dir="auto">time</code> field from the chart point for the <code dir="auto">x</code> value, because the default <code dir="auto">xloc</code> property for labels is <a href="https://www.tradingview.com/pine-script-reference/v6/#const_xloc.bar_index">xloc.bar_index</a>.</li>
</ul>
<h4 id="modifying-global-data-in-local-scopes" class="md-heading"><a href="#modifying-global-data-in-local-scopes">Modifying global data in local <span class="fancy-wrap">scopes<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Every script has one <em>global</em> <a href="/pine-script-docs/faq/programming/#what-does-scope-mean">scope</a>, and it includes zero or more <em>local</em> scopes from any <a href="/pine-script-docs/language/conditional-structures/">conditional structures</a>, <a href="/pine-script-docs/language/loops/">loops</a>, <a href="/pine-script-docs/language/user-defined-functions/">user-defined functions</a> or <a href="/pine-script-docs/language/methods/#user-defined-methods">methods</a>, or other structures. Most structures that create local scopes can access and use any global variables declared above them in the source code, because a script’s local scopes <em>embed</em> into the global scope.</p>
<p>Conditional structures and loops defined in the global scope, as well as the nested structures within them, can also contain <a href="/pine-script-docs/language/operators/#-reassignment-operator">reassignment</a> or <a href="/pine-script-docs/language/operators/#compound-assignment-operators">compound assignment</a> operations that modify global variables. In other words, either of these structures can directly change the data associated with global variables of value types and reference types.</p>
<p>For example, the script below declares a persistent “int” variable named <code dir="auto">counter</code> in the global scope. Then, it uses the <a href="https://www.tradingview.com/pine-script-reference/v6/#op_+=">+=</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#op_:=">:=</a> operators inside nested <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_if">if</a> statements to update the variable’s assigned value based on cyclic occurrences of a pseudorandom condition:</p>
<div class="pine-colorizer not-content colorized" data-id="4mk"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Modifying&nbsp;global&nbsp;variables&nbsp;in&nbsp;conditional&nbsp;structu</span><span class="mtk29">res&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;number&nbsp;of&nbsp;conditions&nbsp;that&nbsp;occur&nbsp;before&nbsp;the&nbsp;co</span><span class="mtk9">unter&nbsp;value&nbsp;resets.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">cycleSizeInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">10</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Cycle&nbsp;size"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;persistent&nbsp;global&nbsp;variable&nbsp;for&nbsp;counting&nbsp;occurre</span><span class="mtk9">nces&nbsp;of&nbsp;a&nbsp;condition&nbsp;in&nbsp;cycles.&nbsp;</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">counter</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Logic&nbsp;to&nbsp;update&nbsp;`counter`&nbsp;based&nbsp;on&nbsp;a&nbsp;pseudorand</span><span class="mtk9">om&nbsp;condition.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.random</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">&lt;</span><span class="mtk1">&nbsp;</span><span class="mtk12">0.5</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Increase&nbsp;the&nbsp;`counter`&nbsp;value&nbsp;by&nbsp;one&nbsp;when&nbsp;the&nbsp;co</span><span class="mtk9">ndition&nbsp;occurs.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">counter</span><span class="mtk1">&nbsp;</span><span class="mtk18">+=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Reset&nbsp;the&nbsp;`counter`&nbsp;value&nbsp;to&nbsp;1&nbsp;if&nbsp;it&nbsp;exceeds&nbsp;th</span><span class="mtk9">e&nbsp;value&nbsp;of&nbsp;`cycleSizeInput`.&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">counter</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">cycleSizeInput</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">counter</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`counter`&nbsp;value.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">counter</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Counter&nbsp;value"</span><span class="mtk13">)</span></span><br></code></div>
<p>By contrast, user-defined functions and methods <em>cannot</em> use the reassignment or compound assignment operators on global variables, because variables declared outside a <a href="/pine-script-docs/language/user-defined-functions/#function-scopes">function scope</a> cannot accept <em>different</em> values <em>or</em> references during the execution of a <em>function call</em>. Consequently, functions and methods <em>cannot modify</em> the data associated with global variables of <a href="/pine-script-docs/language/type-system/#value-types">value types</a>.</p>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>The same limitation applies to function <em>parameters</em>. Function definitions cannot contain reassignment or compound assignment operations that modify declared parameters, because the <em>arguments</em> for those parameters cannot change while a function call executes.</p></div></aside>
<p>Below, we edited the previous script to demonstrate this limitation. The following script version defines an <code dir="auto">updateCounter()</code> function that attempts to modify the global <code dir="auto">counter</code> variable from inside its scope using the same <a href="https://www.tradingview.com/pine-script-reference/v6/#op_+=">+=</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#op_:=">:=</a> operations as the example above. However, because the variable exists <em>outside</em> the function’s definition, the function <em>cannot</em> change its value. As such, a <em>compilation error</em> occurs:</p>
<div class="pine-colorizer not-content colorized" data-id="3y0"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Cannot&nbsp;modify&nbsp;global&nbsp;variables&nbsp;in&nbsp;functions&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;number&nbsp;of&nbsp;conditions&nbsp;that&nbsp;occur&nbsp;before&nbsp;the&nbsp;co</span><span class="mtk9">unter&nbsp;value&nbsp;resets.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">cycleSizeInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">10</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Cycle&nbsp;size"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;persistent&nbsp;global&nbsp;variable&nbsp;for&nbsp;counting&nbsp;occurre</span><span class="mtk9">nces&nbsp;of&nbsp;a&nbsp;condition&nbsp;in&nbsp;cycles.&nbsp;</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">counter</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@function</span><span class="mtk9">&nbsp;Attempts&nbsp;to&nbsp;increment&nbsp;and&nbsp;cyclically&nbsp;reset&nbsp;the&nbsp;`c</span><span class="mtk9">ounter`&nbsp;variable&nbsp;based&nbsp;on&nbsp;a&nbsp;pseudorandom&nbsp;condition</span><span class="mtk9">.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;function&nbsp;*does&nbsp;not*&nbsp;compile,&nbsp;beca</span><span class="mtk9">use&nbsp;modifying&nbsp;global&nbsp;variables&nbsp;in&nbsp;function&nbsp;scopes&nbsp;</span><span class="mtk9">is&nbsp;*not&nbsp;allowed*.</span></span><br><span><span class="mtk15">updateCounter</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.random</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">&lt;</span><span class="mtk1">&nbsp;</span><span class="mtk12">0.5</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Attempting&nbsp;to&nbsp;increment&nbsp;`counter`&nbsp;causes&nbsp;a&nbsp;comp</span><span class="mtk9">ilation&nbsp;error.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;The&nbsp;variable's&nbsp;value&nbsp;*cannot&nbsp;change*&nbsp;during&nbsp;the</span><span class="mtk9">&nbsp;execution&nbsp;of&nbsp;an&nbsp;`updateCounter()`&nbsp;call.&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">counter</span><span class="mtk1">&nbsp;</span><span class="mtk18">+=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">counter</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">cycleSizeInput</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Reassigning&nbsp;the&nbsp;`counter`&nbsp;variable&nbsp;causes&nbsp;the&nbsp;s</span><span class="mtk9">ame&nbsp;error.&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">counter</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span></span><br><span><span></span></span><br><span><span class="mtk15">updateCounter</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk9">//&nbsp;This&nbsp;call&nbsp;does&nbsp;not&nbsp;work.&nbsp;</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">counter</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Counter&nbsp;value"</span><span class="mtk13">)</span></span><br></code></div>
<p>To modify global data from within the scope of a function call, programmers can use global variables of <a href="/pine-script-docs/language/type-system/#reference-types">reference types</a> instead of value types in the function’s definition. As explained in the <a href="/pine-script-docs/language/type-system/#modifying-variables-vs-objects">previous section</a>, scripts do <em>not</em> modify objects of these types by reassigning the variables that reference them. Instead, they <em>reassign fields</em> or use <em>setter functions</em>, depending on the type, to update the data that an object stores <em>elsewhere</em> in memory. Therefore, because a variable’s assigned reference <em>does not change</em> after a script modifies an object, functions <em>can</em> change the data associated with global variables of reference types, unlike those of value types.</p>
<p>For example, the script version below declares a <a href="/pine-script-docs/language/type-system/#user-defined-types">user-defined type</a> named <code dir="auto">Counter</code> with an “int” field named <code dir="auto">value</code>. Then, it creates a new object of that type with a call to <code dir="auto">Counter.new()</code>, and assigns the returned reference to a persistent global variable named <code dir="auto">myCounter</code>. The <code dir="auto">updateCounter()</code> function in this script uses the <a href="https://www.tradingview.com/pine-script-reference/v6/#op_+=">+=</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#op_:=">:=</a> operators on the <code dir="auto">value</code> <em>field</em> of the <code dir="auto">Counter</code> object referenced by the <code dir="auto">myCounter</code> variable rather than directly reassigning the variable. Although the <code dir="auto">value</code> field’s assigned value can change during the execution of an <code dir="auto">updateCounter()</code> call, the global variable itself remains unchanged; it still holds the reference to the <em>same</em> <code dir="auto">Counter</code> object while the call executes. As a result, the script compiles successfully:</p>
<div class="pine-colorizer not-content colorized" data-id="3rj"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Modifying&nbsp;globally&nbsp;referenced&nbsp;objects&nbsp;in&nbsp;function</span><span class="mtk29">s&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;number&nbsp;of&nbsp;conditions&nbsp;that&nbsp;occur&nbsp;before&nbsp;the&nbsp;co</span><span class="mtk9">unter&nbsp;value&nbsp;resets.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">cycleSizeInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">10</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Cycle&nbsp;size"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@type</span><span class="mtk9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;custom&nbsp;type&nbsp;for&nbsp;creating&nbsp;objects&nbsp;that&nbsp;s</span><span class="mtk9">tore&nbsp;counter&nbsp;data.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;value&nbsp;&nbsp;The&nbsp;counter&nbsp;value,&nbsp;initialized&nbsp;to&nbsp;0&nbsp;by&nbsp;def</span><span class="mtk9">ault.&nbsp;</span></span><br><span><span class="mtk18">type</span><span class="mtk1">&nbsp;</span><span class="mtk33">Counter</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">value</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;persistent&nbsp;global&nbsp;variable&nbsp;that&nbsp;holds&nbsp;the&nbsp;refer</span><span class="mtk9">ence&nbsp;of&nbsp;a&nbsp;`Counter`&nbsp;object.</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">Counter</span><span class="mtk1">&nbsp;</span><span class="mtk33">myCounter</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">Counter</span><span class="mtk1">.</span><span class="mtk15">new</span><span class="mtk13">()</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@function</span><span class="mtk9">&nbsp;Increments&nbsp;and&nbsp;cyclically&nbsp;resets&nbsp;the&nbsp;`value`&nbsp;fiel</span><span class="mtk9">d&nbsp;of&nbsp;the&nbsp;object&nbsp;referenced&nbsp;by&nbsp;`myCounter`&nbsp;based&nbsp;on</span><span class="mtk9">&nbsp;a&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pseudorandom&nbsp;condition.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;function&nbsp;does&nbsp;*not*&nbsp;cause&nbsp;an&nbsp;erro</span><span class="mtk9">r,&nbsp;because&nbsp;it&nbsp;does&nbsp;not&nbsp;modify&nbsp;the&nbsp;global&nbsp;variable.</span><span class="mtk9">&nbsp;</span></span><br><span><span class="mtk15">updateCounter</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.random</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">&lt;</span><span class="mtk1">&nbsp;</span><span class="mtk12">0.5</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Increase&nbsp;the&nbsp;`value`&nbsp;*field*&nbsp;of&nbsp;the&nbsp;`Counter`&nbsp;o</span><span class="mtk9">bject&nbsp;referenced&nbsp;by&nbsp;`myCounter`&nbsp;when&nbsp;the&nbsp;condition</span><span class="mtk9">&nbsp;occurs.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">myCounter</span><span class="mtk1">.</span><span class="mtk33">value</span><span class="mtk1">&nbsp;</span><span class="mtk18">+=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Reset&nbsp;the&nbsp;`value`&nbsp;field&nbsp;to&nbsp;1&nbsp;if&nbsp;it&nbsp;exceeds&nbsp;the&nbsp;</span><span class="mtk9">value&nbsp;of&nbsp;`cycleSizeInput`.&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">myCounter</span><span class="mtk1">.</span><span class="mtk33">value</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">cycleSizeInput</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">myCounter</span><span class="mtk1">.</span><span class="mtk33">value</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Modify&nbsp;the&nbsp;object&nbsp;referenced&nbsp;by&nbsp;`myCounter`.&nbsp;Th</span><span class="mtk9">is&nbsp;function&nbsp;call&nbsp;works&nbsp;without&nbsp;issue.</span></span><br><span><span class="mtk15">updateCounter</span><span class="mtk13">()</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;object's&nbsp;`value`&nbsp;field,&nbsp;i</span><span class="mtk9">.e.,&nbsp;the&nbsp;condition&nbsp;counter.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">myCounter</span><span class="mtk1">.</span><span class="mtk33">value</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Counter&nbsp;value"</span><span class="mtk13">)</span></span><br></code></div>
<h3 id="copies-vs-shared-references" class="md-heading"><a href="#copies-vs-shared-references">Copies vs. shared <span class="fancy-wrap">references<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Variables of value types hold values that act as <em>independent copies</em>, because the only way to modify their data is through reassignment. If a script directly assigns one variable’s value to another variable, it can change either variable’s data later without affecting the other variable’s data in any way.</p>
<p>For example, the following script initializes a <code dir="auto">myVar1</code> variable with a value of 10, and then initializes a <code dir="auto">myVar2</code> variable using <code dir="auto">myVar1</code>. Afterward, the script adds 10 to <code dir="auto">myVar1</code> with the <a href="https://www.tradingview.com/pine-script-reference/v6/#op_+=">+=</a> operator, and plots the values of both variables on the chart. The script plots two different values (20 and 10), because changes to the value of <code dir="auto">myVar1</code> do not affect the data accessed by <code dir="auto">myVar2</code>:</p>
<div class="pine-colorizer not-content colorized" data-id="ws"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Value&nbsp;type&nbsp;independence&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Initialize&nbsp;the&nbsp;first&nbsp;variable&nbsp;with&nbsp;a&nbsp;value&nbsp;of&nbsp;1</span><span class="mtk9">0.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">myVar1</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">10</span></span><br><span><span class="mtk9">//&nbsp;Initialize&nbsp;the&nbsp;second&nbsp;variable&nbsp;using&nbsp;the&nbsp;first.</span><span class="mtk9">&nbsp;This&nbsp;variable's&nbsp;value&nbsp;is&nbsp;now&nbsp;10.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">myVar2</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">myVar1</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Increase&nbsp;the&nbsp;first&nbsp;variable's&nbsp;value&nbsp;by&nbsp;10.&nbsp;Now,</span><span class="mtk9">&nbsp;the&nbsp;value&nbsp;of&nbsp;`myVar1`&nbsp;is&nbsp;20,&nbsp;but&nbsp;the&nbsp;value&nbsp;of&nbsp;`my</span><span class="mtk9">Var2`&nbsp;is&nbsp;still&nbsp;10.</span></span><br><span><span class="mtk33">myVar1</span><span class="mtk1">&nbsp;</span><span class="mtk18">+=</span><span class="mtk1">&nbsp;</span><span class="mtk12">10</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;both&nbsp;values&nbsp;for&nbsp;comparison.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">myVar1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"First&nbsp;variable"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.blue</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">myVar2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Second&nbsp;variable"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br></code></div>
<p>The same behavior does not apply to variables of reference types. Assigning the reference stored by one variable to another <strong>does not</strong> create a new <em>copy</em> of an object. Instead, both variables refer to the <strong>same</strong> object in memory. As a result, the script can access or change that object’s data through <em>either</em> variable and produce the same results.</p>
<p>The following example demonstrates this behavior. On the last historical bar, the script creates a new label with <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.new">label.new()</a> and assigns the returned reference to the <code dir="auto">myLabel1</code> variable. Then, it initializes the <code dir="auto">myLabel2</code> variable using <code dir="auto">myLabel1</code>. The script calls <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.set_color">label.set_color()</a> to modify the label referenced by <code dir="auto">myLabel1</code>, and then calls <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.set_style">label.set_style()</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.set_text">label.set_text()</a> to modify the one referenced by <code dir="auto">myLabel2</code>.</p>
<p>A newcomer to reference types might expect this script to display <em>two</em> separate labels, with different colors, orientation, and text. However, the script shows only <strong>one</strong> label on the chart, and that label includes the changes from all <code dir="auto">label.set_*()</code> calls. Modifying the label referenced by <code dir="auto">myLabel2</code> directly affects the one referenced by <code dir="auto">myLabel1</code>, and vice versa, because both variables refer to the <strong>same</strong> <a href="https://www.tradingview.com/pine-script-reference/v6/#type_label">label</a> object:</p>
<div class="pine-colorizer not-content colorized" data-id="3o7"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Shared&nbsp;object&nbsp;references&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk11">barstate.islastconfirmedhistory</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Create&nbsp;a&nbsp;new&nbsp;label&nbsp;and&nbsp;assign&nbsp;its&nbsp;reference&nbsp;to&nbsp;</span><span class="mtk9">a&nbsp;variable.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">label</span><span class="mtk1">&nbsp;</span><span class="mtk33">myLabel1</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"First&nbsp;label"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.green</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.large</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Initialize&nbsp;a&nbsp;second&nbsp;variable&nbsp;using&nbsp;the&nbsp;`myLabel</span><span class="mtk9">1`&nbsp;variable.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;This&nbsp;variable&nbsp;declaration&nbsp;*does&nbsp;not*&nbsp;copy&nbsp;the&nbsp;l</span><span class="mtk9">abel&nbsp;referenced&nbsp;by&nbsp;`myLabel1`;&nbsp;it&nbsp;only&nbsp;copies&nbsp;that</span><span class="mtk9">&nbsp;variable's&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;*reference*&nbsp;to&nbsp;the&nbsp;new&nbsp;variable.&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">label</span><span class="mtk1">&nbsp;</span><span class="mtk33">myLabel2</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">myLabel1</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Change&nbsp;the&nbsp;color&nbsp;of&nbsp;the&nbsp;label&nbsp;referenced&nbsp;by&nbsp;`my</span><span class="mtk9">Label1`.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_color</span><span class="mtk13">(</span><span class="mtk33">myLabel1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.red</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Update&nbsp;the&nbsp;style&nbsp;and&nbsp;text&nbsp;of&nbsp;the&nbsp;label&nbsp;referenc</span><span class="mtk9">ed&nbsp;by&nbsp;`myLabel2`.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Because&nbsp;both&nbsp;variables&nbsp;refer&nbsp;to&nbsp;the&nbsp;*same&nbsp;objec</span><span class="mtk9">t*,&nbsp;all&nbsp;the&nbsp;label&nbsp;changes&nbsp;affect&nbsp;that&nbsp;one&nbsp;object,&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;regardless&nbsp;of&nbsp;which&nbsp;variable&nbsp;the&nbsp;script&nbsp;uses&nbsp;in</span><span class="mtk9">&nbsp;the&nbsp;`label.set_*()`&nbsp;calls.&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_style</span><span class="mtk13">(</span><span class="mtk33">myLabel2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">label.style_label_up</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_text</span><span class="mtk13">(</span><span class="mtk33">myLabel2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Second&nbsp;label"</span><span class="mtk13">)</span></span><br></code></div>
<p>Most reference types, including <a href="/pine-script-docs/language/type-system/#user-defined-types">user-defined types</a>, feature a built-in <code dir="auto">*.copy()</code> function. This function creates a new, <em>independent</em> object that contains the same data as the original object, and that new object has a <em>unique reference</em>. The script can modify the copied object’s data without directly affecting the original.</p>
<p>In the following example, we changed the previous script to initialize <code dir="auto">myLabel2</code> using the expression <code dir="auto">label.copy(myLabel1)</code>, which creates an independent copy of the label referenced by <code dir="auto">myLabel1</code> and returns a new reference. Now, <code dir="auto">myLabel1</code> and <code dir="auto">myLabel2</code> refer to two <em>separate</em> labels, and changes to the label referenced by one of the variables do not affect the other:</p>
<div class="pine-colorizer not-content colorized" data-id="51y"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Copied&nbsp;objects&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk11">barstate.islastconfirmedhistory</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Create&nbsp;a&nbsp;new&nbsp;label&nbsp;and&nbsp;assign&nbsp;its&nbsp;reference&nbsp;to&nbsp;</span><span class="mtk9">a&nbsp;variable.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">label</span><span class="mtk1">&nbsp;</span><span class="mtk33">myLabel1</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"First&nbsp;label"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.green</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.large</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Initialize&nbsp;a&nbsp;second&nbsp;variable&nbsp;using&nbsp;`label.copy(</span><span class="mtk9">myLabel1)`.&nbsp;This&nbsp;variable&nbsp;now&nbsp;references&nbsp;an&nbsp;indepe</span><span class="mtk9">ndent&nbsp;copy&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;of&nbsp;the&nbsp;initial&nbsp;label&nbsp;instead&nbsp;of&nbsp;pointing&nbsp;to&nbsp;the</span><span class="mtk9">&nbsp;same&nbsp;object&nbsp;as&nbsp;`myLabel1`,&nbsp;and&nbsp;the&nbsp;script&nbsp;now&nbsp;dis</span><span class="mtk9">plays&nbsp;two&nbsp;labels&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;on&nbsp;the&nbsp;chart.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">label</span><span class="mtk1">&nbsp;</span><span class="mtk33">myLabel2</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label.copy</span><span class="mtk13">(</span><span class="mtk33">myLabel1</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Now&nbsp;that&nbsp;`myLabel2`&nbsp;refers&nbsp;to&nbsp;a&nbsp;different&nbsp;`labe</span><span class="mtk9">l`&nbsp;object&nbsp;than&nbsp;`myLabel1`,&nbsp;this&nbsp;call&nbsp;does&nbsp;not&nbsp;affe</span><span class="mtk9">ct&nbsp;that&nbsp;object.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_color</span><span class="mtk13">(</span><span class="mtk33">myLabel1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.red</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Likewise,&nbsp;these&nbsp;two&nbsp;calls&nbsp;do&nbsp;not&nbsp;affect&nbsp;the&nbsp;lab</span><span class="mtk9">el&nbsp;referenced&nbsp;by&nbsp;`myLabel1`.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_style</span><span class="mtk13">(</span><span class="mtk33">myLabel2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">label.style_label_up</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_text</span><span class="mtk13">(</span><span class="mtk33">myLabel2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Second&nbsp;label"</span><span class="mtk13">)</span></span><br></code></div>
<aside aria-label="Note" class="tv-informer not-content" style="--informer-header-color:#6A6D78;--informer-back-color-light:#F0F3FA;--informer-back-color-dark:#2A2E39"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header">Note</span>The <code dir="auto">*.copy()</code> function creates a <em>shallow copy</em> of an object, not a <em>deep copy</em>. If a script uses this function to copy a <a href="/pine-script-docs/language/type-system/#collections">collection</a> or <a href="/pine-script-docs/language/type-system/#user-defined-types">UDT</a> instance that stores <em>other object references</em>, the contents of the copied instance refer to the <strong>same objects</strong> as the original instance. See the <a href="/pine-script-docs/language/objects/#copying-objects">Copying objects</a> section of the <a href="language/objects/">Objects</a> page for more information.</p></div></aside>
<h3 id="using-const-with-reference-types" class="md-heading"><a href="#using-const-with-reference-types"><span>Using ​<code dir="auto">const</code>​ with reference types</span><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></a></h3>
<p>Scripts can use the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_const">const</a> keyword when declaring variables of most <a href="/pine-script-docs/language/type-system/#reference-types">reference types</a>, except for <a href="/pine-script-docs/language/type-system/#plot-and-hline">plot</a>, <a href="/pine-script-docs/language/type-system/#plot-and-hline">hline</a>, and <a href="/pine-script-docs/language/type-system/#user-defined-types">user-defined types</a>. However, with reference types, the keyword behaves <em>differently</em> than it does with <a href="/pine-script-docs/language/type-system/#value-types">value types</a>.</p>
<p>Recall that for a variable of a value type, the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_const">const</a> keyword directly <em>restricts</em> the <a href="/pine-script-docs/language/type-system/#qualifiers">qualifier</a> of that variable to “const”, <em>and</em> it prevents the script from using the reassignment or compound assignment <a href="/pine-script-docs/language/operators/">operators</a> to modify that variable — even if the assigned value from those operations is otherwise a constant.</p>
<p>For variables of reference types, using the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_const">const</a> keyword to declare them also prevents a script from reassigning those variables. However, in contrast to its behavior with value types, the keyword <strong>does not</strong> set the <em>qualifier</em> of a reference-type variable to “const”. As explained in previous sections, reference types automatically inherit the “series” qualifier, because each call to a function that creates objects produces a <em>new</em> object with a <em>unique</em> reference — any call to the function in the code never returns the same object reference more than once.</p>
<p>For example, the script below creates an <a href="/pine-script-docs/language/arrays/">array</a> of pseudorandom “float” values using <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_array.from">array.from()</a>, and then assigns the returned reference to a variable declared using the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_const">const</a> keyword on each bar. During each execution, the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_array.from">array.from()</a> call creates a <em>new array</em> and returns a unique “series” reference. However, this script does <em>not</em> cause an error, even though the variable’s <em>qualifier</em> is “series”, because the variable’s assigned reference remains <em>consistent</em> for the rest of each execution:</p>
<div class="pine-colorizer not-content colorized" data-id="i3"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Using&nbsp;`const`&nbsp;with&nbsp;reference&nbsp;types&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Holds&nbsp;a&nbsp;reference&nbsp;to&nbsp;an&nbsp;array&nbsp;of&nbsp;three&nbsp;pseudorand</span><span class="mtk9">om&nbsp;"float"&nbsp;values.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Although&nbsp;the&nbsp;variable&nbsp;is&nbsp;declared&nbsp;usin</span><span class="mtk9">g&nbsp;`const`,&nbsp;the&nbsp;reference&nbsp;returned&nbsp;by&nbsp;`array.from()</span><span class="mtk9">`&nbsp;has&nbsp;the&nbsp;"series"&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualifier,&nbsp;because&nbsp;each&nbsp;execution&nbsp;crea</span><span class="mtk9">tes&nbsp;a&nbsp;new,&nbsp;unique&nbsp;array&nbsp;object.&nbsp;Additionally,&nbsp;all&nbsp;</span><span class="mtk9">elements&nbsp;in&nbsp;the&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array&nbsp;are&nbsp;of&nbsp;the&nbsp;type&nbsp;"series&nbsp;float".</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;*does&nbsp;not*&nbsp;cause&nbsp;an&nbsp;error,&nbsp;becaus</span><span class="mtk9">e&nbsp;the&nbsp;script&nbsp;does&nbsp;not&nbsp;*reassign*&nbsp;the&nbsp;variable&nbsp;duri</span><span class="mtk9">ng&nbsp;any&nbsp;execution.</span></span><br><span><span class="mtk18 mtkb">const</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">randArray</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.from</span><span class="mtk13">(</span><span class="mtk16">math.random</span><span class="mtk13">()</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.random</span><span class="mtk13">()</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.random</span><span class="mtk13">())</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;sum&nbsp;of&nbsp;the&nbsp;`randArray`&nbsp;elements.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">randArray</span><span class="mtk1">.</span><span class="mtk15">sum</span><span class="mtk13">())</span></span><br></code></div>
<p>However, if we use the <a href="https://www.tradingview.com/pine-script-reference/v6/#op_:=">:=</a> operator to reassign the <code dir="auto">randArray</code> variable, a compilation error occurs, because the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_const">const</a> keyword prevents the script from assigning <em>another</em> array reference to the variable during each execution. For example:</p>
<div class="pine-colorizer not-content colorized" data-id="3go"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Invalid&nbsp;reassignment&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Holds&nbsp;a&nbsp;reference&nbsp;to&nbsp;an&nbsp;array&nbsp;of&nbsp;three&nbsp;pseudorand</span><span class="mtk9">om&nbsp;"float"&nbsp;values.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Although&nbsp;the&nbsp;variable&nbsp;is&nbsp;declared&nbsp;usin</span><span class="mtk9">g&nbsp;`const`,&nbsp;the&nbsp;reference&nbsp;returned&nbsp;by&nbsp;`array.from()</span><span class="mtk9">`&nbsp;has&nbsp;the&nbsp;"series"&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualifier,&nbsp;because&nbsp;each&nbsp;execution&nbsp;crea</span><span class="mtk9">tes&nbsp;a&nbsp;new,&nbsp;unique&nbsp;array&nbsp;object.&nbsp;Additionally,&nbsp;all&nbsp;</span><span class="mtk9">elements&nbsp;in&nbsp;the&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array&nbsp;are&nbsp;of&nbsp;the&nbsp;type&nbsp;"series&nbsp;float".</span></span><br><span><span class="mtk18 mtkb">const</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">randArray</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.from</span><span class="mtk13">(</span><span class="mtk16">math.random</span><span class="mtk13">()</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.random</span><span class="mtk13">()</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.random</span><span class="mtk13">())</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;This&nbsp;line&nbsp;causes&nbsp;an&nbsp;error,&nbsp;because&nbsp;the&nbsp;`const`&nbsp;</span><span class="mtk9">keyword&nbsp;prevents&nbsp;reassignment&nbsp;operations&nbsp;on&nbsp;the&nbsp;`r</span><span class="mtk9">andArray`&nbsp;variable.</span></span><br><span><span class="mtk33">randArray</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.new</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;(</span><span class="mtk12">3</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0.0</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;sum&nbsp;of&nbsp;the&nbsp;`randArray`&nbsp;elements.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">randArray</span><span class="mtk1">.</span><span class="mtk15">sum</span><span class="mtk13">())</span></span><br></code></div>
<p>It’s important to note that the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_const">const</a> keyword <em>does not</em> directly prevent a script from modifying a <a href="/pine-script-docs/language/type-system/#collections">collection</a> or <a href="/pine-script-docs/language/type-system/#drawing-types">drawing object</a> referenced by a variable or function parameter. Scripts can still use the available <em>setter functions</em> to change that object’s data, because those functions <em>do not</em> affect the identifier’s associated reference.</p>
<p>Below, we edited our script by including a call to <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_array.set">array.set()</a>. The call sets the first element of the array referenced by <code dir="auto">randArray</code> to 0. Although the contents of the array change <em>after</em> each <code dir="auto">randArray</code> declaration, the variable’s assigned reference does not, so no error occurs:</p>
<div class="pine-colorizer not-content colorized" data-id="2a3"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Valid&nbsp;modification&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Holds&nbsp;a&nbsp;reference&nbsp;to&nbsp;an&nbsp;array&nbsp;of&nbsp;three&nbsp;pseudorand</span><span class="mtk9">om&nbsp;"float"&nbsp;values.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Although&nbsp;the&nbsp;variable&nbsp;is&nbsp;declared&nbsp;usin</span><span class="mtk9">g&nbsp;`const`,&nbsp;the&nbsp;reference&nbsp;returned&nbsp;by&nbsp;`array.from()</span><span class="mtk9">`&nbsp;has&nbsp;the&nbsp;"series"&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualifier,&nbsp;because&nbsp;each&nbsp;execution&nbsp;crea</span><span class="mtk9">tes&nbsp;a&nbsp;new,&nbsp;unique&nbsp;array&nbsp;object.&nbsp;Additionally,&nbsp;all&nbsp;</span><span class="mtk9">elements&nbsp;in&nbsp;the&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array&nbsp;are&nbsp;of&nbsp;the&nbsp;type&nbsp;"series&nbsp;float".</span></span><br><span><span class="mtk18 mtkb">const</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">randArray</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.from</span><span class="mtk13">(</span><span class="mtk16">math.random</span><span class="mtk13">()</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.random</span><span class="mtk13">()</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.random</span><span class="mtk13">())</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;This&nbsp;line&nbsp;*does&nbsp;not*&nbsp;cause&nbsp;an&nbsp;error,&nbsp;even&nbsp;thoug</span><span class="mtk9">h&nbsp;it&nbsp;changes&nbsp;the&nbsp;array's&nbsp;contents,&nbsp;because&nbsp;`randAr</span><span class="mtk9">ray`&nbsp;still&nbsp;refers&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;to&nbsp;the&nbsp;*same*&nbsp;array&nbsp;instance&nbsp;for&nbsp;the&nbsp;rest&nbsp;of&nbsp;th</span><span class="mtk9">e&nbsp;execution.</span></span><br><span><span class="mtk16">array.set</span><span class="mtk13">(</span><span class="mtk33">randArray</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0.0</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;sum&nbsp;of&nbsp;the&nbsp;`randArray`&nbsp;elements.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">randArray</span><span class="mtk1">.</span><span class="mtk15">sum</span><span class="mtk13">())</span></span><br></code></div>      </div> <div class="pagination-buttons not-content" data-astro-cid-xgirumru=""> <a href="/pine-script-docs/language/execution-model" class="pagination-card" data-pagefind-ignore="" data-astro-cid-assl6cvf=""> <p data-astro-cid-assl6cvf="">Previous</p> <h4 class="pagination-card-header" data-astro-cid-assl6cvf=""> <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-assl6cvf="" data-icon="theme/arrow-back">  <use xlink:href="#ai:local:theme/arrow-back"></use>  </svg> Execution model  </h4> </a>  <a href="/pine-script-docs/language/script-structure" class="pagination-card" data-pagefind-ignore="" data-astro-cid-assl6cvf=""> <p data-astro-cid-assl6cvf="">Next</p> <h4 class="pagination-card-header" data-astro-cid-assl6cvf="">  Script structure <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-assl6cvf="" data-icon="theme/arrow">  <symbol id="ai:local:theme/arrow"><path fill="none" stroke="var(--arrow-fill-color, #131722)" d="m11 8 6 6-6 6"></path></symbol><use xlink:href="#ai:local:theme/arrow"></use>  </svg> </h4> </a>  </div>  </main>   <div id="toc" data-pagefind-ignore="all" data-astro-cid-oor6cujd=""><aside class="document-toc-container ml-4 w-48" data-astro-cid-oor6cujd=""><section id="toc-scroll-section" class="slick-scroll" data-astro-cid-oor6cujd=""><header data-astro-cid-oor6cujd=""><h2 class="toc-header" data-astro-cid-oor6cujd="">On this page</h2></header><ul class="" id="toc-entries" data-astro-cid-oor6cujd=""><a href="#introduction" aria-current="true" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-current="" data-astro-cid-oor6cujd="">Introduction</li></a><a href="#qualifiers" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">Qualifiers</li></a><a href="#const" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">const</li></a><a href="#input" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">input</li></a><a href="#simple" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">simple</li></a><a href="#series" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">series</li></a><a href="#types" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">Types</li></a><a href="#value-types" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">Value types</li></a><a href="#int" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">int</li></a><a href="#float" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">float</li></a><a href="#bool" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">bool</li></a><a href="#color" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">color</li></a><a href="#string" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">string</li></a><a href="#enum-types" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Enum types</li></a><a href="#reference-types" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">Reference types</li></a><a href="#plot-and-hline" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">plot and hline</li></a><a href="#drawing-types" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Drawing types</li></a><a href="#chart-points" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Chart points</li></a><a href="#collections" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Collections</li></a><a href="#user-defined-types" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">User-defined types</li></a><a href="#void" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">void</li></a><a href="#na-value" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd=""><code>na</code> value</li></a><a href="#type-casting" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">Type casting</li></a><a href="#tuples" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">Tuples</li></a><a href="#value-vs-reference-types" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">Value vs. reference types</li></a><a href="#modifying-variables-vs-objects" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">Modifying variables vs. objects</li></a><a href="#modifying-global-data-in-local-scopes" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Modifying global data in local scopes</li></a><a href="#copies-vs-shared-references" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">Copies vs. shared references</li></a><a href="#using-const-with-reference-types" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">Using <code>const</code> with reference types</li></a></ul></section><div class="toc-bottom-fade" data-astro-cid-oor6cujd=""></div><div class="back-top-space" data-astro-cid-oor6cujd=""><div class="not-content" style="" data-astro-cid-pkzv2hgs=""> <a id="back-top-button" title="Back to top" href="#top" data-astro-cid-pkzv2hgs="" class="floating-button not-content stvb-base stvb-pointer stvb-gray stvb-medium stvb-secondary stvb-icon stvb-icon-force-color stvb-force-no-border"> <svg width="18" height="18" viewBox="0 0 18 18" data-astro-cid-oor6cujd="" data-icon="theme/arrow-up">  <symbol id="ai:local:theme/arrow-up"><g fill="none"><g clip-path="url(#a)"><path fill="currentColor" fill-rule="evenodd" d="m9 3.5.5.44 4 3.5-1 1.12-2.75-2.4V14h-1.5V6.15L5.49 8.56l-.98-1.12 4-3.5z" clip-rule="evenodd"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h18v18H0z"></path></clipPath></defs></g></symbol><use xlink:href="#ai:local:theme/arrow-up"></use>  </svg> </a> </div> </div></aside></div> </main> </div>   <footer data-astro-cid-b6pf7ola=""> <div class="footer-content" data-astro-cid-b6pf7ola="">  <ul data-astro-cid-b6pf7ola=""> <li data-astro-cid-b6pf7ola=""> <a href="https://www.tradingview.com/chat/#BfmVowG1TZkKO235" data-astro-cid-b6pf7ola="">Pine Q&amp;A chat</a>  </li><li data-astro-cid-b6pf7ola=""> <a href="https://stackoverflow.com/questions/tagged/pine-script" data-astro-cid-b6pf7ola="">Stack Overflow</a>  ↗ </li><li data-astro-cid-b6pf7ola=""> <a href="https://t.me/PineCodersQA" data-astro-cid-b6pf7ola="">Telegram</a>  ↗ </li><li data-astro-cid-b6pf7ola=""> <a href="https://www.reddit.com/r/TradingView/" data-astro-cid-b6pf7ola="">Reddit</a>  ↗ </li> </ul> <div class="flex" data-astro-cid-b6pf7ola=""></div> <div class="copyright" data-astro-cid-b6pf7ola="">Copyright © 2025 TradingView, Inc.</div> </div> </footer>         </body></html>
<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><script data-astro-exec="">
			const url = window.location.href;
			const expectedUrl = url.replace(
				/^https:\/\/(?!beta)(\w+\.)?tradingview\.com/,
				'https://www.tradingview.com',
			);
			if (url !== expectedUrl) {
				window.location.replace(expectedUrl);
			}
		</script><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="none"><link rel="icon" href="https://static.tradingview.com/static/images/favicon.ico"><link rel="icon" type="image/svg+xml" href="/pine-script-docs/favicon.svg"><title>Release notes</title><meta name="og:title" content="Release notes"><meta name="twitter:title" content="Release notes"><meta name="description" content="Everything you need to know about Pine Script®."><meta name="og:description" content="Everything you need to know about Pine Script®."><meta name="twitter:description" content="Everything you need to know about Pine Script®."><meta name="keywords" content="tradingview, pine, script, indicators, strategies"><meta name="og:image" content="/pine-script-docs/meta-image.png?1"><meta name="twitter:image" content="/pine-script-docs/meta-image.png?1"><meta name="og:image:width" content="1200"><meta name="og:image:height" content="630"><meta name="og:url" content="https://www.tradingview.com/pine-script-docs/release-notes/"><meta name="twitter:url" content="https://www.tradingview.com/pine-script-docs/release-notes/"><meta name="og:type" content="website"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@TradingView"><link rel="canonical" href="https://www.tradingview.com/pine-script-docs/release-notes/"><link rel="sitemap" href="/pine-script-docs/sitemap-index.xml"><link rel="stylesheet" href="/pine-script-docs/_astro/index.DfaRTfPD.css">
<link rel="stylesheet" href="/pine-script-docs/_astro/index.B9ah8c5K.css">
<style>.tv-spinner{display:none;position:absolute;margin:0 auto;border:0 solid rgb(149 152 161 / 20%);border-radius:50%;border-top-color:var(--tv-spinner-color, #2962ff);border-left-color:var(--tv-spinner-color, #2962ff);animation:tv-spinner-container-rotate .9s linear infinite}.tv-spinner-shown{display:block}.tv-spinner-size-large{top:calc(50% - 32px);left:calc(50% - 32px);width:56px;height:56px;border-width:4px}@keyframes tv-spinner-container-rotate{to{transform:rotate(360deg)}}:root{--page-background-color: #fff;background-color:var(--page-background-color)}:root[data-theme=dark]{--page-background-color: #000}body{background-color:var(--page-background-color)}#redirect-link{display:flex;position:absolute;inset:0;align-items:center;justify-content:center}#spinner{display:block;position:absolute;opacity:1;transition:opacity .2s}
.twitter-tweet:not(.twitter-tweet-rendered){padding:var(--tc-padding, 1em);border:1px solid var(--tc-border-color, #cfd9de)}.twitter-tweet:not(.twitter-tweet-rendered)>:first-child{margin-top:0}.twitter-tweet:not(.twitter-tweet-rendered)>:last-child{margin-bottom:0}lite-youtube{background-color:#000;position:relative;display:block;contain:content;background-position:center center;background-size:cover;cursor:pointer;max-width:720px}lite-youtube:before{content:attr(data-title);display:block;position:absolute;top:0;background-image:linear-gradient(180deg,#000000ab,#0000008a 14%,#00000026 54%,#0000000d 72%,#0000 94%);height:99px;width:100%;font-family:YouTube Noto,Roboto,Arial,Helvetica,sans-serif;color:#eee;text-shadow:0 0 2px rgba(0,0,0,.5);font-size:18px;padding:25px 20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box}lite-youtube:hover:before{color:#fff}lite-youtube:after{content:"";display:block;padding-bottom:56.25%}lite-youtube>iframe{width:100%;height:100%;position:absolute;top:0;left:0;border:0}lite-youtube>.lty-playbtn{display:block;width:100%;height:100%;background:no-repeat center/68px 48px;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 48"><path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63 3.26-5.42 6.19C.06 13.05 0 24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13 27.1-1.55c2.93-.78 4.64-3.26 5.42-6.19C67.94 34.95 68 24 68 24s-.06-10.95-1.48-16.26z" fill="red"/><path d="M45 24 27 14v20" fill="white"/></svg>');position:absolute;cursor:pointer;z-index:1;filter:grayscale(100%);transition:filter .1s cubic-bezier(0,0,.2,1);border:0}lite-youtube:hover>.lty-playbtn,lite-youtube .lty-playbtn:focus{filter:none}lite-youtube.lyt-activated{cursor:unset}lite-youtube.lyt-activated:before,lite-youtube.lyt-activated>.lty-playbtn{opacity:0;pointer-events:none}.lyt-visually-hidden{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}lite-youtube>iframe{all:unset!important;width:100%!important;height:100%!important;position:absolute!important;inset:0!important;border:0!important}lite-vimeo{font-size:10px;background-color:#000;position:relative;display:block;contain:content;background-position:center center;background-size:cover}lite-vimeo:after{content:"";display:block;padding-bottom:56.25%}lite-vimeo>iframe{all:unset!important;width:100%!important;height:100%!important;position:absolute!important;inset:0!important;border:0!important}lite-vimeo>.ltv-playbtn{content:"";position:absolute;inset:0;width:100%;background:transparent;outline:0;border:0;cursor:pointer}lite-vimeo>.ltv-playbtn:before{width:6.5em;height:4em;background:#172322bf;opacity:.8;border-radius:.25rem;transition:all .2s cubic-bezier(0,0,.2,1)}lite-vimeo>.ltv-playbtn:focus:before{outline:auto}lite-vimeo:hover>.ltv-playbtn:before{background-color:#00adef;background-color:var(--ltv-color, #00adef);opacity:1}lite-vimeo>.ltv-playbtn:after{border-style:solid;border-width:1em 0 1em 1.7em;border-color:transparent transparent transparent #fff}lite-vimeo>.ltv-playbtn:before,lite-vimeo>.ltv-playbtn:after{content:"";position:absolute;top:50%;left:50%;transform:translate3d(-50%,-50%,0)}lite-vimeo.ltv-activated:before,lite-vimeo.ltv-activated>.ltv-playbtn{cursor:unset;opacity:0;pointer-events:none}
</style><script type="module" src="/pine-script-docs/_astro/hoisted.wfEHaJbk.js" data-astro-exec=""></script><style id="tv-pine-light" type="text/css" media="screen">.monaco-editor-tv-pine-light { 
.mtk1 { color: #131722; }
.mtk2 { color: #ffffff; }
.mtk3 { color: #808080; }
.mtk4 { color: #ff0000; }
.mtk5 { color: #0451a5; }
.mtk6 { color: #0000ff; }
.mtk7 { color: #098658; }
.mtk8 { color: #008000; }
.mtk9 { color: #9598a1; }
.mtk10 { color: #dd0000; }
.mtk11 { color: #cc2929; }
.mtk12 { color: #f57f17; }
.mtk13 { color: #000000; }
.mtk14 { color: #383838; }
.mtk15 { color: #0c3299; }
.mtk16 { color: #2962ff; }
.mtk17 { color: #8e24aa; }
.mtk18 { color: #22ab94; }
.mtk19 { color: #cd3131; }
.mtk20 { color: #863b00; }
.mtk21 { color: #af00db; }
.mtk22 { color: #800000; }
.mtk23 { color: #e00000; }
.mtk24 { color: #3030c0; }
.mtk25 { color: #666666; }
.mtk26 { color: #778899; }
.mtk27 { color: #c700c7; }
.mtk28 { color: #a31515; }
.mtk29 { color: #388e3c; }
.mtk30 { color: #4f76ac; }
.mtk31 { color: #008080; }
.mtk32 { color: #001188; }
.mtk33 { color: #2a2e39; }
.mtk34 { color: #4864aa; }
.mtki { font-style: italic; }
.mtkb { font-weight: bold; }
.mtku { text-decoration: underline; text-underline-position: under; }
.mtks { text-decoration: line-through; }
.mtks.mtku { text-decoration: underline line-through; text-underline-position: under; } }</style></head> <body> <div id="search-content-blur" hidden=""></div> <script data-astro-exec="">
	/* eslint-disable @typescript-eslint/typedef */
	window.ThemeProvider = (() => {
		function getCurrent() {
			return (
				// eslint-disable-next-line no-restricted-syntax
				typeof localStorage !== 'undefined' &&
				localStorage.getItem('tv-docs-theme')
			);
		}
		const storedTheme = getCurrent();
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ?
				'light'
			:	'dark');
		document.documentElement.dataset.theme =
			theme === 'light' ? 'light' : 'dark';
		document.documentElement.classList.toggle(
			'theme-dark',
			theme === 'dark',
		); // add support for ui-lib themes
		document.documentElement.classList.toggle(
			'sl-theme-dark',
			theme === 'dark',
		); // add support for shoelace themes

		return {
			updatePickers(themeArg = storedTheme || 'auto') {
				let currentTheme = themeArg;
				if (currentTheme === 'unknown') {
					currentTheme = getCurrent() || 'auto';
				}
				document
					.querySelectorAll('docs-theme-select')
					.forEach((picker) => {
						const select = picker.querySelector('select');
						if (select) select.value = currentTheme;
						/** @type {HTMLTemplateElement | null} */
						const tmpl = document.querySelector(`#theme-icons`);
						const newIcon =
							tmpl &&
							tmpl.content.querySelector('.' + currentTheme);
						if (newIcon) {
							const oldIcon =
								picker.querySelector('svg.label-icon');
							if (oldIcon) {
								oldIcon.replaceChildren(
									...newIcon.cloneNode(true).childNodes,
								);
							}
						}
					});
			},
		};
	})();
	/* eslint-enable @typescript-eslint/typedef */
</script><template id="theme-icons"><svg width="16" height="16" viewBox="0 0 28 28" class="light" data-icon="theme/sun-28">  <symbol id="ai:local:theme/sun-28"><g fill="currentColor"><path d="M14 3h1.5v5H14zm0 18h1.5v5H14zm12-5.5V14h-5v1.5zM8 14v1.5H3V14zm15.3-7-1-1-3.6 3.6 1.1 1 3.5-3.5ZM9.5 18.7l1.1 1.1-3.5 3.5-1-1zM22 23.3l1-1-3.6-3.6-1 1.1 3.5 3.5ZM10.3 9.6l-1.1 1-3.5-3.5 1-1z"></path><path fill-rule="evenodd" d="M19 14.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0m-1.5 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0" clip-rule="evenodd"></path></g></symbol><use xlink:href="#ai:local:theme/sun-28"></use>  </svg><svg width="16" height="16" viewBox="0 0 28 28" class="dark" data-icon="theme/moon-28">  <symbol id="ai:local:theme/moon-28"><path fill="currentColor" fill-rule="evenodd" d="M21 7.02A9.23 9.23 0 0 0 15.2 5 9.1 9.1 0 0 0 6 14c0 4.97 4.12 9 9.2 9a9.33 9.33 0 0 0 5.8-2.02A7 7 0 0 1 14.36 14 7 7 0 0 1 21 7.02m-3.95-.3a8 8 0 0 0-1.85-.22A7.6 7.6 0 0 0 7.5 14a7.6 7.6 0 0 0 7.7 7.5 8 8 0 0 0 1.85-.22A8.46 8.46 0 0 1 12.86 14c0-3.1 1.69-5.8 4.19-7.28" clip-rule="evenodd"></path></symbol><use xlink:href="#ai:local:theme/moon-28"></use>  </svg><svg width="16" height="16" viewBox="0 0 28 28" class="auto" data-icon="theme/system-28">  <symbol id="ai:local:theme/system-28"><path fill="currentColor" d="M8 4h1v2H8zm0 9v2h1v-2zm6-3V9h-2v1zM3 9v1h2V9zm5.5 3a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5m4.2-6-.7-.7-1.4 1.4.7.7zM5 13.7l-.7-.7 1.4-1.4.7.7zm7.7-.7-.7.7-1.4-1.4.7-.7zM4.3 6l.7-.7 1.4 1.4-.7.7zm3 17 14-14 .8.7L8 23.7zm17.2-.1a3.5 3.5 0 0 1-3.4-5.9H21a4 4 0 1 0 3.5 5.9"></path></symbol><use xlink:href="#ai:local:theme/system-28"></use>  </svg></template> <div class="backdrop" data-mobile-menu-backdrop="" data-astro-cid-h2irkosh=""></div> <div class="menu-container" data-astro-cid-h2irkosh=""> <div class="header" data-astro-cid-h2irkosh=""> <div class="header-group" data-astro-cid-h2irkosh=""> <div id="version-select" data-astro-cid-kx7qoxgq=""> <label style="--sl-select-width: undefined; --sl-label-icon-size: 16px;" data-astro-cid-lmznfliq=""> <span class="sr-only" data-astro-cid-lmznfliq="">Version</span>  <select value="v6" data-has-border="" no-icon="true" data-astro-cid-lmznfliq=""> <option value="v6" selected="true" data-astro-cid-lmznfliq="">Version 6</option><option value="v5" data-astro-cid-lmznfliq="">Version 5</option><option value="v4" data-astro-cid-lmznfliq="">Version 4</option><option value="v3" data-astro-cid-lmznfliq="">Version 3</option> </select> <svg width="16" height="16" viewBox="0 0 24 24" class="icon caret" data-astro-cid-lmznfliq="" data-icon="theme/down-caret">  <symbol id="ai:local:theme/down-caret"><path fill="currentColor" d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1 1 0 0 0 1.42 0L17 10.59a1 1 0 0 0 0-1.42"></path></symbol><use xlink:href="#ai:local:theme/down-caret"></use>  </svg> </label>  </div>   <docs-theme-select class="" data-astro-cid-3wpspbi7=""> <label style="--sl-select-width: 48px; --sl-label-icon-size: 28px;" data-astro-cid-lmznfliq=""> <span class="sr-only" data-astro-cid-lmznfliq="">Theme</span> <svg width="28" height="28" viewBox="0 0 28 28" class="icon label-icon" data-button="" data-round="" data-astro-cid-lmznfliq="" data-icon="theme/system-28">  <symbol id="ai:local:theme/system-28"><path fill="currentColor" d="M8 4h1v2H8zm0 9v2h1v-2zm6-3V9h-2v1zM3 9v1h2V9zm5.5 3a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5m4.2-6-.7-.7-1.4 1.4.7.7zM5 13.7l-.7-.7 1.4-1.4.7.7zm7.7-.7-.7.7-1.4-1.4.7-.7zM4.3 6l.7-.7 1.4 1.4-.7.7zm3 17 14-14 .8.7L8 23.7zm17.2-.1a3.5 3.5 0 0 1-3.4-5.9H21a4 4 0 1 0 3.5 5.9"></path></symbol><use xlink:href="#ai:local:theme/system-28"></use>  </svg> <select value="auto" data-button="" data-astro-cid-lmznfliq=""> <option value="dark" data-astro-cid-lmznfliq="">&nbsp;&nbsp;Dark&nbsp;&nbsp;</option><option value="light" data-astro-cid-lmznfliq="">&nbsp;&nbsp;Light&nbsp;&nbsp;</option><option value="auto" selected="true" data-astro-cid-lmznfliq="">&nbsp;&nbsp;Auto&nbsp;&nbsp;</option> </select>  </label>  </docs-theme-select>   <script data-astro-exec="">
	ThemeProvider.updatePickers('unknown');
</script>  </div> <div class="header-group" data-astro-cid-h2irkosh="">  <div class="not-content" style="stroke-width:2px" data-astro-cid-pkzv2hgs=""> <button id="mobile-menu-back-button" title="Close menu" data-astro-cid-pkzv2hgs="" class="not-content stvb-base stvb-pointer stvb-gray stvb-medium stvb-primary stvb-icon">  <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-h2irkosh="" data-icon="theme/arrow-back">  <symbol id="ai:local:theme/arrow-back"><g fill="none"><g clip-path="url(#a)"><path stroke="var(--arrow-fill-color, #131722)" d="m17 20-6-6 6-6"></path></g><defs><clipPath id="a"><path fill="#fff" d="M28 28H0V0h28z"></path></clipPath></defs></g></symbol><use xlink:href="#ai:local:theme/arrow-back"></use>  </svg>  </button> </div>  </div> </div> <aside id="nav" class="keep-visible" style="--navbar-right-border-width: 0px" data-astro-cid-sa57sq6l=""> <div class="sidebar-viewport slick-scroll" data-astro-cid-sa57sq6l=""> <div class="sidebar" data-mobile="" data-astro-cid-sa57sq6l=""> <ul class="toc" aria-label="Docs sidebar" data-astro-cid-sa57sq6l=""> <li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/welcome" data-astro-cid-omxx3dey="">Welcome to Pine Script® v6</a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Pine Script® primer</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-steps" data-astro-cid-omxx3dey="">First steps</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-indicator" data-astro-cid-omxx3dey="">First indicator</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/next-steps" data-astro-cid-omxx3dey="">Next steps</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Language</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/execution-model" data-astro-cid-omxx3dey="">Execution model</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/type-system" data-astro-cid-omxx3dey="">Type system</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/script-structure" data-astro-cid-omxx3dey="">Script structure</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/identifiers" data-astro-cid-omxx3dey="">Identifiers</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/variable-declarations" data-astro-cid-omxx3dey="">Variable declarations</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/operators" data-astro-cid-omxx3dey="">Operators</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/conditional-structures" data-astro-cid-omxx3dey="">Conditional structures</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/loops" data-astro-cid-omxx3dey="">Loops</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/built-ins" data-astro-cid-omxx3dey="">Built-ins</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/user-defined-functions" data-astro-cid-omxx3dey="">User-defined functions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/objects" data-astro-cid-omxx3dey="">Objects</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/enums" data-astro-cid-omxx3dey="">Enums</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/methods" data-astro-cid-omxx3dey="">Methods</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/arrays" data-astro-cid-omxx3dey="">Arrays</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/matrices" data-astro-cid-omxx3dey="">Matrices</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/maps" data-astro-cid-omxx3dey="">Maps</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Visuals</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/overview" data-astro-cid-omxx3dey="">Overview</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/backgrounds" data-astro-cid-omxx3dey="">Backgrounds</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/bar-coloring" data-astro-cid-omxx3dey="">Bar coloring</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/bar-plotting" data-astro-cid-omxx3dey="">Bar plotting</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/colors" data-astro-cid-omxx3dey="">Colors</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/fills" data-astro-cid-omxx3dey="">Fills</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/levels" data-astro-cid-omxx3dey="">Levels</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/lines-and-boxes" data-astro-cid-omxx3dey="">Lines and boxes</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/plots" data-astro-cid-omxx3dey="">Plots</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/tables" data-astro-cid-omxx3dey="">Tables</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/text-and-shapes" data-astro-cid-omxx3dey="">Text and shapes</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Concepts</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/alerts" data-astro-cid-omxx3dey="">Alerts</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-states" data-astro-cid-omxx3dey="">Bar states</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/chart-information" data-astro-cid-omxx3dey="">Chart information</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/inputs" data-astro-cid-omxx3dey="">Inputs</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/libraries" data-astro-cid-omxx3dey="">Libraries</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/non-standard-charts-data" data-astro-cid-omxx3dey="">Non-standard charts data</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/other-timeframes-and-data" data-astro-cid-omxx3dey="">Other timeframes and data</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/repainting" data-astro-cid-omxx3dey="">Repainting</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/sessions" data-astro-cid-omxx3dey="">Sessions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/strategies" data-astro-cid-omxx3dey="">Strategies</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/strings" data-astro-cid-omxx3dey="">Strings</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/time" data-astro-cid-omxx3dey="">Time</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/timeframes" data-astro-cid-omxx3dey="">Timeframes</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Writing scripts</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/style-guide" data-astro-cid-omxx3dey="">Style guide</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/debugging" data-astro-cid-omxx3dey="">Debugging</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/profiling-and-optimization" data-astro-cid-omxx3dey="">Profiling and optimization</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/publishing" data-astro-cid-omxx3dey="">Publishing scripts</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/limitations" data-astro-cid-omxx3dey="">Limitations</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">FAQ</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/general" data-astro-cid-omxx3dey="">General</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/alerts" data-astro-cid-omxx3dey="">Alerts</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/data-structures" data-astro-cid-omxx3dey="">Data structures</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/functions" data-astro-cid-omxx3dey="">Functions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/indicators" data-astro-cid-omxx3dey="">Indicators</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/other-data-and-timeframes" data-astro-cid-omxx3dey="">Other data and timeframes</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/programming" data-astro-cid-omxx3dey="">Programming</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/strategies" data-astro-cid-omxx3dey="">Strategies</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/strings-and-formatting" data-astro-cid-omxx3dey="">Strings and formatting</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/techniques" data-astro-cid-omxx3dey="">Techniques</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/times-dates-and-sessions" data-astro-cid-omxx3dey="">Times, dates, and sessions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/variables-and-operators" data-astro-cid-omxx3dey="">Variables and operators</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/visuals" data-astro-cid-omxx3dey="">Visuals</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/error-messages" data-astro-cid-omxx3dey="">Error messages</a></li><li class="item" data-current="" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/release-notes" data-astro-cid-omxx3dey="">Release notes</a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Migration guides</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/overview" data-astro-cid-omxx3dey="">Overview</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-6" data-astro-cid-omxx3dey="">To Pine Script® version 6</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-5" data-astro-cid-omxx3dey="">To Pine Script® version 5</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-4" data-astro-cid-omxx3dey="">To Pine Script® version 4</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-3" data-astro-cid-omxx3dey="">To Pine Script® version 3</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-2" data-astro-cid-omxx3dey="">To Pine Script® version 2</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/where-can-i-get-more-information" data-astro-cid-omxx3dey="">Where can I get more information?</a></li> </ul> <div class="toc-bottom" data-astro-cid-sa57sq6l=""></div> </div> </div> </aside>  </div>   <header class="header" data-astro-cid-d74r2unp=""> <nav role="navigation" aria-label="Main Navigation" data-astro-cid-d74r2unp=""> <mobile-menu-button id="mobile-menu-button-wc" data-astro-cid-oojooh3d=""> <!-- Annoyingly I need to wrap this. TODO: improve this --> <div id="mobile-menu-button-header" data-astro-cid-oojooh3d=""> <div class="not-content" style="" data-astro-cid-pkzv2hgs=""> <button title="Open navigation menu" data-astro-cid-pkzv2hgs="" class="not-content stvb-base stvb-pointer stvb-gray stvb-medium stvb-secondary stvb-icon stvb-icon-force-color stvb-force-no-border">  <svg width="28" height="28" viewBox="0 0 24 24" data-astro-cid-oojooh3d="" data-icon="theme/bars">  <symbol id="ai:local:theme/bars"><path fill="currentColor" d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2m18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2m0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2"></path></symbol><use xlink:href="#ai:local:theme/bars"></use>  </svg>  </button> </div>  </div> </mobile-menu-button>   <div data-hide-when-search="" data-astro-cid-d74r2unp=""> <div class="header-logo" data-astro-cid-tycb33lk=""> <a href="/pine-script-docs/" aria-label="Home button" data-astro-cid-tycb33lk=""> <div class="documentation-logo logo" data-astro-cid-tycb33lk=""><!-- Old Christmas icon -->
<!-- 
<svg width="184" height="44" viewBox="0 0 184 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path fill-rule="evenodd" clip-rule="evenodd" d="M33.8209 5.1219C33.885 4.95937 34.115 4.95937 34.1791 5.1219L35.2253 7.77465L37.8781 8.82088C38.0406 8.88499 38.0406 9.11501 37.8781 9.17912L35.2253 10.2253L34.1791 12.8781C34.115 13.0406 33.885 13.0406 33.8209 12.8781L32.7747 10.2253L30.1219 9.17912C29.9594 9.11501 29.9594 8.88499 30.1219 8.82088L32.7747 7.77465L33.8209 5.1219Z" fill="#F9A825"/>
    <path d="M5.30092 15.1478C5.37479 14.9605 5.63986 14.9605 5.71373 15.1478L6.60557 17.4091L8.86685 18.3009C9.05415 18.3748 9.05415 18.6399 8.86685 18.7137L6.60557 19.6056L5.71373 21.8669C5.63986 22.0541 5.37479 22.0541 5.30092 21.8669L4.40908 19.6056L2.1478 18.7137C1.9605 18.6399 1.9605 18.3748 2.1478 18.3009L4.40908 17.4091L5.30092 15.1478Z" fill="#F9A825"/>
    <path d="M11.8231 3.12041C11.8864 2.95986 12.1136 2.95986 12.1769 3.12041L12.9414 5.05865L14.8796 5.82308C15.0401 5.8864 15.0401 6.1136 14.8796 6.17692L12.9414 6.94135L12.1769 8.87959C12.1136 9.04014 11.8864 9.04014 11.8231 8.87959L11.0586 6.94135L9.12041 6.17692C8.95986 6.1136 8.95986 5.8864 9.12041 5.82308L11.0586 5.05865L11.8231 3.12041Z" fill="#F9A825"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M22.6478 7.35459L34.7627 21.6923C35.1531 22.1543 35.0472 22.8544 34.5376 23.1802L26.9989 28.0001L18.4281 20.7531L11.3382 23.2611C10.402 23.5923 9.60771 22.5041 10.2085 21.7134L21.0877 7.39502C21.4749 6.88536 22.2346 6.86567 22.6478 7.35459ZM33.432 28.0842L38.3592 34.7471C38.7427 35.2657 38.3724 36 37.7274 36H6.27248C5.62746 36 5.25722 35.2657 5.64074 34.7471L10.8523 27.6996C10.9484 27.5697 11.0822 27.4725 11.2356 27.4214L17.6878 25.2707C17.9285 25.1904 18.1932 25.2314 18.3984 25.3806L26.2854 31.1166C26.5445 31.3051 26.8922 31.3173 27.1639 31.1475L32.3838 27.885C32.7316 27.6677 33.1881 27.7544 33.432 28.0842Z" fill="#089981"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.6363 11.9375C20.7386 12.451 23.1213 11.505 24.9187 10.0422L25.8869 11.1881C23.6236 13.0379 20.553 14.1584 16.6261 13.267L17.6363 11.9375ZM34.0572 20.8573C30.0669 21.363 26.2864 20.8179 23.1264 19.7076C20.7393 18.8689 18.6873 17.7013 17.155 16.3997C16.5283 15.8674 15.9767 15.3021 15.5241 14.7174L16.4708 13.4713C16.8706 14.0544 17.4225 14.6588 18.1262 15.2565C19.5001 16.4237 21.3856 17.5061 23.6236 18.2924C26.3235 19.241 29.5087 19.7493 32.8863 19.4716L34.0572 20.8573ZM9.06812 30.1123C15.4775 33.3909 23.0493 33.8897 29.0345 32.0941C31.0827 31.4796 32.9275 30.6019 34.4713 29.4897L35.3633 30.6959C33.6586 31.9268 31.6497 32.8756 29.4655 33.5309C23.053 35.4546 14.9758 34.8964 8.16479 31.3339L9.06812 30.1123Z" fill="#45E5CB"/>
    <path d="M55.56 13.96C59.016 13.96 61.536 16.456 61.536 19.696C61.536 22.936 59.016 25.432 55.56 25.432H53.376V31H49.896V13.96H55.56ZM55.512 22.168C57.096 22.168 58.152 21.088 58.152 19.696C58.152 18.304 57.096 17.224 55.512 17.224H53.376V22.168H55.512ZM66.8636 14.944C66.8636 16.096 65.9276 17.032 64.7516 17.032C63.6236 17.032 62.6636 16.096 62.6636 14.944C62.6636 13.792 63.6236 12.856 64.7516 12.856C65.9276 12.856 66.8636 13.792 66.8636 14.944ZM63.1196 31V19H66.4076V31H63.1196ZM69.0849 31V19H72.3729V20.368C72.9969 19.408 74.2449 18.736 75.8049 18.736C78.7089 18.736 80.4369 20.848 80.4369 23.968V31H77.1489V24.52C77.1489 22.792 76.4049 21.736 75.0369 21.736C73.5249 21.736 72.3729 22.84 72.3729 25.144V31H69.0849ZM82.2041 25C82.2041 21.448 84.8681 18.736 88.5161 18.736C91.6601 18.736 94.4201 20.752 94.4201 24.64C94.4201 24.928 94.4201 25.264 94.3721 25.768H85.3961C85.5881 27.376 87.0041 28.264 88.5881 28.264C90.0761 28.264 91.1561 27.568 91.6841 26.752L94.1321 28.576C93.0281 30.184 91.0841 31.264 88.5641 31.264C84.9881 31.264 82.2041 28.792 82.2041 25ZM88.4201 21.448C87.1961 21.448 85.8281 22.072 85.5161 23.536H91.1321C90.8441 22.12 89.6441 21.448 88.4201 21.448ZM100.412 28.24L103.076 26.008C103.916 27.28 105.38 28.024 106.772 28.024C108.14 28.024 109.052 27.352 109.052 26.368C109.052 25.408 108.356 24.736 106.676 24.16L105.236 23.656C102.5 22.696 101.036 21.112 101.036 18.784C101.036 15.568 103.484 13.672 106.796 13.672C108.884 13.672 110.708 14.392 112.172 16.024L109.868 18.4C109.052 17.416 107.996 16.936 106.82 16.936C105.644 16.936 104.54 17.44 104.54 18.448C104.54 19.48 105.38 19.936 107.18 20.584L108.548 21.088C111.044 22 112.604 23.584 112.604 26.152C112.58 29.2 110.156 31.288 106.628 31.288C103.916 31.288 101.636 30.112 100.412 28.24ZM125.859 27.808C124.827 29.872 122.667 31.264 120.171 31.264C116.619 31.264 113.811 28.624 113.811 25C113.811 21.376 116.619 18.736 120.171 18.736C122.667 18.736 124.827 20.128 125.859 22.192L123.003 23.728C122.523 22.624 121.491 21.808 120.171 21.808C118.443 21.808 117.123 23.152 117.123 25C117.123 26.848 118.443 28.192 120.171 28.192C121.491 28.192 122.523 27.376 123.003 26.272L125.859 27.808ZM127.482 31V19H130.77V20.92C131.178 19.744 132.402 18.856 133.746 18.856C134.082 18.856 134.442 18.88 134.85 19V22.336C134.346 22.168 133.89 22.072 133.362 22.072C131.802 22.072 130.77 23.296 130.77 25.264V31H127.482ZM140.215 14.944C140.215 16.096 139.279 17.032 138.103 17.032C136.975 17.032 136.015 16.096 136.015 14.944C136.015 13.792 136.975 12.856 138.103 12.856C139.279 12.856 140.215 13.792 140.215 14.944ZM136.471 31V19H139.759V31H136.471ZM142.436 36.016V19H145.724V20.344C146.276 19.576 147.548 18.736 149.204 18.736C152.396 18.736 154.844 21.592 154.844 25C154.844 28.408 152.396 31.264 149.204 31.264C147.548 31.264 146.276 30.424 145.724 29.656V36.016H142.436ZM151.508 25C151.508 23.128 150.284 21.736 148.484 21.736C146.684 21.736 145.46 23.128 145.46 25C145.46 26.872 146.684 28.264 148.484 28.264C150.284 28.264 151.508 26.872 151.508 25ZM164.407 30.88C163.879 31.048 163.231 31.144 162.319 31.144C159.775 31.144 157.735 29.728 157.735 26.8V21.88H155.311V19H157.735V15.664H161.023V19H164.407V21.88H161.023V26.152C161.023 27.616 161.647 28.192 163.063 28.192C163.591 28.192 164.023 28.12 164.407 27.976V30.88ZM173.626 22.648V13.96H175.978L177.874 16.888L179.746 13.96H182.122V22.648H179.698V18.184L177.874 20.968L176.026 18.136V22.648H173.626ZM167.386 22.648V16.456H165.058V13.96H172.258V16.456H169.93V22.648H167.386Z" fill="currentColor"/>
</svg> -->



<!-- Regular icon -->

<svg width="177" height="44" viewBox="0 0 177 44" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M17.6876 25.2705C17.9283 25.1902 18.1933 25.2316 18.3985 25.3808L26.2852 31.1162C26.5444 31.3047 26.8924 31.3173 27.1641 31.1474L32.3839 27.8847C32.7316 27.6675 33.1878 27.7545 33.4317 28.084L38.3594 34.7471C38.7428 35.2656 38.3725 35.9999 37.7276 36H6.27253C5.62754 36 5.25723 35.2657 5.64069 34.7471L10.8526 27.6992C10.9486 27.5695 11.0824 27.4729 11.2354 27.4219L17.6876 25.2705ZM21.088 7.39451C21.4752 6.88532 22.2345 6.8659 22.6475 7.35448L34.7628 21.6924C35.1531 22.1544 35.0468 22.8548 34.5372 23.1806L26.9991 28L18.4278 20.7529L11.338 23.2607C10.4021 23.5917 9.60809 22.5044 10.2081 21.7139L21.088 7.39451ZM13.8243 20.2597L17.7608 18.8672C18.4309 18.6301 19.1771 18.7667 19.7198 19.2256L27.1641 25.5205L32.4981 22.1103L21.9259 9.59862L13.8243 20.2597Z" fill="currentColor"></path>
<path d="M147.308 16.959C150.499 16.959 152.948 19.8149 152.948 23.2227C152.948 26.6307 150.5 29.4873 147.308 29.4873C145.652 29.4872 144.38 28.6469 143.828 27.8789V34.2393H140.54V17.2227H143.828V18.5674C144.38 17.7994 145.652 16.9591 147.308 16.959ZM104.9 11.8955C106.988 11.8956 108.812 12.6152 110.276 14.2471L107.972 16.623C107.156 15.6392 106.1 15.1592 104.924 15.1592C103.748 15.1592 102.645 15.6631 102.645 16.6709C102.645 17.7029 103.484 18.1596 105.284 18.8076L106.652 19.3115C109.148 20.2235 110.708 21.8072 110.708 24.375C110.684 27.4229 108.26 29.5106 104.732 29.5107C102.02 29.5107 99.7396 28.3349 98.5156 26.4629L101.18 24.2314C102.02 25.5034 103.484 26.247 104.876 26.2471C106.244 26.2471 107.156 25.5748 107.156 24.5908C107.156 23.631 106.46 22.9587 104.78 22.3828L103.34 21.8789C100.604 20.9189 99.1396 19.3348 99.1396 17.0068C99.1398 13.791 101.588 11.8955 104.9 11.8955ZM86.6201 16.959C89.7641 16.959 92.5244 18.9753 92.5244 22.8633C92.5244 23.1513 92.5246 23.4873 92.4766 23.9912H83.5C83.692 25.5992 85.1084 26.4873 86.6924 26.4873C88.18 26.4872 89.26 25.7914 89.7881 24.9756L92.2363 26.7988C91.1323 28.4068 89.188 29.4873 86.668 29.4873C83.092 29.4872 80.3086 27.0146 80.3086 23.2227C80.3088 19.6709 82.9723 16.959 86.6201 16.959ZM118.275 16.959C120.771 16.9591 122.931 18.3512 123.963 20.415L121.107 21.9512C120.627 20.8473 119.595 20.0314 118.275 20.0312C116.548 20.0312 115.227 21.3749 115.227 23.2227C115.227 25.0707 116.547 26.415 118.275 26.415C119.595 26.4149 120.627 25.599 121.107 24.4951L123.963 26.0312C122.931 28.0951 120.771 29.4872 118.275 29.4873C114.723 29.4873 111.915 26.8467 111.915 23.2227C111.915 19.5989 114.724 16.959 118.275 16.959ZM159.127 17.2227H162.511V20.1035H159.127V24.375C159.127 25.839 159.751 26.415 161.167 26.415C161.695 26.415 162.127 26.3432 162.511 26.1992V29.1035C161.983 29.2715 161.335 29.3672 160.423 29.3672C157.879 29.3672 155.839 27.9512 155.839 25.0234V20.1035H153.415V17.2227H155.839V13.8867H159.127V17.2227ZM53.6641 12.1836C57.12 12.1836 59.6395 14.6791 59.6396 17.9189C59.6396 21.1589 57.12 23.6552 53.6641 23.6553H51.4805V29.2227H48V12.1836H53.6641ZM64.5117 29.2227H61.2236V17.2227H64.5117V29.2227ZM73.9092 16.959C76.813 16.9591 78.541 19.0715 78.541 22.1914V29.2227H75.2529V22.7432C75.2529 21.0152 74.5086 19.959 73.1406 19.959C71.6288 19.9591 70.4766 21.0633 70.4766 23.3672V29.2227H67.1885V17.2227H70.4766V18.5908C71.1006 17.6308 72.3492 16.959 73.9092 16.959ZM131.85 17.0791C132.186 17.0791 132.546 17.1027 132.954 17.2227V20.5596C132.45 20.3916 131.994 20.2949 131.466 20.2949C129.906 20.2949 128.874 21.5193 128.874 23.4873V29.2227H125.586V17.2227H128.874V19.1436C129.282 17.9676 130.506 17.0792 131.85 17.0791ZM137.862 29.2227H134.574V17.2227H137.862V29.2227ZM146.588 19.959C144.788 19.959 143.564 21.3509 143.563 23.2227C143.563 25.0947 144.788 26.4873 146.588 26.4873C148.388 26.4873 149.612 25.0947 149.612 23.2227C149.612 21.3509 148.388 19.959 146.588 19.959ZM169.993 9.76074C170.876 9.76079 171.697 9.9237 172.455 10.25C173.213 10.5764 173.881 11.0326 174.457 11.6182C175.043 12.1942 175.499 12.8617 175.825 13.6201C176.151 14.3783 176.314 15.1991 176.314 16.082C176.314 16.9556 176.152 17.7769 175.825 18.5449C175.499 19.3032 175.043 19.975 174.457 20.5605C173.881 21.1365 173.208 21.5877 172.44 21.9141C171.682 22.2404 170.867 22.4042 169.993 22.4043C169.12 22.4043 168.298 22.2405 167.53 21.9141C166.772 21.5877 166.1 21.1365 165.515 20.5605C164.939 19.975 164.488 19.3032 164.161 18.5449C163.835 17.7769 163.671 16.9556 163.671 16.082C163.671 15.2086 163.835 14.393 164.161 13.6348C164.488 12.8668 164.939 12.1942 165.515 11.6182C166.1 11.0327 166.772 10.5764 167.53 10.25C168.298 9.92362 169.12 9.76074 169.993 9.76074ZM86.5244 19.6709C85.3005 19.6709 83.9323 20.295 83.6201 21.7588H89.2363C88.9482 20.3431 87.7482 19.671 86.5244 19.6709ZM169.993 11.1865C169.312 11.1865 168.672 11.3109 168.077 11.5605C167.492 11.8101 166.974 12.1612 166.522 12.6123C166.071 13.0635 165.72 13.5865 165.471 14.1816C165.221 14.7671 165.097 15.4006 165.097 16.082C165.097 16.7634 165.221 17.402 165.471 17.9971C165.72 18.5827 166.071 19.1015 166.522 19.5527C166.974 20.0038 167.492 20.3539 168.077 20.6035C168.672 20.8531 169.312 20.9785 169.993 20.9785C170.675 20.9785 171.308 20.8531 171.894 20.6035C172.489 20.3539 173.012 20.0038 173.463 19.5527C173.914 19.1015 174.265 18.5827 174.515 17.9971C174.764 17.402 174.889 16.7634 174.889 16.082C174.889 15.4006 174.764 14.7671 174.515 14.1816C174.265 13.5865 173.914 13.0635 173.463 12.6123C173.012 12.1611 172.489 11.8101 171.894 11.5605C171.308 11.311 170.675 11.1866 169.993 11.1865ZM51.4805 20.3916H53.6162C55.2001 20.3915 56.2559 19.3109 56.2559 17.9189C56.2558 16.5271 55.2 15.4474 53.6162 15.4473H51.4805V20.3916ZM169.878 13.2314C170.406 13.2315 170.838 13.2932 171.174 13.418C171.519 13.5332 171.773 13.7163 171.937 13.9658C172.1 14.2154 172.182 14.5271 172.182 14.9014C172.182 15.2469 172.09 15.5494 171.908 15.8086C171.726 16.0581 171.481 16.2646 171.174 16.4277L172.815 18.9336H171.217L169.964 16.8027H169.445V18.9336H168.034V13.2314H169.878ZM169.445 15.751H169.849C170.127 15.751 170.348 15.6932 170.511 15.5781C170.674 15.4533 170.756 15.247 170.756 14.959C170.756 14.7383 170.684 14.5703 170.54 14.4551C170.396 14.3399 170.165 14.2822 169.849 14.2822H169.445V15.751ZM62.8555 11.0791C64.0314 11.0791 64.9677 12.0151 64.9678 13.167C64.9678 14.319 64.0315 15.2549 62.8555 15.2549C61.7275 15.2548 60.7676 14.3189 60.7676 13.167C60.7677 12.0151 61.7276 11.0792 62.8555 11.0791ZM136.207 11.0791C137.383 11.0793 138.318 12.0152 138.318 13.167C138.318 14.3188 137.383 15.2546 136.207 15.2549C135.079 15.2549 134.118 14.319 134.118 13.167C134.118 12.0151 135.079 11.0791 136.207 11.0791Z" fill="currentColor"></path>
</svg>
</div> </a> </div>  </div> <div class="flex" data-astro-cid-d74r2unp=""></div> <div class="flex" data-astro-cid-d74r2unp=""> <div class="search-container" data-astro-cid-fg37foga=""> <div class="search-wrapper" data-astro-cid-fg37foga=""> <input class="search-input" type="text" placeholder="Search docs" name="s" value="" data-astro-cid-fg37foga="" data-has-input-listener="true"> <svg width="28" height="28" viewBox="0 0 28 28" class="search-button" data-astro-cid-fg37foga="" data-icon="theme/search">  <symbol id="ai:local:theme/search"><path fill="currentColor" fill-rule="evenodd" d="M18.5 12.5a6 6 0 1 1-12 0 6 6 0 0 1 12 0m-1.25 5.8a7.5 7.5 0 1 1 1.06-1.06l4.22 4.23.53.53L22 23.06l-.53-.53-4.22-4.22Z" clip-rule="evenodd"></path></symbol><use xlink:href="#ai:local:theme/search"></use>  </svg> <button class="search-clear" type="button" title="Reset" data-search-clear="" data-astro-cid-fg37foga="">Clear</button> <span class="divider" data-astro-cid-fg37foga=""></span> <button class="search-close" type="button" title="Close" data-search-close="" data-astro-cid-fg37foga=""> <svg width="18" height="18" viewBox="0 0 18 18" data-astro-cid-fg37foga="" data-icon="theme/cross-18">  <use xlink:href="#ai:local:theme/cross-18"></use>  </svg> </button> </div> <div id="search-results-wrapper" data-astro-cid-fg37foga=""> <aside id="search-results" hidden="" data-astro-cid-fg37foga="" data-has-button-listener="true"> <!-- Don't use h1 because when built it will be used as the first heading on the page --> <div class="heading" data-astro-cid-fg37foga="">Search results</div> <div id="search-results-contents" data-astro-cid-fg37foga=""></div> </aside> </div> </div>   </div> <ul class="links" data-astro-cid-d74r2unp="">  </ul> <div class="flex" data-astro-cid-d74r2unp=""></div> <div data-hide-when-search="" data-astro-cid-d74r2unp=""> <div id="version-select" data-hideable="true" data-astro-cid-kx7qoxgq=""> <label style="--sl-select-width: undefined; --sl-label-icon-size: 16px;" data-astro-cid-lmznfliq=""> <span class="sr-only" data-astro-cid-lmznfliq="">Version</span>  <select value="v6" data-has-border="" no-icon="true" data-astro-cid-lmznfliq=""> <option value="v6" selected="true" data-astro-cid-lmznfliq="">Version 6</option><option value="v5" data-astro-cid-lmznfliq="">Version 5</option><option value="v4" data-astro-cid-lmznfliq="">Version 4</option><option value="v3" data-astro-cid-lmznfliq="">Version 3</option> </select> <svg width="16" height="16" viewBox="0 0 24 24" class="icon caret" data-astro-cid-lmznfliq="" data-icon="theme/down-caret">  <use xlink:href="#ai:local:theme/down-caret"></use>  </svg> </label>  </div>   </div> <button id="search-button" data-astro-cid-6zeqadij="" data-has-listener="true"> <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-6zeqadij="" data-icon="theme/search">  <use xlink:href="#ai:local:theme/search"></use>  </svg> </button>  <script data-base-url="/pine-script-docs" data-astro-exec="">
	async function loadPageFind() {
		const base = document.currentScript.getAttribute('data-base-url');
		const pageFindBundleUrl = `${base}/pagefind/`;
		const pagefind = await import(`${pageFindBundleUrl}pagefind.js`);
		await pagefind.options({
			bundlePath: pageFindBundleUrl,
		});
		window.pagefind = pagefind;
	}
	loadPageFind().catch();
</script>  <docs-theme-select class="hide-with-breakpoint-568" data-astro-cid-3wpspbi7=""> <label style="--sl-select-width: 48px; --sl-label-icon-size: 28px;" data-astro-cid-lmznfliq=""> <span class="sr-only" data-astro-cid-lmznfliq="">Theme</span> <svg width="28" height="28" viewBox="0 0 28 28" class="icon label-icon" data-button="" data-round="" data-astro-cid-lmznfliq="" data-icon="theme/system-28">  <symbol id="ai:local:theme/system-28"><path fill="currentColor" d="M8 4h1v2H8zm0 9v2h1v-2zm6-3V9h-2v1zM3 9v1h2V9zm5.5 3a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5m4.2-6-.7-.7-1.4 1.4.7.7zM5 13.7l-.7-.7 1.4-1.4.7.7zm7.7-.7-.7.7-1.4-1.4.7-.7zM4.3 6l.7-.7 1.4 1.4-.7.7zm3 17 14-14 .8.7L8 23.7zm17.2-.1a3.5 3.5 0 0 1-3.4-5.9H21a4 4 0 1 0 3.5 5.9"></path></symbol><use xlink:href="#ai:local:theme/system-28"></use>  </svg> <select value="auto" data-button="" data-astro-cid-lmznfliq=""> <option value="dark" data-astro-cid-lmznfliq="">&nbsp;&nbsp;Dark&nbsp;&nbsp;</option><option value="light" data-astro-cid-lmznfliq="">&nbsp;&nbsp;Light&nbsp;&nbsp;</option><option value="auto" selected="true" data-astro-cid-lmznfliq="">&nbsp;&nbsp;Auto&nbsp;&nbsp;</option> </select>  </label>  </docs-theme-select>   <script data-astro-exec="">
	ThemeProvider.updatePickers('unknown');
</script>  </nav> </header>        <div id="image-lightbox" class="not-content" hidden="" data-astro-cid-kws7taxh=""> <div class="button-wrapper" data-astro-cid-kws7taxh=""> <div class="not-content" style="" data-astro-cid-pkzv2hgs=""> <button id="lightbox-close-button" title="Close image preview" data-astro-cid-pkzv2hgs="" class="not-content stvb-base stvb-pointer stvb-black stvb-medium stvb-secondary stvb-icon stvb-force-no-border">  <svg width="24" height="24" viewBox="0 0 18 18" data-astro-cid-kws7taxh="" data-icon="theme/cross-18">  <symbol id="ai:local:theme/cross-18"><g fill="none"><g clip-path="url(#a)"><path fill="currentColor" fill-rule="evenodd" d="M5.53 4.47 4.47 5.53 7.94 9l-3.47 3.47 1.06 1.06L9 10.06l3.47 3.47 1.06-1.06L10.06 9l3.47-3.47-1.06-1.06L9 7.94z" clip-rule="evenodd"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h18v18H0z"></path></clipPath></defs></g></symbol><use xlink:href="#ai:local:theme/cross-18"></use>  </svg>  </button> </div>  </div> <img id="lightbox-image" src="" data-astro-cid-kws7taxh=""> </div>   <div id="page-container" data-astro-cid-xgirumru=""> <aside id="nav" class="" style="" data-astro-cid-sa57sq6l=""> <div class="sidebar-viewport slick-scroll" data-astro-cid-sa57sq6l=""> <div class="sidebar" data-astro-cid-sa57sq6l=""> <ul class="toc" aria-label="Docs sidebar" data-astro-cid-sa57sq6l=""> <li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/welcome" data-astro-cid-omxx3dey="">Welcome to Pine Script® v6</a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Pine Script® primer</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <symbol id="ai:local:theme/right-caret"><path fill="currentColor" d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1 1 0 0 0 0-1.42"></path></symbol><use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-steps" data-astro-cid-omxx3dey="">First steps</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-indicator" data-astro-cid-omxx3dey="">First indicator</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/next-steps" data-astro-cid-omxx3dey="">Next steps</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Language</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/execution-model" data-astro-cid-omxx3dey="">Execution model</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/type-system" data-astro-cid-omxx3dey="">Type system</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/script-structure" data-astro-cid-omxx3dey="">Script structure</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/identifiers" data-astro-cid-omxx3dey="">Identifiers</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/variable-declarations" data-astro-cid-omxx3dey="">Variable declarations</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/operators" data-astro-cid-omxx3dey="">Operators</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/conditional-structures" data-astro-cid-omxx3dey="">Conditional structures</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/loops" data-astro-cid-omxx3dey="">Loops</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/built-ins" data-astro-cid-omxx3dey="">Built-ins</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/user-defined-functions" data-astro-cid-omxx3dey="">User-defined functions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/objects" data-astro-cid-omxx3dey="">Objects</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/enums" data-astro-cid-omxx3dey="">Enums</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/methods" data-astro-cid-omxx3dey="">Methods</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/arrays" data-astro-cid-omxx3dey="">Arrays</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/matrices" data-astro-cid-omxx3dey="">Matrices</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/maps" data-astro-cid-omxx3dey="">Maps</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Visuals</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/overview" data-astro-cid-omxx3dey="">Overview</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/backgrounds" data-astro-cid-omxx3dey="">Backgrounds</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/bar-coloring" data-astro-cid-omxx3dey="">Bar coloring</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/bar-plotting" data-astro-cid-omxx3dey="">Bar plotting</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/colors" data-astro-cid-omxx3dey="">Colors</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/fills" data-astro-cid-omxx3dey="">Fills</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/levels" data-astro-cid-omxx3dey="">Levels</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/lines-and-boxes" data-astro-cid-omxx3dey="">Lines and boxes</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/plots" data-astro-cid-omxx3dey="">Plots</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/tables" data-astro-cid-omxx3dey="">Tables</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/visuals/text-and-shapes" data-astro-cid-omxx3dey="">Text and shapes</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Concepts</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/alerts" data-astro-cid-omxx3dey="">Alerts</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-states" data-astro-cid-omxx3dey="">Bar states</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/chart-information" data-astro-cid-omxx3dey="">Chart information</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/inputs" data-astro-cid-omxx3dey="">Inputs</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/libraries" data-astro-cid-omxx3dey="">Libraries</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/non-standard-charts-data" data-astro-cid-omxx3dey="">Non-standard charts data</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/other-timeframes-and-data" data-astro-cid-omxx3dey="">Other timeframes and data</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/repainting" data-astro-cid-omxx3dey="">Repainting</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/sessions" data-astro-cid-omxx3dey="">Sessions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/strategies" data-astro-cid-omxx3dey="">Strategies</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/strings" data-astro-cid-omxx3dey="">Strings</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/time" data-astro-cid-omxx3dey="">Time</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/timeframes" data-astro-cid-omxx3dey="">Timeframes</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Writing scripts</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/style-guide" data-astro-cid-omxx3dey="">Style guide</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/debugging" data-astro-cid-omxx3dey="">Debugging</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/profiling-and-optimization" data-astro-cid-omxx3dey="">Profiling and optimization</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/publishing" data-astro-cid-omxx3dey="">Publishing scripts</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/limitations" data-astro-cid-omxx3dey="">Limitations</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">FAQ</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/general" data-astro-cid-omxx3dey="">General</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/alerts" data-astro-cid-omxx3dey="">Alerts</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/data-structures" data-astro-cid-omxx3dey="">Data structures</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/functions" data-astro-cid-omxx3dey="">Functions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/indicators" data-astro-cid-omxx3dey="">Indicators</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/other-data-and-timeframes" data-astro-cid-omxx3dey="">Other data and timeframes</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/programming" data-astro-cid-omxx3dey="">Programming</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/strategies" data-astro-cid-omxx3dey="">Strategies</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/strings-and-formatting" data-astro-cid-omxx3dey="">Strings and formatting</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/techniques" data-astro-cid-omxx3dey="">Techniques</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/times-dates-and-sessions" data-astro-cid-omxx3dey="">Times, dates, and sessions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/variables-and-operators" data-astro-cid-omxx3dey="">Variables and operators</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq/visuals" data-astro-cid-omxx3dey="">Visuals</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/error-messages" data-astro-cid-omxx3dey="">Error messages</a></li><li class="item" data-current="" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/release-notes" data-astro-cid-omxx3dey="">Release notes</a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Migration guides</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/overview" data-astro-cid-omxx3dey="">Overview</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-6" data-astro-cid-omxx3dey="">To Pine Script® version 6</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-5" data-astro-cid-omxx3dey="">To Pine Script® version 5</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-4" data-astro-cid-omxx3dey="">To Pine Script® version 4</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-3" data-astro-cid-omxx3dey="">To Pine Script® version 3</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-2" data-astro-cid-omxx3dey="">To Pine Script® version 2</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/where-can-i-get-more-information" data-astro-cid-omxx3dey="">Where can I get more information?</a></li> </ul> <div class="toc-bottom" data-astro-cid-sa57sq6l=""></div> </div> </div> </aside>  <main class="main-pane" data-page-type="md" data-astro-cid-xgirumru=""> <a id="top" data-astro-cid-xgirumru=""></a> <main class="content" data-toc-shown="" data-astro-cid-ju3wuhkz="">  <div class="content-width" data-astro-cid-xgirumru=""> <div class="breadcrumbs" data-pagefind-ignore="" data-astro-cid-wlavna2o=""> <a href="/pine-script-docs" aria-label="Return back to the documentation home page." data-astro-cid-wlavna2o=""> <span data-astro-cid-wlavna2o="">User Manual</span>  </a>  <span class="divider" data-astro-cid-wlavna2o="">/</span> <span class="current-item" data-astro-cid-wlavna2o="">Release notes</span> </div>     </div> <div id="slot-container" data-astro-cid-xgirumru=""> <h1 id="release-notes" class="md-heading"><a href="#release-notes">Release <span class="fancy-wrap">notes<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h1>
<p>This page contains release notes describing notable changes to the Pine Script® experience.</p>
<h2 id="2025" class="md-heading"><a href="#2025"> <span class="fancy-wrap">2025<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<h3 id="december-2025" class="md-heading"><a href="#december-2025">December <span class="fancy-wrap">2025<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<h4 id="updated-line-wrapping" class="md-heading"><a href="#updated-line-wrapping">Updated line <span class="fancy-wrap">wrapping<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Scripts now have improved line wrapping behavior. Previously, all multiline text representing a <em>single line</em> of code required indenting each line after the first by any number of spaces that was <em>not</em> a multiple of four, because Pine reserved four-space indentation for local code blocks.</p>
<p>We’ve removed the indentation restriction for all parts of an expression or statement enclosed in <em>parentheses</em>, including operations, function calls, and function parameter declarations. Scripts can now indent wrapped lines enclosed in parentheses by <em>zero or more</em> spaces, including multiples of four. For example:</p>
<div class="pine-colorizer not-content colorized" data-id="79t"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Before&nbsp;the&nbsp;update,&nbsp;wrapped&nbsp;lines&nbsp;in&nbsp;this&nbsp;code&nbsp;t</span><span class="mtk9">hat&nbsp;start&nbsp;at&nbsp;multiples&nbsp;of&nbsp;four&nbsp;spaces&nbsp;caused&nbsp;compi</span><span class="mtk9">lation&nbsp;errors.</span></span><br><span><span></span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk29">"Line&nbsp;wrapping&nbsp;between&nbsp;parentheses&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk9">//&nbsp;Indented&nbsp;by&nbsp;four&nbsp;spaces.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Indented&nbsp;by&nbsp;eight&nbsp;spaces.</span></span><br><span><span class="mtk13">)</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;No&nbsp;indentation.</span></span><br><span><span></span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">median</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0.5</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">ta.highest</span><span class="mtk13">(</span><span class="mtk12">20</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.lowest</span><span class="mtk13">(</span><span class="mtk12">20</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk9">//&nbsp;Indented&nbsp;by&nbsp;four&nbsp;spaces.</span></span><br><span><span class="mtk13">)</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;No&nbsp;indentation.</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span></span><br><span><span class="mtk33">median</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;No&nbsp;indentation.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"Median"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Indented&nbsp;by&nbsp;two&nbsp;spaces.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;</span><span class="mtk11">chart.fg_color</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Indented&nbsp;by&nbsp;three&nbsp;spaces.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk12">3</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Indented&nbsp;by&nbsp;four&nbsp;spaces.</span></span><br><span><span class="mtk13">)</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;No&nbsp;indentation.</span></span><br></code></div>
<p>However, if a line-wrapped expression is not enclosed in parentheses, all subsequent lines still require an indentation that is <em>not</em> a multiple of four spaces. For example:</p>
<div class="pine-colorizer not-content colorized" data-id="42u"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Invalid&nbsp;line&nbsp;wrap&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;The&nbsp;second&nbsp;line&nbsp;that&nbsp;starts&nbsp;with&nbsp;`*`&nbsp;in&nbsp;this&nbsp;wr</span><span class="mtk9">apped&nbsp;expression&nbsp;causes&nbsp;a&nbsp;compilation&nbsp;error.</span></span><br><span><span class="mtk9">//&nbsp;For&nbsp;the&nbsp;script&nbsp;to&nbsp;compile&nbsp;successfully,&nbsp;do&nbsp;any&nbsp;</span><span class="mtk9">of&nbsp;the&nbsp;following:</span></span><br><span><span class="mtk9">//&nbsp;-&nbsp;Move&nbsp;that&nbsp;part&nbsp;of&nbsp;the&nbsp;expression&nbsp;to&nbsp;line&nbsp;9.</span></span><br><span><span class="mtk9">//&nbsp;-&nbsp;Add&nbsp;another&nbsp;leading&nbsp;space&nbsp;to&nbsp;line&nbsp;10&nbsp;so&nbsp;that&nbsp;</span><span class="mtk9">it&nbsp;doesn't&nbsp;start&nbsp;after&nbsp;a&nbsp;multiple&nbsp;of&nbsp;four&nbsp;spaces.</span></span><br><span><span class="mtk9">//&nbsp;-&nbsp;Enclose&nbsp;the&nbsp;entire&nbsp;expression&nbsp;in&nbsp;another&nbsp;set&nbsp;</span><span class="mtk9">of&nbsp;parentheses.&nbsp;</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">median</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0.5</span><span class="mtk1">&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk1">&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">ta.highest</span><span class="mtk13">(</span><span class="mtk12">20</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.lowest</span><span class="mtk13">(</span><span class="mtk12">20</span><span class="mtk13">)</span></span><br><span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">median</span><span class="mtk13">)</span></span><br></code></div>
<h3 id="november-2025" class="md-heading"><a href="#november-2025">November <span class="fancy-wrap">2025<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>We’ve added a new variable, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_syminfo.isin">syminfo.isin</a>, which holds a string containing the 12-character International Securities Identification Number (ISIN) for the security represented by the symbol, or an empty string if no ISIN is available. An ISIN uniquely identifies a security <em>globally</em> and does not vary across exchanges, unlike ticker symbols. As such, programmers can use this variable to identify a symbol’s underlying stock or other instrument, regardless of the name listed by an exchange. For example:</p>
<div class="pine-colorizer not-content colorized" data-id="7c"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"ISIN&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Define&nbsp;inputs&nbsp;for&nbsp;two&nbsp;symbols&nbsp;to&nbsp;compare.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">symbol1Input</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.symbol</span><span class="mtk13">(</span><span class="mtk29">"NASDAQ:AAPL"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Symbol&nbsp;1"</span><span class="mtk13">)</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">symbol2Input</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.symbol</span><span class="mtk13">(</span><span class="mtk29">"GETTEX:APC"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"Symbol&nbsp;2"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk11">barstate.islastconfirmedhistory</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Retrieve&nbsp;ISIN&nbsp;strings&nbsp;for&nbsp;`symbol1Input`&nbsp;and&nbsp;`s</span><span class="mtk9">ymbol2Input`.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">isin1</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk33">symbol1Input</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">syminfo</span><span class="mtk1">.</span><span class="mtk33">isin</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">isin2</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk33">symbol2Input</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">syminfo</span><span class="mtk1">.</span><span class="mtk33">isin</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Log&nbsp;the&nbsp;retrieved&nbsp;ISIN&nbsp;codes.&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">log.info</span><span class="mtk13">(</span><span class="mtk29">"Symbol&nbsp;1&nbsp;ISIN:&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk33">isin1</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">log.info</span><span class="mtk13">(</span><span class="mtk29">"Symbol&nbsp;2&nbsp;ISIN:&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk33">isin2</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Log&nbsp;an&nbsp;error&nbsp;message&nbsp;if&nbsp;one&nbsp;of&nbsp;the&nbsp;symbols&nbsp;does</span><span class="mtk9">&nbsp;not&nbsp;have&nbsp;ISIN&nbsp;information.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">isin1</span><span class="mtk1">&nbsp;</span><span class="mtk18">==</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk1">&nbsp;</span><span class="mtk18">or</span><span class="mtk1">&nbsp;</span><span class="mtk33">isin2</span><span class="mtk1">&nbsp;</span><span class="mtk18">==</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">log.error</span><span class="mtk13">(</span><span class="mtk29">"ISIN&nbsp;information&nbsp;is&nbsp;not&nbsp;available&nbsp;for&nbsp;both&nbsp;symbol</span><span class="mtk29">s."</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;If&nbsp;both&nbsp;symbols&nbsp;do&nbsp;have&nbsp;ISIN&nbsp;information,&nbsp;log&nbsp;a</span><span class="mtk9">&nbsp;message&nbsp;to&nbsp;confirm&nbsp;whether&nbsp;both&nbsp;refer&nbsp;to&nbsp;the&nbsp;same</span><span class="mtk9">&nbsp;security.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">else</span><span class="mtk1">&nbsp;</span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">isin1</span><span class="mtk1">&nbsp;</span><span class="mtk18">==</span><span class="mtk1">&nbsp;</span><span class="mtk33">isin2</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">log.info</span><span class="mtk13">(</span><span class="mtk29">"Both&nbsp;symbols&nbsp;refer&nbsp;to&nbsp;the&nbsp;same&nbsp;security."</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">else</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">log.info</span><span class="mtk13">(</span><span class="mtk29">"The&nbsp;two&nbsp;symbols&nbsp;refer&nbsp;to&nbsp;different&nbsp;securities."</span><span class="mtk13">)</span></span><br></code></div>
<h3 id="october-2025" class="md-heading"><a href="#october-2025">October <span class="fancy-wrap">2025<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_time">time()</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_time_close">time_close()</a> functions feature a new parameter: <code dir="auto">timeframe_bars_back</code>. In contrast to the <code dir="auto">bars_back</code> parameter, which determines the bar offset on the script’s <em>main timeframe</em> for the timestamp calculation, <code dir="auto">timeframe_bars_back</code> determines the bar offset on the <em>separate timeframe</em> specified by the <code dir="auto">timeframe</code> argument. If the <code dir="auto">timeframe_bars_back</code> value is positive, the function calculates the timestamp of the <em>past</em> bar that is N bars <em>back</em> on the specified timeframe. If negative, it calculates the <em>expected</em> timestamp of the bar that is N bars <em>forward</em> on that timeframe.</p>
<p>If a call to <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_time">time()</a> or <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_time_close">time_close()</a> includes arguments for <em>both</em> the <code dir="auto">bars_back</code> and <code dir="auto">timeframe_bars_back</code> parameters, it determines the timestamp corresponding to the <code dir="auto">bars_back</code> offset <em>first</em>. Then, it applies the <code dir="auto">timeframe_bars_back</code> offset to that time to calculate the final timestamp. For example:</p>
<div class="pine-colorizer not-content colorized" data-id="4q2"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"`bars_back`&nbsp;and&nbsp;`timeframe_bars_back`&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;number&nbsp;of&nbsp;bars&nbsp;back&nbsp;on&nbsp;the&nbsp;script's&nbsp;main&nbsp;time</span><span class="mtk9">frame&nbsp;(chart&nbsp;timeframe).</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">barsBackInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">10</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Chart&nbsp;bar&nbsp;offset"</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;number&nbsp;of&nbsp;bars&nbsp;back&nbsp;on&nbsp;the&nbsp;"1M"&nbsp;timeframe.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">tfBarsBackInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">3</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"'1M'&nbsp;bar&nbsp;offset"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;opening&nbsp;UNIX&nbsp;timestamp&nbsp;of&nbsp;the&nbsp;current&nbsp;"1M"&nbsp;ba</span><span class="mtk9">r.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">monthTime</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">time</span><span class="mtk13">(</span><span class="mtk29">"1M"</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;opening&nbsp;time&nbsp;of&nbsp;the&nbsp;"1M"&nbsp;bar&nbsp;that&nbsp;contains&nbsp;th</span><span class="mtk9">e&nbsp;bar&nbsp;from&nbsp;`barsBackInput`&nbsp;bars&nbsp;back&nbsp;on&nbsp;the&nbsp;main&nbsp;t</span><span class="mtk9">imeframe.&nbsp;</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">offsetTime1</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">time</span><span class="mtk13">(</span><span class="mtk29">"1M"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">bars_back</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">barsBackInput</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;"1M"&nbsp;opening&nbsp;time&nbsp;that&nbsp;is&nbsp;`tfBarsBackInput`&nbsp;m</span><span class="mtk9">onthly&nbsp;bars&nbsp;back,&nbsp;relative&nbsp;to&nbsp;the&nbsp;"1M"&nbsp;bar&nbsp;that&nbsp;op</span><span class="mtk9">ens&nbsp;at&nbsp;`offsetTime1`.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;`time()`&nbsp;call&nbsp;first&nbsp;determines&nbsp;th</span><span class="mtk9">e&nbsp;"1M"&nbsp;bar&nbsp;time&nbsp;corresponding&nbsp;to&nbsp;`barsBackInput`&nbsp;b</span><span class="mtk9">ars&nbsp;back&nbsp;on&nbsp;the&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;main&nbsp;timeframe,&nbsp;just&nbsp;like&nbsp;the&nbsp;previous</span><span class="mtk9">&nbsp;call.&nbsp;Then,&nbsp;it&nbsp;calculates&nbsp;and&nbsp;returns&nbsp;the&nbsp;"1M"&nbsp;op</span><span class="mtk9">ening&nbsp;time&nbsp;that&nbsp;is&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`tfBarsBackInput`&nbsp;*monthly*&nbsp;bars&nbsp;back&nbsp;</span><span class="mtk9">relative&nbsp;to&nbsp;that&nbsp;time.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">offsetTime2</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">time</span><span class="mtk13">(</span><span class="mtk29">"1M"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">bars_back</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">barsBackInput</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe_bars_back</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tfBarsBackInput</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;values&nbsp;for&nbsp;visual&nbsp;comparison.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">monthTime</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"No&nbsp;offset"</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">offsetTime1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"`bars_back`"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.red</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">offsetTime2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"`bars_back`&nbsp;+&nbsp;`timeframe_bars_back`"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Log&nbsp;formatted&nbsp;timestamps&nbsp;in&nbsp;the&nbsp;Pine&nbsp;Logs&nbsp;pane.</span></span><br><span><span class="mtk16">log.info</span><span class="mtk13">(</span><span class="mtk29">"\n{0}\n{1}\n{2}"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.format_time</span><span class="mtk13">(</span><span class="mtk33">monthTime</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.format_time</span><span class="mtk13">(</span><span class="mtk33">offsetTime1</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.format_time</span><span class="mtk13">(</span><span class="mtk33">offsetTime2</span><span class="mtk13">))</span></span><br></code></div>
<h3 id="september-2025" class="md-heading"><a href="#september-2025">September <span class="fancy-wrap">2025<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_plot">plot()</a> function can now draw dotted and dashed lines via the new <code dir="auto">linestyle</code> parameter, which takes one of the following arguments: <a href="https://www.tradingview.com/pine-script-reference/v6/#const_plot.linestyle_solid">plot.linestyle_solid</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#const_plot.linestyle_dashed">plot.linestyle_dashed</a>, or <a href="https://www.tradingview.com/pine-script-reference/v6/#const_plot.linestyle_dotted">plot.linestyle_dotted</a>. The <code dir="auto">linestyle</code> parameter setting takes effect only for <code dir="auto">style</code> arguments that plot lines.</p>
<h3 id="august-2025" class="md-heading"><a href="#august-2025">August <span class="fancy-wrap">2025<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>We’ve updated the maximum length for <a href="/pine-script-docs/concepts/strings/">strings</a>. Previously, a “string” value could not exceed 4,096 characters. Now, strings can contain up to 40,960 encoded characters.</p>
<h4 id="pine-editor-changes" class="md-heading"><a href="#pine-editor-changes">Pine Editor <span class="fancy-wrap">changes<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>The Pine Editor is moving from the bottom panel to the <em>side panel</em>. This change will happen in phases over the following weeks.</p>
<p>By default, the new editor view overlays on the right side of the screen. For wider screens, a <em>split-view</em> mode is available, which automatically adjusts the chart’s width to keep it visible alongside the editor. With this new vertical orientation, users can easily edit code and view other tabs such as the Strategy Tester or Replay Trading at the same time.</p>
<p><img src="/pine-script-docs/_astro/ReleaseNotes-SplitView.Vgle1Hws_ZOOfqb.webp" alt="image" width="2678" height="1620" loading="lazy" decoding="async"></p>
<p>The vertical editor view includes a <em>word wrap</em> feature, which enables users to read or modify long lines of code without scrolling horizontally. Note that word wrapping is only a <em>visual</em> feature; it does <em>not</em> change the source code’s structure or line numbering. Users can activate or deactivate word wrapping with the <code dir="auto">Alt + Z</code>/<code dir="auto">Option + Z</code> hotkey.</p>
<h3 id="july-2025" class="md-heading"><a href="#july-2025">July <span class="fancy-wrap">2025<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>All <code dir="auto">input*()</code> functions feature a new parameter: <code dir="auto">active</code>. This parameter specifies whether users can change the value of the input in the “Settings/Inputs” tab. If <code dir="auto">true</code>, users can change the input’s value. If <code dir="auto">false</code>, the input is <em>grayed out</em>, and users <em>cannot</em> change the value. Programmers can use this parameter to define inputs whose states depend on the values of <em>other</em> inputs. For example:</p>
<div class="pine-colorizer not-content colorized" data-id="36"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Active&nbsp;input&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;length&nbsp;for&nbsp;the&nbsp;RSI&nbsp;calculation.&nbsp;</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">rsiLengthInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">14</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"RSI&nbsp;length"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">GRP1</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Smoothing"</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;If&nbsp;`true`,&nbsp;the&nbsp;script&nbsp;applies&nbsp;smoothing&nbsp;based&nbsp;on&nbsp;</span><span class="mtk9">the&nbsp;two&nbsp;inputs&nbsp;below.&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;`false`,&nbsp;it&nbsp;does&nbsp;not&nbsp;apply&nbsp;smoothin</span><span class="mtk9">g,&nbsp;and&nbsp;those&nbsp;inputs&nbsp;are&nbsp;grayed&nbsp;out.&nbsp;</span></span><br><span><span class="mtk18 mtkb">bool</span><span class="mtk1">&nbsp;</span><span class="mtk33">enableSmoothingInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.bool</span><span class="mtk13">(</span><span class="mtk11">false</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Enable"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">group</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">GRP1</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;length&nbsp;of&nbsp;the&nbsp;EMA&nbsp;for&nbsp;smoothing&nbsp;the&nbsp;RSI.&nbsp;</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">smoothLengthInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">9</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Length"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">inline</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"01"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">group</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">GRP1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">active</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">enableSmoothingInput</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;strength&nbsp;of&nbsp;the&nbsp;smoothing.&nbsp;If&nbsp;1,&nbsp;the&nbsp;result&nbsp;i</span><span class="mtk9">s&nbsp;the&nbsp;EMA&nbsp;of&nbsp;the&nbsp;RSI.&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;less&nbsp;than&nbsp;1,&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;mix&nbsp;be</span><span class="mtk9">tween&nbsp;the&nbsp;EMA&nbsp;and&nbsp;the&nbsp;original&nbsp;RSI.&nbsp;</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">mixInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.float</span><span class="mtk13">(</span><span class="mtk12">1.0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Mix"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0.01</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">inline</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"01"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">group</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">GRP1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">active</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">enableSmoothingInput</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;RSI&nbsp;of&nbsp;`close`.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">rsi</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rsi</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">rsiLengthInput</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;smoothed&nbsp;RSI.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">smoothed</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.ema</span><span class="mtk13">(</span><span class="mtk33">rsi</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">enableSmoothingInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk33">smoothLengthInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;mixture&nbsp;between&nbsp;`rsi`&nbsp;and&nbsp;`smoothed`,&nbsp;based&nbsp;o</span><span class="mtk9">n&nbsp;the&nbsp;inputs.&nbsp;</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">osc</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">enableSmoothingInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk12">1.0</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk33">mixInput</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">rsi</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk33">mixInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">smoothed</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk33">rsi</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Make&nbsp;horizontal&nbsp;lines,&nbsp;and&nbsp;fill&nbsp;the&nbsp;space&nbsp;betwe</span><span class="mtk9">en&nbsp;`obLine`&nbsp;and&nbsp;`osLine`.&nbsp;</span></span><br><span><span class="mtk33">obLine</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">hline</span><span class="mtk13">(</span><span class="mtk12">70</span><span class="mtk13">)</span></span><br><span><span class="mtk16">hline</span><span class="mtk13">(</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk33">osLine</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">hline</span><span class="mtk13">(</span><span class="mtk12">30</span><span class="mtk13">)</span></span><br><span><span class="mtk16">fill</span><span class="mtk13">(</span><span class="mtk33">obLine</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">osLine</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">90</span><span class="mtk13">))</span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`osc`&nbsp;series.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">osc</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Custom&nbsp;RSI"</span><span class="mtk13">)</span></span><br></code></div>
<p>We’ve added a new <code dir="auto">syminfo.*</code> variable:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v6/#var_syminfo.current_contract">syminfo.current_contract</a> — The ticker identifier of the underlying contract, if the current symbol is a continuous futures contract; <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> otherwise.</li>
</ul>
<h3 id="june-2025" class="md-heading"><a href="#june-2025">June <span class="fancy-wrap">2025<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Libraries can now export user-defined constant variables. Exported variables must be of the “int”, “float”, “bool”, “color”, or “string” type and include the <a href="https://www.tradingview.com/pine-script-reference/v6/#type_const">const</a> keyword in their declaration. For example:</p>
<div class="pine-colorizer not-content colorized" data-id="5ib"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6</span></span><br><span><span class="mtk16">library</span><span class="mtk13">(</span><span class="mtk29">"MyConstants"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk18">export</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">const</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">SILVER_RATIO</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1.0</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.sqrt</span><span class="mtk13">(</span><span class="mtk12">2</span><span class="mtk13">)</span></span><br></code></div>
<h3 id="may-2025" class="md-heading"><a href="#may-2025">May <span class="fancy-wrap">2025<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>The <a href="https://www.tradingview.com/pine-script-reference/v6/#var_time_close">time_close</a> variable and the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_time_close">time_close()</a> function have improved behavior on <a href="https://www.tradingview.com/support/solutions/43000709225/">tick charts</a> and price-based charts (<a href="https://www.tradingview.com/support/solutions/43000502284/">Renko</a>, <a href="https://www.tradingview.com/support/solutions/43000502273/">line break</a>, <a href="https://www.tradingview.com/support/solutions/43000502272/">Kagi</a>, <a href="https://www.tradingview.com/support/solutions/43000502276/">point &amp; figure</a>, and <a href="https://www.tradingview.com/support/solutions/43000474007/">range</a>). On chart types that are not time-based, the closing time of the open realtime bar is knowable only <strong>after</strong> the bar closes. Therefore, the value of <a href="https://www.tradingview.com/pine-script-reference/v6/#var_time_close">time_close</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_time_close">time_close()</a> is always <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> for that bar.</p>
<p>Previously, it was impossible to use expressions such as <code dir="auto">time_close[1]</code> or <code dir="auto">time_close("", 1)</code> to retrieve the closing timestamp of an <em>elapsed realtime</em> bar on these chart types. These expressions always returned <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> when they referenced a realtime bar, because the bar’s timestamp was <em>not saved</em> after the closing tick.</p>
<p>With this new update, the closing timestamp of a realtime bar on tick charts or price-based charts is always available immediately after the bar closes. Now, scripts can use <a href="https://www.tradingview.com/pine-script-reference/v6/#var_time_close">time_close</a> with the <code dir="auto">[]</code> <a href="/pine-script-docs/language/operators/#-history-referencing-operator">history-referencing operator</a> or call <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_time_close">time_close()</a> with a positive <code dir="auto">bars_back</code> argument to retrieve the closing times of elapsed realtime bars on <em>any</em> chart type. For example:</p>
<div class="pine-colorizer not-content colorized" data-id="1tc"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">6&nbsp;</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Previous&nbsp;closing&nbsp;time"</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`time_close[1]`&nbsp;value,&nbsp;representing&nbsp;th</span><span class="mtk9">e&nbsp;UNIX&nbsp;timestamp&nbsp;of&nbsp;the&nbsp;past&nbsp;bar's&nbsp;closing&nbsp;time.&nbsp;</span></span><br><span><span class="mtk9">//&nbsp;This&nbsp;plot&nbsp;used&nbsp;to&nbsp;show&nbsp;`na`&nbsp;on&nbsp;all&nbsp;realtime&nbsp;bar</span><span class="mtk9">s&nbsp;of&nbsp;tick&nbsp;charts&nbsp;and&nbsp;price-based&nbsp;charts.&nbsp;</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk11">time_close</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">]</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Previous&nbsp;bar's&nbsp;closing&nbsp;timestamp"</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span></span><br></code></div>
<h3 id="april-2025" class="md-heading"><a href="#april-2025">April <span class="fancy-wrap">2025<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>The <code dir="auto">style</code> parameter of the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_ticker.renko">ticker.renko()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_ticker.pointfigure">ticker.pointfigure()</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_ticker.kagi">ticker.kagi()</a> functions accepts a new argument for box sizing: <code dir="auto">"PercentageLTP"</code>. When a call to these functions uses this <code dir="auto">style</code> argument, the returned ticker ID refers to a non-standard chart dataset with box sizes based on a user-defined percentage of the last trading price.</p>
<h3 id="march-2025" class="md-heading"><a href="#march-2025">March <span class="fancy-wrap">2025<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>We’ve added a setter function for boxes: <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_box.set_xloc">box.set_xloc()</a>. It is similar to the <code dir="auto">*.set_xloc()</code> functions for lines and labels. The function sets the left and right coordinates of the box borders, and defines whether their values represent bar indices or UNIX timestamps.</p>
<h4 id="for-loop-updates" class="md-heading"><a href="#for-loop-updates">For loop <span class="fancy-wrap">updates<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>The <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_for">for</a> loop structure has updated boundary-checking behavior. Previously, any <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_for">for</a> statement established the loop counter’s end boundary (<code dir="auto">to_num</code>) <em>before</em> starting the first iteration, and the final possible counter value <em>could not change</em> during the loop’s execution. Changing the result of an expression used as a <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_for">for</a> loop’s <code dir="auto">to_num</code> argument inside the local scope <em>did not</em> affect the loop’s iteration range.</p>
<p>Now, a <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_for">for</a> loop evaluates the <code dir="auto">to_num</code> boundary <em>dynamically</em>, before <em>every iteration</em>. With this update, the loop statement can modify its stopping condition after any change to the <code dir="auto">to_num</code> argument’s result across iterations.</p>
<p>To learn more about this new behavior, refer to the <a href="/pine-script-docs/language/loops/#for-loops">`for` loops</a> section of the <a href="/pine-script-docs/language/loops/">Loops</a> page and the <a href="/pine-script-docs/migration-guides/to-pine-version-6/#dynamic-for-loop-boundaries">Dynamic `for` loop boundaries</a> section of the <a href="/pine-script-docs/migration-guides/to-pine-version-6/">v6 migration guide</a>.</p>
<h3 id="february-2025" class="md-heading"><a href="#february-2025">February <span class="fancy-wrap">2025<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>We’ve removed the scope count limit. Previously, any script’s total number of scopes, including the global scope and all local scopes from <a href="/pine-script-docs/language/user-defined-functions/">user-defined functions</a> and <a href="/pine-script-docs/language/methods/#user-defined-methods">methods</a>, <a href="/pine-script-docs/language/loops/">loops</a>, <a href="/pine-script-docs/language/conditional-structures/">conditional structures</a>, <a href="/pine-script-docs/language/type-system/#user-defined-types">user-defined types</a>, and <a href="/pine-script-docs/language/enums/">enums</a>, was limited to 550. Now, scripts can contain an indefinite number of local scopes from these structures.</p>
<p>We’ve introduced two new built-in variables, <code dir="auto">bid</code> and <code dir="auto">ask</code>, providing access to real-time market prices:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v6/#var_bid">bid</a> - represents the highest price an active buyer is willing to pay for the instrument at its current value.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v6/#var_ask">ask</a> - represents the lowest price an active seller will accept for the instrument at its current value.</li>
</ul>
<p>These variables are only available on the <code dir="auto">"1T"</code> timeframe. On other timeframes, their values are <code dir="auto">na</code>.</p>
<h2 id="2024" class="md-heading"><a href="#2024"> <span class="fancy-wrap">2024<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<h3 id="december-2024" class="md-heading"><a href="#december-2024">December <span class="fancy-wrap">2024<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_strategy.exit">strategy.exit()</a> function has updated calculation behaviors. Previously, calls to this command with arguments for the absolute and relative parameters defining a price level for the same exit order always prioritized the <em>absolute</em> parameter and <em>ignored</em> the relative one. For example, a call with specified <code dir="auto">limit</code> and <code dir="auto">profit</code> values always ignored the <code dir="auto">profit</code> value. Now, the command evaluates <em>both</em> related parameters and uses the level that the market price is expected to <em>activate first</em>. See <a href="/pine-script-docs/migration-guides/to-pine-version-6/#strategyexit-evaluates-parameter-pairs">this section</a> of the <a href="/pine-script-docs/migration-guides/to-pine-version-6/">v6 migration guide</a> for more information.</p>
<h3 id="november-2024" class="md-heading"><a href="#november-2024">November <span class="fancy-wrap">2024<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<h4 id="introducing-pine-script-v6" class="md-heading"><a href="#introducing-pine-script-v6">Introducing Pine Script <span class="fancy-wrap">v6<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Pine Script has graduated to v6! Starting today, future Pine updates will apply exclusively to this version. Therefore, we recommend converting existing v5 scripts to access new features as we roll them out. See our <a href="/pine-script-docs/migration-guides/to-pine-version-6/">migration guide</a> to understand the changes to existing Pine behaviors and learn how to convert scripts to v6.</p>
<p>Several new features and behaviors come with this version’s release:</p>
<ul>
<li>Scripts can now call <code dir="auto">request.*()</code> functions with <em>“series string”</em> arguments for the parameters that define the requested context, meaning a single <code dir="auto">request.*()</code> call can change its requested data feed on <em>any</em> historical bar. Additionally, it is now possible to call <code dir="auto">request.*()</code> functions inside the local scopes of <a href="/pine-script-docs/language/loops/">loops</a>, <a href="/pine-script-docs/language/conditional-structures/">conditional structures</a>, and exported <a href="/pine-script-docs/concepts/libraries/">library</a> functions. See the <a href="/pine-script-docs/concepts/other-timeframes-and-data/#dynamic-requests">Dynamic requests</a> section of the <a href="/concepts/other-timeframes-and-data/">Other timeframes and data</a> page to learn more.</li>
<li>Values of the “bool” type are now strictly <code dir="auto">true</code> or <code dir="auto">false</code>. They are never <a href="https://www.tradingview.com/pine-script-reference/v6/#var_na">na</a> in v6. Additionally, the <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_or">or</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_and">and</a> operators now feature <em>short-circuit (“lazy”)</em> evaluation. If the first expression of an <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_or">or</a> operation is <code dir="auto">true</code>, or the first expression of an <a href="https://www.tradingview.com/pine-script-reference/v6/#kw_and">and</a> operation is <code dir="auto">false</code>, the script does <strong>not</strong> evaluate the second expression because it is not necessary to determine the result. These improvements help boost the runtime efficiency of scripts that rely on “bool” values and conditional expressions.</li>
<li>The <code dir="auto">size</code> property of <a href="/pine-script-docs/visuals/text-and-shapes/#labels">labels</a> and the <code dir="auto">text_size</code> property of <a href="/pine-script-docs/visuals/lines-and-boxes/#boxes">boxes</a> and <a href="/pine-script-docs/visuals/tables/">tables</a> now support “int” values in addition to the <code dir="auto">size.*</code> constants. These “int” values represent sizes in <em>typographic points</em>, offering a more granular and wide range of text size possibilities.</li>
<li>The new <code dir="auto">text_formatting</code> parameter of the <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_label.new">label.new()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_box.new">box.new()</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_table.cell">table.cell()</a> functions determines whether the object’s displayed text is <strong>bold</strong>, <em>italicized</em>, or <em><strong>both</strong></em>. It accepts one of these three new <code dir="auto">text.*</code> constants: <a href="https://www.tradingview.com/pine-script-reference/v6/#const_text.format_bold">text.format_bold</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#const_text.format_italic">text.format_italic</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#const_text.format_none">text.format_none</a>. To modify a drawing object’s <code dir="auto">text_formatting</code> property, use the corresponding <code dir="auto">*set_text_formatting()</code> functions.</li>
<li><a href="/pine-script-docs/concepts/strategies/">Strategies</a> no longer stop calculating and raise an error when they reach the 9000 trade limit while not using Deep Backtesting mode. Instead, they <em>trim</em> the oldest orders to make space for new ones. The trimmed orders are <em>not</em> visible in the <a href="/pine-script-docs/concepts/strategies/#strategy-tester">Strategy Tester</a>, but that does not change the strategy’s simulation. To retrieve the trade index of the earliest <em>non-trimmed</em> order, use the <a href="https://www.tradingview.com/pine-script-reference/v6/#var_strategy.closedtrades.first_index">strategy.closedtrades.first_index</a> variable.</li>
<li>The <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_array.get">array.get()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_array.set">array.set()</a>, <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_array.insert">array.insert()</a>, and <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_array.remove">array.remove()</a> functions now support <em>negative</em> <code dir="auto">index</code> arguments to reference elements starting from the <em>end</em> of an <a href="/pine-script-docs/language/arrays/#arrays">array</a>. For instance, the call <code dir="auto">array.get(myArray, -2)</code> retrieves the second to last element in <code dir="auto">myArray</code>, which is equivalent to <code dir="auto">array.get(myArray, array.size(myArray) - 2)</code>.</li>
<li>The new <a href="https://www.tradingview.com/pine-script-reference/v6/#var_syminfo.mincontract">syminfo.mincontract</a> variable holds a value representing the smallest number of contracts/shares/lots/units required to trade the current symbol, as set by the exchange.</li>
<li>Two new variables, <a href="https://www.tradingview.com/pine-script-reference/v6/#var_syminfo.main_tickerid">syminfo.main_tickerid</a> and <a href="https://www.tradingview.com/pine-script-reference/v6/#var_timeframe.main_period">timeframe.main_period</a>, reference the ticker ID and timeframe from the script’s <em>main context</em>, even if the script uses them in the <code dir="auto">expression</code> argument of a <code dir="auto">request.*()</code> call. Here, “main context” refers to the current chart’s symbol and timeframe, unless the script is an <a href="https://www.tradingview.com/pine-script-reference/v6/#fun_indicator">indicator()</a> that includes <code dir="auto">symbol</code> or <code dir="auto">timeframe</code> arguments in its declaration statement.</li>
</ul>
<h3 id="october-2024" class="md-heading"><a href="#october-2024">October <span class="fancy-wrap">2024<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>We’ve added an optional <code dir="auto">behind_chart</code> parameter to the <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator">indicator()</a> and <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy">strategy()</a> functions. This parameter specifies where plots and drawings appear relative to the main chart display when the <code dir="auto">overlay</code> parameter is <code dir="auto">true</code>. If <code dir="auto">behind_chart</code> is <code dir="auto">true</code>, the script’s visuals appear behind the chart display. If <code dir="auto">false</code>, they appear in front of the chart display. The default is <code dir="auto">true</code>.</p>
<h3 id="august-2024" class="md-heading"><a href="#august-2024">August <span class="fancy-wrap">2024<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>The <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.new">ticker.new()</a> and <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.modify">ticker.modify()</a> functions feature two new parameters: <code dir="auto">settlement_as_close</code> and <code dir="auto">backadjustment</code>. Users can specify whether these parameters are on, off, or set to inherit the symbol’s default settings. These settings only affect the data from futures symbols with these options available on their charts. They have no effect on other symbols.</p>
<ul>
<li>
<p>The <code dir="auto">backadjustment</code> parameter specifies whether past contract data on continuous futures symbols is back-adjusted. Its possible values are: <a href="https://www.tradingview.com/pine-script-reference/v5/#const_backadjustment.on">backadjustment.on</a>, <a href="https://www.tradingview.com/pine-script-reference/v5/#const_backadjustment.off">backadjustment.off</a>, or <a href="https://www.tradingview.com/pine-script-reference/v5/#const_backadjustment.inherit">backadjustment.inherit</a>.</p>
</li>
<li>
<p>The <code dir="auto">settlement_as_close</code> parameter specifies whether a futures symbol’s <a href="https://www.tradingview.com/pine-script-reference/v5/#var_close">close</a> value represents the actual closing price or the settlement price on “1D” and higher timeframes. Its possible values are: <a href="https://www.tradingview.com/pine-script-reference/v5/#const_settlement_as_close.on">settlement_as_close.on</a>, <a href="https://www.tradingview.com/pine-script-reference/v5/#const_settlement_as_close.off">settlement_as_close.off</a>, or <a href="https://www.tradingview.com/pine-script-reference/v5/#const_settlement_as_close.inherit">settlement_as_close.inherit</a>.</p>
</li>
</ul>
<p>The Sharpe and Sortino ratios in the Strategy Tester module have updated calculations. Previously, the ratios used strategy returns over monthly periods if the trading range was three or more months and daily periods if the range was three or more days but less than three months. Both ratios now always use monthly periods for consistency.</p>
<h3 id="june-2024" class="md-heading"><a href="#june-2024">June <span class="fancy-wrap">2024<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>We’ve added a new parameter to the <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.new">box.new()</a>, <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label.new">label.new()</a>, <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_line.new">line.new()</a>, <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_polyline.new">polyline.new()</a>, and <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_table.new">table.new()</a> functions:</p>
<ul>
<li><code dir="auto">force_overlay</code> - If true, the drawing will display on the main chart pane, even when the script occupies a separate pane. Optional. The default is false.</li>
</ul>
<h4 id="pine-script-enums" class="md-heading"><a href="#pine-script-enums">Pine Script <span class="fancy-wrap">Enums<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Enums, also known as <em>enumerations</em>, <em>enumerated types</em>, or <a href="/pine-script-docs/language/type-system/#enum-types">enum types</a>, are unique data types with all possible values declared by the programmer. They can help programmers maintain more strict control over the values allowed by variables, conditional expressions, and <a href="/pine-script-docs/language/type-system/#collections">collections</a>, and they enable convenient dropdown input creation with the new <a href="/pine-script-docs/concepts/inputs/#enum-input">input.enum()</a> function. See our User Manual’s <a href="/pine-script-docs/language/enums/">Enums</a> page to learn more about these new types and how to use them.</p>
<h3 id="may-2024" class="md-heading"><a href="#may-2024">May <span class="fancy-wrap">2024<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>We’ve added an optional <code dir="auto">calc_bars_count</code> parameter to the <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator">indicator()</a>, <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy">strategy()</a>, <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security">request.security()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf">request.security_lower_tf()</a>, and <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.seed">request.seed()</a> functions that allows users to limit the number of recent historical bars a script or data request can execute across. When a script’s <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator">indicator()</a> or <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy">strategy()</a> declaration statement includes a <code dir="auto">calc_bars_count</code> argument, its “Settings/Inputs” tab will include a “Calculated bars” input in the “Calculation” section. The default value in all these functions is 0, which signifies that the script or request executes across all the available data.</p>
<p>The <code dir="auto">strategy.*</code> namespace features several new built-in variables:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.avg_trade">strategy.avg_trade</a> -
Returns the average amount of money gained or lost per trade.
Calculated as the sum of all profits and losses divided by the
number of closed trades.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.avg_trade_percent">strategy.avg_trade_percent</a> -
Returns the average percentage gain or loss per trade. Calculated as
the sum of all profit and loss percentages divided by the number of
closed trades.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.avg_winning_trade">strategy.avg_winning_trade</a> -
Returns the average amount of money gained per winning trade.
Calculated as the sum of profits divided by the number of winning
trades.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.avg_winning_trade_percent">strategy.avg_winning_trade_percent</a> -
Returns the average percentage gain per winning trade. Calculated as
the sum of profit percentages divided by the number of winning
trades.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.avg_losing_trade">strategy.avg_losing_trade</a> -
Returns the average amount of money lost per losing trade.
Calculated as the sum of losses divided by the number of losing
trades.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.avg_losing_trade_percent">strategy.avg_losing_trade_percent</a> -
Returns the average percentage loss per losing trade. Calculated as
the sum of loss percentages divided by the number of losing trades.</li>
</ul>
<h4 id="pine-profiler" class="md-heading"><a href="#pine-profiler">Pine <span class="fancy-wrap">Profiler<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Our new
<a href="/pine-script-docs/writing/profiling-and-optimization/#pine-profiler">Pine Profiler</a> is a powerful utility that analyzes the executions of all
significant code in a script and displays helpful performance
information next to the code lines <em>inside</em> the Pine Editor. The
<a href="/pine-script-docs/writing/profiling-and-optimization/#pine-profiler">Profiler</a>’s information provides insight into a script’s runtime,
the distribution of runtime across significant code regions, and the
number of times each code region executes. With these insights,
programmers can effectively pinpoint performance <em>bottlenecks</em> and
ensure they focus on
<a href="/pine-script-docs/writing/profiling-and-optimization/#optimization">optimizing</a> their code where it truly matters when they need to improve
execution times.</p>
<p>See the new
<a href="/pine-script-docs/writing/profiling-and-optimization/">Profiling and optimization</a> page to learn more about the Profiler, how it works, and how
to use it to analyze a script’s performance and identify optimization
opportunities.</p>
<h4 id="pine-editor-improvements" class="md-heading"><a href="#pine-editor-improvements">Pine Editor <span class="fancy-wrap">improvements<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>When opening the detached Pine Editor from a tab with a chart, it now
links directly to that tab, as indicated by the “Linked” status and
green icon in the bottom-right corner. While linked, the “Add to
chart”, “Update on chart”, and “Apply to entire layout” buttons
affect the charts on the main tab.</p>
<p>The detached Pine Editor now includes the Pine console.</p>
<h3 id="april-2024" class="md-heading"><a href="#april-2024">April <span class="fancy-wrap">2024<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>We’ve added a new parameter to the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar">plotchar()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotcandle">plotcandle()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotbar">plotbar()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotarrow">plotarrow()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape">plotshape()</a>,
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_bgcolor">bgcolor()</a>
functions:</p>
<ul>
<li><code dir="auto">force_overlay</code> - If true, the output will display on the main chart
pane, even when the script occupies a separate pane.</li>
</ul>
<h3 id="march-2024" class="md-heading"><a href="#march-2024">March <span class="fancy-wrap">2024<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>The <code dir="auto">syminfo.*</code> namespace features a new built-in variable:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.expiration_date">syminfo.expiration_date</a> -
On non-continuous futures symbols, returns a UNIX timestamp
representing the start of the last day of the current contract.</li>
</ul>
<p>The
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_time">time()</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_time_close">time_close()</a>
functions have a new parameter:</p>
<ul>
<li><code dir="auto">bars_back</code> - If specified, the function will calculate the
timestamp from the bar N bars back relative to the current bar on
its timeframe. It can also calculate the expected time of a future
bar up to 500 bars away if the argument is a negative value.
Optional. The default is 0.</li>
</ul>
<h3 id="february-2024" class="md-heading"><a href="#february-2024">February <span class="fancy-wrap">2024<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>We’ve added two new functions for working with strings:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.repeat">str.repeat()</a> -
Constructs a new string containing the source string repeated a
specified number of times with a separator injected between each
repeated instance.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.trim">str.trim()</a> -
Constructs a new string with all consecutive whitespaces and other
control characters removed from the left and right of the source
string.</li>
</ul>
<p>The
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial">request.financial()</a>
function now accepts “D” as a <code dir="auto">period</code> argument, allowing scripts to
request available daily financial data.</p>
<p>For example:</p>
<div class="pine-colorizer not-content colorized" data-id="7am"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Daily&nbsp;financial&nbsp;data&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;daily&nbsp;Premium/Discount&nbsp;to&nbsp;Net&nbsp;Asset&nbsp;Value&nbsp;for</span><span class="mtk9">&nbsp;"AMEX:SPY"</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">f1</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.financial</span><span class="mtk13">(</span><span class="mtk29">"AMEX:SPY"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"NAV"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"D"</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">f1</span><span class="mtk13">)</span></span><br></code></div>
<p>The <code dir="auto">strategy.*</code> namespace features a new variable for monitoring
available capital in a strategy’s simulation:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.opentrades.capital_held">strategy.opentrades.capital_held</a> -
Returns the capital amount currently held by open trades.</li>
</ul>
<h3 id="january-2024" class="md-heading"><a href="#january-2024">January <span class="fancy-wrap">2024<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>The <code dir="auto">syminfo.*</code> namespace features new built-in variables:</p>
<p>Syminfo:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.employees">syminfo.employees</a> -
The number of employees the company has.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.shareholders">syminfo.shareholders</a> -
The number of shareholders the company has.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.shares_outstanding_float">syminfo.shares_outstanding_float</a> -
The total number of shares outstanding a company has available,
excluding any of its restricted shares.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.shares_outstanding_total">syminfo.shares_outstanding_total</a> -
The total number of shares outstanding a company has available,
including restricted shares held by insiders, major shareholders,
and employees.</li>
</ul>
<p>Target price:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.target_price_average">syminfo.target_price_average</a> -
The average of the last yearly price targets for the symbol
predicted by analysts.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.target_price_date">syminfo.target_price_date</a> -
The starting date of the last price target prediction for the
current symbol.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.target_price_estimates">syminfo.target_price_estimates</a> -
The latest total number of price target predictions for the current
symbol.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.target_price_high">syminfo.target_price_high</a> -
The last highest yearly price target for the symbol predicted by
analysts.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.target_price_low">syminfo.target_price_low</a> -
The last lowest yearly price target for the symbol predicted by
analysts.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.target_price_median">syminfo.target_price_median</a> -
The median of the last yearly price targets for the symbol predicted
by analysts.</li>
</ul>
<p>Recommendations:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.recommendations_buy">syminfo.recommendations_buy</a> -
The number of analysts who gave the current symbol a “Buy” rating.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.recommendations_buy_strong">syminfo.recommendations_buy_strong</a> -
The number of analysts who gave the current symbol a “Strong Buy”
rating.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.recommendations_date">syminfo.recommendations_date</a> -
The starting date of the last set of recommendations for the current
symbol.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.recommendations_hold">syminfo.recommendations_hold</a> -
The number of analysts who gave the current symbol a “Hold”
rating.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.recommendations_total">syminfo.recommendations_total</a> -
The total number of recommendations for the current symbol.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.recommendations_sell">syminfo.recommendations_sell</a> -
The number of analysts who gave the current symbol a “Sell”
rating.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.recommendations_sell_strong">syminfo.recommendations_sell_strong</a> -
The number of analysts who gave the current symbol a “Strong Sell”
rating.</li>
</ul>
<h2 id="2023" class="md-heading"><a href="#2023"> <span class="fancy-wrap">2023<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<h3 id="december-2023" class="md-heading"><a href="#december-2023">December <span class="fancy-wrap">2023<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>We’ve added <code dir="auto">format</code> and <code dir="auto">precision</code> parameters to all <code dir="auto">plot*()</code>
functions, allowing indicators and strategies to selectively apply
formatting and decimal precision settings to plotted results in the
chart pane’s y-axis, the script’s status line, and the Data Window.
The arguments passed to these parameters supersede the values in the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator">indicator()</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy">strategy()</a>
functions. Both are optional. The defaults for these parameters are the
same as the values specified in the script’s declaration statement.</p>
<p>For example:</p>
<div class="pine-colorizer not-content colorized" data-id="65z"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"My&nbsp;script"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">format</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">format.percent</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">precision</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">4</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">format</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">format.price</span><span class="mtk13">)</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Price&nbsp;format&nbsp;with&nbsp;4-digit&nbsp;precision.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk12">100</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk11">bar_index</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">precision</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk9">//&nbsp;Percent&nbsp;format&nbsp;with&nbsp;2-digit&nbsp;precision.&nbsp;</span></span><br></code></div>
<h3 id="november-2023" class="md-heading"><a href="#november-2023">November <span class="fancy-wrap">2023<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>We’ve added the following variables and functions to the <code dir="auto">strategy.*</code>
namespace:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.grossloss_percent">strategy.grossloss_percent</a> -
The total gross loss value of all completed losing trades, expressed
as a percentage of the initial capital.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.grossprofit_percent">strategy.grossprofit_percent</a> -
The total gross profit value of all completed winning trades,
expressed as a percentage of the initial capital.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.max_runup_percent">strategy.max_runup_percent</a> -
The maximum rise from a trough in the equity curve, expressed as a
percentage of the trough value.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.max_drawdown_percent">strategy.max_drawdown_percent</a> -
The maximum drop from a peak in the equity curve, expressed as a
percentage of the peak value.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.netprofit_percent">strategy.netprofit_percent</a> -
The total value of all completed trades, expressed as a percentage
of the initial capital.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.openprofit_percent">strategy.openprofit_percent</a> -
The current unrealized profit or loss for all open positions,
expressed as a percentage of realized equity.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.max_drawdown_percent">strategy.closedtrades.max_drawdown_percent()</a> -
Returns the maximum drawdown of the closed trade, i.e., the maximum
possible loss during the trade, expressed as a percentage.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.max_runup_percent">strategy.closedtrades.max_runup_percent()</a> -
Returns the maximum run-up of the closed trade, i.e., the maximum
possible profit during the trade, expressed as a percentage.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.profit_percent">strategy.closedtrades.profit_percent()</a> -
Returns the profit/loss value of the closed trade, expressed as a
percentage. Losses are expressed as negative values.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.opentrades.max_drawdown_percent">strategy.opentrades.max_drawdown_percent()</a> -
Returns the maximum drawdown of the open trade, i.e., the maximum
possible loss during the trade, expressed as a percentage.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.opentrades.max_runup_percent">strategy.opentrades.max_runup_percent()</a> -
Returns the maximum run-up of the open trade, i.e., the maximum
possible profit during the trade, expressed as a percentage.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.opentrades.profit_percent">strategy.opentrades.profit_percent()</a> -
Returns the profit/loss of the open trade, expressed as a
percentage. Losses are expressed as negative values.</li>
</ul>
<h3 id="october-2023" class="md-heading"><a href="#october-2023">October <span class="fancy-wrap">2023<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<h4 id="pine-script-polylines" class="md-heading"><a href="#pine-script-polylines">Pine Script <span class="fancy-wrap">Polylines<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Polylines are drawings that sequentially connect the coordinates from an
<a href="https://www.tradingview.com/pine-script-reference/v5/#type_array">array</a>
of up to 10,000
<a href="/pine-script-docs/language/type-system/#chart-points">chart points</a> using straight or <em>curved</em> line segments, allowing scripts
to draw custom formations that are difficult or impossible to achieve
using
<a href="https://www.tradingview.com/pine-script-reference/v5/#type_line">line</a>
or <a href="https://www.tradingview.com/pine-script-reference/v5/#type_box">box</a>
objects. To learn more about this new drawing type, see the
<a href="/pine-script-docs/visuals/lines-and-boxes/#polylines">Polylines</a>
section of our User Manual’s page on
<a href="/pine-script-docs/visuals/lines-and-boxes/">Lines and boxes</a>.</p>
<h3 id="september-2023" class="md-heading"><a href="#september-2023">September <span class="fancy-wrap">2023<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New functions were added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.default_entry_qty">strategy.default_entry_qty()</a> -
Calculates the default quantity, in units, of an entry order from
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.entry">strategy.entry()</a>
or
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.order">strategy.order()</a>
if it were to fill at the specified <code dir="auto">fill_price</code> value.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_chart.point.new">chart.point.new()</a> -
Creates a new
<a href="https://www.tradingview.com/pine-script-reference/v5/#type_chart.point">chart.point</a>
object with the specified <code dir="auto">time</code>, <code dir="auto">index</code>, and <code dir="auto">price</code>.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.seed">request.seed()</a> -
Requests data from a user-maintained GitHub repository and returns
it as a series. An in-depth tutorial on how to add new data can be
found <a href="https://github.com/tradingview-pine-seeds/docs" rel="nofollow">here</a>.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.inherit">ticker.inherit()</a> -
Constructs a ticker ID for the specified <code dir="auto">symbol</code> with additional
parameters inherited from the ticker ID passed into the function
call, allowing the script to request a symbol’s data using the same
modifiers that the <code dir="auto">from_tickerid</code> has, including extended session,
dividend adjustment, currency conversion, non-standard chart types,
back-adjustment, settlement-as-close, etc.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timeframe.from_seconds">timeframe.from_seconds()</a> -
Converts a specified number of <code dir="auto">seconds</code> into a valid timeframe
string based on our <a href="/pine-script-docs/concepts/timeframes/#timeframe-string-specifications">timeframe specification
format</a>.</li>
</ul>
<p>The <code dir="auto">dividends.*</code> namespace now includes variables for retrieving future
dividend information:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_dividends.future_amount">dividends.future_amount</a> -
Returns the payment amount of the upcoming dividend in the currency
of the current instrument, or <code dir="auto">na</code> if this data isn’t available.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_dividends.future_ex_date">dividends.future_ex_date</a> -
Returns the Ex-dividend date (Ex-date) of the current instrument’s
next dividend payment, or <code dir="auto">na</code> if this data isn’t available.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_dividends.future_pay_date">dividends.future_pay_date</a> -
Returns the Payment date (Pay date) of the current instrument’s
next dividend payment, or <code dir="auto">na</code> if this data isn’t available.</li>
</ul>
<p>The
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf">request.security_lower_tf()</a>
function has a new parameter:</p>
<ul>
<li><code dir="auto">ignore_invalid_timeframe</code> - Determines how the function behaves
when the chart’s timeframe is smaller than the <code dir="auto">timeframe</code> value in
the function call. If <code dir="auto">false</code>, the function will raise a runtime
error and halt the script’s execution. If <code dir="auto">true</code>, the function will
return <code dir="auto">na</code> without raising an error.</li>
</ul>
<p>Users can now explicitly declare variables with the <code dir="auto">const</code>, <code dir="auto">simple</code>,
and <code dir="auto">series</code> type qualifiers, allowing more precise control over the
types of variables in their scripts. For example:</p>
<div class="pine-colorizer not-content colorized" data-id="51s"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"My&nbsp;script"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;constant&nbsp;`string`&nbsp;used&nbsp;as&nbsp;the&nbsp;`title`&nbsp;in&nbsp;the&nbsp;`p</span><span class="mtk9">lot()`&nbsp;function.</span></span><br><span><span class="mtk18 mtkb">const</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">plotTitle</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"My&nbsp;plot"</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;An&nbsp;`int`&nbsp;variable&nbsp;whose&nbsp;value&nbsp;is&nbsp;consistent&nbsp;after</span><span class="mtk9">&nbsp;the&nbsp;first&nbsp;chart&nbsp;bar.</span></span><br><span><span class="mtk18 mtkb">simple</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">a</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">10</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;An&nbsp;`int`&nbsp;variable&nbsp;whose&nbsp;value&nbsp;can&nbsp;change&nbsp;on&nbsp;every</span><span class="mtk9">&nbsp;bar.</span></span><br><span><span class="mtk18 mtkb">series</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">b</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">bar_index</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">b</span><span class="mtk1">&nbsp;</span><span class="mtk18">%</span><span class="mtk1">&nbsp;</span><span class="mtk33">a</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">title</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">plotTitle</span><span class="mtk13">)</span></span><br></code></div>
<h3 id="august-2023" class="md-heading"><a href="#august-2023">August <span class="fancy-wrap">2023<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Added the following alert
<a href="https://www.tradingview.com/support/solutions/43000531021">placeholders</a>:</p>
<ul>
<li><code dir="auto">{{syminfo.currency}}</code> - Returns the currency code of the current
symbol (“EUR”, “USD”, etc.).</li>
<li><code dir="auto">{{syminfo.basecurrency}}</code> - Returns the base currency code of the
current symbol if the symbol refers to a currency pair. Otherwise,
it returns <code dir="auto">na</code>. For example, it returns “EUR” when the symbol is
“EURUSD”.</li>
</ul>
<h4 id="pine-script-maps" class="md-heading"><a href="#pine-script-maps">Pine Script <span class="fancy-wrap">Maps<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Maps are collections that hold elements in the form of <em>key-value
pairs</em>. They associate unique keys of a <em>fundamental type</em> with values
of a <em>built-in</em> or
<a href="/pine-script-docs/language/type-system/#user-defined-types">user-defined</a> type. Unlike <a href="/pine-script-docs/language/arrays/">arrays</a>,
these collections are <em>unordered</em> and do not utilize an internal lookup
index. Instead, scripts access the values of maps by referencing the
<em>keys</em> from the key-value pairs put into them. For more information on
these new collections, see our
<a href="/pine-script-docs/language/maps/">User Manual’s page on Maps</a>.</p>
<h3 id="july-2023" class="md-heading"><a href="#july-2023">July <span class="fancy-wrap">2023<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Fixed an issue that caused strategies to occasionally calculate the
sizes of limit orders incorrectly due to improper tick rounding of the
<code dir="auto">limit</code> price.</p>
<p>Added a new built-in variable to the <code dir="auto">strategy.*</code> namespace:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.margin_liquidation_price">strategy.margin_liquidation_price</a> -
When a strategy uses margin, returns the price value after which a
margin call will occur.</li>
</ul>
<h3 id="june-2023" class="md-heading"><a href="#june-2023">June <span class="fancy-wrap">2023<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New <code dir="auto">syminfo.*</code> built-in variables were added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.sector">syminfo.sector</a> -
Returns the sector of the symbol.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.industry">syminfo.industry</a> -
Returns the industry of the symbol.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.country">syminfo.country</a> -
Returns the two-letter code of the country where the symbol is
traded.</li>
</ul>
<p>A new display parameter for all <code dir="auto">input.*()</code> functions was added.
It provides you with more control over the display of input values next to a script’s name.
Four arguments can be used:
<a href="https://www.tradingview.com/pine-script-reference/v5/#var_display.status_line">display.status_line</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#var_display.data_window">display.data_window</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#var_display.all">display.all</a>,
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#var_display.none">display.none</a>.
Combinations of these arguments using plus or minus signs are allowed, and regardless of the argument used,
input values will always continue to appear in the <code dir="auto">Inputs</code> tab of the script’s settings.</p>
<h3 id="may-2023" class="md-heading"><a href="#may-2023">May <span class="fancy-wrap">2023<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New parameter added to the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.entry">strategy.entry()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.order">strategy.order()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.close">strategy.close()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.close_all">strategy.close_all()</a>,
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.exit">strategy.exit()</a>
functions:</p>
<ul>
<li><code dir="auto">disable_alert</code> - Disables order fill alerts for any orders placed
by the function.</li>
</ul>
<p>Our “Indicator on indicator” feature, which allows a script to pass
another indicator’s plot as a source value via the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_input.source">input.source()</a>
function, now supports multiple external inputs. Scripts can use a
multitude of external inputs originating from up to 10 different
indicators.</p>
<p>We’ve added the following array functions:</p>
<ul>
<li>
<p><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.every">array.every()</a> -
Returns <code dir="auto">true</code> if all elements of the <code dir="auto">id</code> array are <code dir="auto">true</code>, <code dir="auto">false</code>
otherwise.</p>
</li>
<li>
<p><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.some">array.some()</a> -
Returns <code dir="auto">true</code> if at least one element of the <code dir="auto">id</code> array is <code dir="auto">true</code>,
<code dir="auto">false</code> otherwise. These functions also work with arrays of
<a href="https://www.tradingview.com/pine-script-reference/v5/#type_int">int</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#type_float">float</a>
types, in which case zero values are considered <code dir="auto">false</code>, and all others
<code dir="auto">true</code>.</p>
</li>
</ul>
<h3 id="april-2023" class="md-heading"><a href="#april-2023">April <span class="fancy-wrap">2023<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Fixed an issue with trailing stops in
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.exit">strategy.exit()</a>
being filled on high/low prices rather than on intrabar prices.</p>
<p>Fixed behavior of
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.mode">array.mode()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.mode">matrix.mode()</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.mode">ta.mode()</a>.
Now these functions will return the smallest value when the data has no
most frequent value.</p>
<h3 id="march-2023" class="md-heading"><a href="#march-2023">March <span class="fancy-wrap">2023<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>It is now possible to use seconds-based timeframe strings for the
<code dir="auto">timeframe</code> parameter in
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security">request.security()</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf">request.security_lower_tf()</a>.</p>
<p>A new function was added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.currency_rate">request.currency_rate()</a> -
provides a daily rate to convert a value expressed in the <code dir="auto">from</code>
currency to another in the <code dir="auto">to</code> currency.</li>
</ul>
<h3 id="february-2023" class="md-heading"><a href="#february-2023">February <span class="fancy-wrap">2023<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<h4 id="pine-script-methods" class="md-heading"><a href="#pine-script-methods">Pine Script <span class="fancy-wrap">Methods<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Pine Script methods are specialized functions associated with specific
instances of built-in or user-defined types. They offer a more
convenient syntax than standard functions, as users can access methods
in the same way as object fields using the handy dot notation syntax.
Pine Script includes built-in methods for
<a href="https://www.tradingview.com/pine-script-reference/v5/#type_array">array</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#type_matrix">matrix</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#type_line">line</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#type_linefill">linefill</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#type_label">label</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#type_box">box</a>,
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#type_table">table</a>
types and facilitates user-defined methods with the new
<a href="https://www.tradingview.com/pine-script-reference/v5/#kw_method">method</a>
keyword. For more details on this new feature, see our
<a href="/pine-script-docs/language/methods/">User Manual’s page on methods</a>.</p>
<h3 id="january-2023" class="md-heading"><a href="#january-2023">January <span class="fancy-wrap">2023<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New array functions were added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.first">array.first()</a> -
Returns the array’s first element.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.last">array.last()</a> -
Returns the array’s last element.</li>
</ul>
<h2 id="2022" class="md-heading"><a href="#2022"> <span class="fancy-wrap">2022<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<h3 id="december-2022" class="md-heading"><a href="#december-2022">December <span class="fancy-wrap">2022<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<h4 id="pine-objects" class="md-heading"><a href="#pine-objects">Pine <span class="fancy-wrap">Objects<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Pine objects are instantiations of the new user-defined composite types
(UDTs) declared using the
<a href="https://www.tradingview.com/pine-script-reference/v5/#kw_type">type</a>
keyword. Experienced programmers can think of UDTs as method-less
classes. They allow users to create custom types that organize different
values under one logical entity. A detailed rundown of the new
functionality can be found in our <a href="/pine-script-docs/language/objects/">User Manual’s page on
objects</a>.</p>
<p>A new function was added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.standard">ticker.standard()</a> -
Creates a ticker to request data from a standard chart that is
unaffected by modifiers like extended session, dividend adjustment,
currency conversion, and the calculations of non-standard chart
types: Heikin Ashi, Renko, etc.</li>
</ul>
<p>New <code dir="auto">strategy.*</code> functions were added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.opentrades.entry_comment">strategy.opentrades.entry_comment()</a> -
The function returns the comment message of the open trade’s entry.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.entry_comment">strategy.closedtrades.entry_comment()</a> -
The function returns the comment message of the closed trade’s
entry.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.exit_comment">strategy.closedtrades.exit_comment()</a> -
The function returns the comment message of the closed trade’s
exit.</li>
</ul>
<h3 id="november-2022" class="md-heading"><a href="#november-2022">November <span class="fancy-wrap">2022<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Fixed behaviour of
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_math.round_to_mintick">math.round_to_mintick()</a>
function. For ‘na’ values it returns ‘na’.</p>
<h3 id="october-2022" class="md-heading"><a href="#october-2022">October <span class="fancy-wrap">2022<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Pine Script now has a new, more powerful and better-integrated editor.
Read <a href="https://www.tradingview.com/blog/en/new-vsc-style-pine-script-editor-34159/">our
blog</a>
to find out everything to know about all the new features and upgrades.</p>
<p>New overload for the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_fill">fill()</a>
function was added. Now it can create vertical gradients. More info
about it in the <a href="https://www.tradingview.com/blog/en/pine-script-vertical-gradients-33586/">blog
post</a>.</p>
<p>A new function was added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.format_time">str.format_time()</a> -
Converts a timestamp to a formatted string using the specified
format and time zone.</li>
</ul>
<h3 id="september-2022" class="md-heading"><a href="#september-2022">September <span class="fancy-wrap">2022<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>The <code dir="auto">text_font_family</code> parameter now allows the selection of a monospace
font in
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label.new">label.new()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.new">box.new()</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_table.cell">table.cell()</a>
function calls, which makes it easier to align text vertically. Its
arguments can be:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#const_font.family_default">font.family_default</a> -
Specifies the default font.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#const_font.family_monospace">font.family_monospace</a> -
Specifies a monospace font.</li>
</ul>
<p>The accompanying setter functions are:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label.set_text_font_family">label.set_text_font_family()</a> -
The function sets the font family of the text inside the label.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.set_text_font_family">box.set_text_font_family()</a> -
The function sets the font family of the text inside the box.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_table.cell_set_text_font_family">table.cell_set_text_font_family()</a> -
The function sets the font family of the text inside the cell.</li>
</ul>
<h3 id="august-2022" class="md-heading"><a href="#august-2022">August <span class="fancy-wrap">2022<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>A new label style
<a href="https://www.tradingview.com/pine-script-reference/v5/#const_label.style_text_outline">label.style_text_outline</a>
was added.</p>
<p>A new parameter for the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.pivot_point_levels">ta.pivot_point_levels()</a>
function was added:</p>
<ul>
<li><code dir="auto">developing</code> - If <code dir="auto">false</code>, the values are those calculated the last
time the anchor condition was true. They remain constant until the
anchor condition becomes true again. If <code dir="auto">true</code>, the pivots are
developing, i.e., they constantly recalculate on the data developing
between the point of the last anchor (or bar zero if the anchor
condition was never true) and the current bar. Cannot be <code dir="auto">true</code> when
<code dir="auto">type</code> is set to <code dir="auto">"Woodie"</code>.</li>
</ul>
<p>A new parameter for the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.new">box.new()</a>
function was added:</p>
<ul>
<li><code dir="auto">text_wrap</code> - It defines whether the text is presented in a single
line, extending past the width of the box if necessary, or wrapped
so every line is no wider than the box itself.</li>
</ul>
<p>This parameter supports two arguments:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#const_text.wrap_none">text.wrap_none</a> -
Disabled wrapping mode for
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.new">box.new</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.set_text_wrap">box.set_text_wrap</a>
functions.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#const_text.wrap_auto">text.wrap_auto</a> -
Automatic wrapping mode for
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.new">box.new</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.set_text_wrap">box.set_text_wrap</a>
functions.</li>
</ul>
<p>New built-in functions were added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.min">ta.min()</a> -
Returns the all-time low value of <code dir="auto">source</code> from the beginning of the
chart up to the current bar.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.max">ta.max()</a> -
Returns the all-time high value of <code dir="auto">source</code> from the beginning of
the chart up to the current bar.</li>
</ul>
<p>A new annotation <code dir="auto">//@strategy_alert_message</code> was added. If the
annotation is added to the strategy, the text written after it will be
automatically set as the default alert message in the [Create
Alert] window.</p>
<div class="pine-colorizer not-content colorized" data-id="al"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk9">//&nbsp;</span><span class="mtk9 mtkb">@strategy</span><span class="mtk9">_alert_message&nbsp;My&nbsp;Default&nbsp;Alert&nbsp;Message</span></span><br><span><span class="mtk16">strategy</span><span class="mtk13">(</span><span class="mtk29">"My&nbsp;Strategy"</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk13">)</span></span><br></code></div>
<h3 id="july-2022" class="md-heading"><a href="#july-2022">July <span class="fancy-wrap">2022<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>It is now possible to fine-tune where a script’s plot values are
displayed through the introduction of new arguments for the <code dir="auto">display</code>
parameter of the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar">plotchar()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape">plotshape()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotarrow">plotarrow()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotcandle">plotcandle()</a>,
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotbar">plotbar()</a>
functions.</p>
<p>Four new arguments were added, complementing the previously available
<a href="https://www.tradingview.com/pine-script-reference/v5/#const_display.all">display.all</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#const_display.none">display.none</a>:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#const_display.data_window">display.data_window</a>
displays the plot values in the Data Window, one of the items
available from the chart’s right sidebar.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#const_display.pane">display.pane</a>
displays the plot in the pane where the script resides, as defined
in with the <code dir="auto">overlay</code> parameter of the script’s
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator">indicator()</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy">strategy()</a>,
or
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_library">library()</a>
declaration statement.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#const_display.price_scale">display.price_scale</a>
controls the display of the plot’s label and price in the price
scale, if the chart’s settings allow them.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#const_display.status_line">display.status_line</a>
displays the plot values in the script’s status line, next to the
script’s name on the chart, if the chart’s settings allow them.</li>
</ul>
<p>The <code dir="auto">display</code> parameter supports the addition and subtraction of its
arguments:</p>
<ul>
<li><code dir="auto">display.all - display.status_line</code> will display the plot’s
information everywhere except in the script’s status line.</li>
<li><code dir="auto">display.price_scale + display.status_line</code> will display the plot in
the price scale and status line only.</li>
</ul>
<h3 id="june-2022" class="md-heading"><a href="#june-2022">June <span class="fancy-wrap">2022<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>The behavior of the argument used with the <code dir="auto">qty_percent</code> parameter of
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.exit">strategy.exit()</a>
has changed. Previously, the percentages used on successive exit orders
of the same position were calculated from the remaining position at any
given time. Instead, the percentages now always apply to the initial
position size. When executing the following strategy, for example:</p>
<div class="pine-colorizer not-content colorized" data-id="1in"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">strategy</span><span class="mtk13">(</span><span class="mtk29">"strategy.exit()&nbsp;example"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span class="mtk16">strategy.entry</span><span class="mtk13">(</span><span class="mtk29">"Long"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">strategy.long</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">qty</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">100</span><span class="mtk13">)</span></span><br><span><span class="mtk16">strategy.exit</span><span class="mtk13">(</span><span class="mtk29">"Exit&nbsp;Long1"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Long"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">trail_points</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">trail_offset</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">qty_percent</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk13">)</span></span><br><span><span class="mtk16">strategy.exit</span><span class="mtk13">(</span><span class="mtk29">"Exit&nbsp;Long2"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Long"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">trail_points</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">100</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">trail_offset</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">qty_percent</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk13">)</span></span><br></code></div>
<p>20% of the initial position will be closed on each
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.exit">strategy.exit()</a>
call. Before, the first call would exit 20% of the initial position, and
the second would exit 20% of the remaining 80% of the position, so only
16% of the initial position.</p>
<p>Two new parameters for the built-in
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.vwap">ta.vwap()</a>
function were added:</p>
<ul>
<li><code dir="auto">anchor</code> - Specifies the condition that triggers the reset of VWAP
calculations. When <code dir="auto">true</code>, calculations reset; when <code dir="auto">false</code>,
calculations proceed using the values accumulated since the previous
reset.</li>
<li><code dir="auto">stdev_mult</code> - If specified, the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.vwap">ta.vwap()</a>
calculates the standard deviation bands based on the main VWAP
series and returns a <code dir="auto">[vwap, upper_band, lower_band]</code> tuple.</li>
</ul>
<p>New overloaded versions of the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.close">strategy.close()</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.close_all">strategy.close_all()</a>
functions with the <code dir="auto">immediately</code> parameter. When <code dir="auto">immediately</code> is set to
<code dir="auto">true</code>, the closing order will be executed on the tick where it has been
placed, ignoring the strategy parameters that restrict the order
execution to the open of the next bar.</p>
<p>New built-in functions were added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timeframe.change">timeframe.change()</a> -
Returns <code dir="auto">true</code> on the first bar of a new <code dir="auto">timeframe</code>, <code dir="auto">false</code>
otherwise.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.pivot_point_levels">ta.pivot_point_levels()</a> -
Returns a float array with numerical values representing 11 pivot
point levels: <code dir="auto">[P, R1, S1, R2, S2, R3, S3, R4, S4, R5, S5]</code>. Levels
absent from the specified <code dir="auto">type</code> return na values.</li>
</ul>
<p>New built-in variables were added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_session.isfirstbar">session.isfirstbar</a> -
returns <code dir="auto">true</code> if the current bar is the first bar of the day’s
session, <code dir="auto">false</code> otherwise.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_session.islastbar">session.islastbar</a> -
returns <code dir="auto">true</code> if the current bar is the last bar of the day’s
session, <code dir="auto">false</code> otherwise.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_session.isfirstbar_regular">session.isfirstbar_regular</a> -
returns <code dir="auto">true</code> on the first regular session bar of the day, <code dir="auto">false</code>
otherwise.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_session.islastbar_regular">session.islastbar_regular</a> -
returns <code dir="auto">true</code> on the last regular session bar of the day, <code dir="auto">false</code>
otherwise.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_chart.left_visible_bar_time">chart.left_visible_bar_time</a> -
returns the <code dir="auto">time</code> of the leftmost bar currently visible on the
chart.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_chart.right_visible_bar_time">chart.right_visible_bar_time</a> -
returns the <code dir="auto">time</code> of the rightmost bar currently visible on the
chart.</li>
</ul>
<h3 id="may-2022" class="md-heading"><a href="#may-2022">May <span class="fancy-wrap">2022<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Support for <a href="/pine-script-docs/language/matrices/#matrices">matrices</a> has been added to the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security">request.security()</a>
function.</p>
<p>The historical states of
<a href="/pine-script-docs/language/arrays/#arrays">arrays</a>
and
<a href="/pine-script-docs/language/matrices/#matrices">matrices</a>
can now be referenced with the
<a href="https://www.tradingview.com/pine-script-reference/v5/#op_%5B%5D">[]</a>
operator. In the example below, we reference the historical state of a
matrix 10 bars ago:</p>
<div class="pine-colorizer not-content colorized" data-id="3ly"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"matrix.new&lt;float&gt;&nbsp;example"</span><span class="mtk13">)</span></span><br><span><span class="mtk33">m</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">matrix.new</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;(</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">)</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">x</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk11">bar_index</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk12">10</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">x</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk16">matrix.get</span><span class="mtk13">(</span><span class="mtk33">m</span><span class="mtk13">[</span><span class="mtk12">10</span><span class="mtk13">]</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">x</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk13">)</span></span><br></code></div>
<p>The
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.change">ta.change()</a>
function now can take values of
<a href="https://www.tradingview.com/pine-script-reference/v5/#type_int">int</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#type_bool">bool</a>
types as its <code dir="auto">source</code> parameter and return the difference in the
respective type.</p>
<p>New built-in variables were added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_chart.bg_color">chart.bg_color</a> -
Returns the color of the chart’s background from the
<code dir="auto">"Chart settings/Appearance/Background"</code> field.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_chart.fg_color">chart.fg_color</a> -
Returns a color providing optimal contrast with
<a href="https://www.tradingview.com/pine-script-reference/v5/#var_chart.bg_color">chart.bg_color</a>.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_chart.is_standard">chart.is_standard</a> -
Returns true if the chart type is bars, candles, hollow candles,
line, area or baseline, false otherwise.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#const_currency.USDT">currency.USDT</a> -
A constant for the Tether currency code.</li>
</ul>
<p>New functions were added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_syminfo.prefix">syminfo.prefix()</a> -
returns the exchange prefix of the <code dir="auto">symbol</code> passed to it, e.g.
“NASDAQ” for “NASDAQ:AAPL”.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_syminfo.ticker">syminfo.ticker()</a> -
returns the ticker of the <code dir="auto">symbol</code> passed to it without the exchange
prefix, e.g. “AAPL” for “NASDAQ:AAPL”.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf">request.security_lower_tf()</a> -
requests data from a lower timeframe than the chart’s.</li>
</ul>
<p>Added <code dir="auto">use_bar_magnifier</code> parameter for the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy">strategy()</a>
function. When <code dir="auto">true</code>, the <a href="/pine-script-docs/concepts/strategies/#broker-emulator">Broker
Emulator</a>
uses lower timeframe data during history backtesting to achieve more
realistic results.</p>
<p>Fixed behaviour of
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.exit">strategy.exit()</a>
function when stop loss triggered at prices outside the bars price
range.</p>
<p>Added new <code dir="auto">comment</code> and <code dir="auto">alert</code> message parameters for the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.exit">strategy.exit()</a>
function:</p>
<ul>
<li><code dir="auto">comment_profit</code> - additional notes on the order if the exit was
triggered by crossing <code dir="auto">profit</code> or <code dir="auto">limit</code> specifically.</li>
<li><code dir="auto">comment_loss</code> - additional notes on the order if the exit was
triggered by crossing <code dir="auto">stop</code> or <code dir="auto">loss</code> specifically.</li>
<li><code dir="auto">comment_trailing</code> - additional notes on the order if the exit was
triggered by crossing <code dir="auto">trail_offset</code> specifically.</li>
<li><code dir="auto">alert_profit</code> - text that will replace the
<code dir="auto">'{{strategy.order.alert_message}}'</code> placeholder if the exit was
triggered by crossing <code dir="auto">profit</code> or <code dir="auto">limit</code> specifically.</li>
<li><code dir="auto">alert_loss</code> - text that will replace the
<code dir="auto">'{{strategy.order.alert_message}}'</code> placeholder if the exit was
triggered by crossing <code dir="auto">stop</code> or <code dir="auto">loss</code> specifically.</li>
<li><code dir="auto">alert_trailing</code> - text that will replace the
<code dir="auto">'{{strategy.order.alert_message}}'</code> placeholder if the exit was
triggered by crossing <code dir="auto">trail_offset</code> specifically.</li>
</ul>
<h3 id="april-2022" class="md-heading"><a href="#april-2022">April <span class="fancy-wrap">2022<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Added the <code dir="auto">display</code> parameter to the following functions:
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_barcolor">barcolor</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_bgcolor">bgcolor</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_fill">fill</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_hline">hline</a>.</p>
<p>A new function was added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.economic">request.economic()</a> -
Economic data includes information such as the state of a country’s
economy or of a particular industry.</li>
</ul>
<p>New built-in variables were added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.max_runup">strategy.max_runup</a> -
Returns the maximum equity run-up value for the whole trading
interval.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.volumetype">syminfo.volumetype</a> -
Returns the volume type of the current symbol.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_chart.is_heikinashi">chart.is_heikinashi</a> -
Returns true if the chart type is Heikin Ashi, false otherwise.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_chart.is_kagi">chart.is_kagi</a> -
Returns true if the chart type is Kagi, false otherwise.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_chart.is_linebreak">chart.is_linebreak</a> -
Returns true if the chart type is Line break, false otherwise.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_chart.is_pnf">chart.is_pnf</a> -
Returns true if the chart type is Point &amp; figure, false otherwise.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_chart.is_range">chart.is_range</a> -
Returns true if the chart type is Range, false otherwise.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_chart.is_renko">chart.is_renko</a> -
Returns true if the chart type is Renko, false otherwise.</li>
</ul>
<p>New matrix functions were added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.new%3Ctype%3E">matrix.new&lt;type&gt;()</a> -
Creates a new matrix object. A matrix is a two-dimensional data
structure containing rows and columns. All elements in the matrix
must be of the type specified in the type template (“&lt;type&gt;”).</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.row">matrix.row()</a> -
Creates a one-dimensional array from the elements of a matrix row.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.col">matrix.col()</a> -
Creates a one-dimensional array from the elements of a matrix
column.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.get">matrix.get()</a> -
Returns the element with the specified index of the matrix.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.set">matrix.set()</a> -
Assigns <code dir="auto">value</code> to the element at the <code dir="auto">column</code> and <code dir="auto">row</code> index of
the matrix.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.rows">matrix.rows()</a> -
Returns the number of rows in the matrix.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.columns">matrix.columns()</a> -
Returns the number of columns in the matrix.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.elements_count">matrix.elements_count()</a> -
Returns the total number of matrix elements.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.add_row">matrix.add_row()</a> -
Adds a row to the matrix. The row can consist of <code dir="auto">na</code> values, or an
array can be used to provide values.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.add_col">matrix.add_col()</a> -
Adds a column to the matrix. The column can consist of <code dir="auto">na</code> values,
or an array can be used to provide values.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.remove_row">matrix.remove_row()</a> -
Removes the row of the matrix and returns an array containing the
removed row’s values.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.remove_col">matrix.remove_col()</a> -
Removes the column of the matrix and returns an array containing the
removed column’s values.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.swap_rows">matrix.swap_rows()</a> -
Swaps the rows in the matrix.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.swap_columns">matrix.swap_columns()</a> -
Swaps the columns in the matrix.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.fill">matrix.fill()</a> -
Fills a rectangular area of the matrix defined by the indices
<code dir="auto">from_column</code> to <code dir="auto">to_column</code>.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.copy">matrix.copy()</a> -
Creates a new matrix which is a copy of the original.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.submatrix">matrix.submatrix()</a> -
Extracts a submatrix within the specified indices.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.reverse">matrix.reverse()</a> -
Reverses the order of rows and columns in the matrix. The first row
and first column become the last, and the last become the first.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.reshape">matrix.reshape()</a> -
Rebuilds the matrix to <code dir="auto">rows</code> x <code dir="auto">cols</code> dimensions.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.concat">matrix.concat()</a> -
Append one matrix to another.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.sum">matrix.sum()</a> -
Returns a new matrix resulting from the sum of two matrices, or of a
matrix and a scalar (a numerical value).</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.diff">matrix.diff()</a> -
Returns a new matrix resulting from the subtraction between
matrices, or of matrix and a scalar (a numerical value).</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.mult">matrix.mult()</a> -
Returns a new matrix resulting from the product between the
matrices, or between a matrix and a scalar (a numerical value), or
between a matrix and a vector (an array of values).</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.sort">matrix.sort()</a> -
Rearranges the rows in the <code dir="auto">id</code> matrix following the sorted order of
the values in the <code dir="auto">column</code>.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.avg">matrix.avg()</a> -
Calculates the average of all elements in the matrix.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.max">matrix.max()</a> -
Returns the largest value from the matrix elements.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.min">matrix.min()</a> -
Returns the smallest value from the matrix elements.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.median">matrix.median()</a> -
Calculates the median (“the middle” value) of matrix elements.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.mode">matrix.mode()</a> -
Calculates the mode of the matrix, which is the most frequently
occurring value from the matrix elements. When there are multiple
values occurring equally frequently, the function returns the
smallest of those values.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.pow">matrix.pow()</a> -
Calculates the product of the matrix by itself <code dir="auto">power</code> times.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.det">matrix.det()</a> -
Returns the determinant of a square matrix.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.transpose">matrix.transpose()</a> -
Creates a new, transposed version of the matrix by interchanging the
row and column index of each element.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.pinv">matrix.pinv()</a> -
Returns the pseudoinverse of a matrix.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.inv">matrix.inv()</a> -
Returns the inverse of a square matrix.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.rank">matrix.rank()</a> -
Calculates the rank of the matrix.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.trace">matrix.trace()</a> -
Calculates the trace of a matrix (the sum of the main diagonal’s
elements).</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.eigenvalues">matrix.eigenvalues()</a> -
Returns an array containing the eigenvalues of a square matrix.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.eigenvectors">matrix.eigenvectors()</a> -
Returns a matrix of eigenvectors, in which each column is an
eigenvector of the matrix.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.kron">matrix.kron()</a> -
Returns the Kronecker product for the two matrices.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.is_zero">matrix.is_zero()</a> -
Determines if all elements of the matrix are zero.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.is_identity">matrix.is_identity()</a> -
Determines if a matrix is an identity matrix (elements with ones on
the main diagonal and zeros elsewhere).</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.is_binary">matrix.is_binary()</a> -
Determines if the matrix is binary (when all elements of the matrix
are 0 or 1).</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.is_symmetric">matrix.is_symmetric()</a> -
Determines if a square matrix is symmetric (elements are symmetric
with respect to the main diagonal).</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.is_antisymmetric">matrix.is_antisymmetric()</a> -
Determines if a matrix is antisymmetric (its transpose equals its
negative).</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.is_diagonal">matrix.is_diagonal()</a> -
Determines if the matrix is diagonal (all elements outside the main
diagonal are zero).</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.is_antidiagonal">matrix.is_antidiagonal()</a> -
Determines if the matrix is anti-diagonal (all elements outside the
secondary diagonal are zero).</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.is_triangular">matrix.is_triangular()</a> -
Determines if the matrix is triangular (if all elements above or
below the main diagonal are zero).</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.is_stochastic">matrix.is_stochastic()</a> -
Determines if the matrix is stochastic.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_matrix.is_square">matrix.is_square()</a> -
Determines if the matrix is square (it has the same number of rows
and columns).</li>
</ul>
<p>Added a new parameter for the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy">strategy()</a>
function:</p>
<ul>
<li><code dir="auto">risk_free_rate</code> - The risk-free rate of return is the annual
percentage change in the value of an investment with minimal or zero
risk, used to calculate the Sharpe and Sortino ratios.</li>
</ul>
<h3 id="march-2022" class="md-heading"><a href="#march-2022">March <span class="fancy-wrap">2022<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New array functions were added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.sort_indices">array.sort_indices()</a> -
returns an array of indices which, when used to index the original
array, will access its elements in their sorted order.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.percentrank">array.percentrank()</a> -
returns the percentile rank of a value in the array.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.percentile_nearest_rank">array.percentile_nearest_rank()</a> -
returns the value for which the specified percentage of array values
(percentile) are less than or equal to it, using the nearest-rank
method.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.percentile_linear_interpolation">array.percentile_linear_interpolation()</a> -
returns the value for which the specified percentage of array values
(percentile) are less than or equal to it, using linear
interpolation.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.abs">array.abs()</a> -
returns an array containing the absolute value of each element in
the original array.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.binary_search">array.binary_search()</a> -
returns the index of the value, or -1 if the value is not found.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.binary_search_leftmost">array.binary_search_leftmost()</a> -
returns the index of the value if it is found or the index of the
next smallest element to the left of where the value would lie if it
was in the array.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.binary_search_rightmost">array.binary_search_rightmost()</a> -
returns the index of the value if it is found or the index of the
element to the right of where the value would lie if it was in the
array.</li>
</ul>
<p>Added a new optional <code dir="auto">nth</code> parameter for the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.min">array.min()</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.max">array.max()</a>
functions.</p>
<p>Added <code dir="auto">index</code> in
<a href="https://www.tradingview.com/pine-script-reference/v5/#op_for...in">for…in</a>
operator. It tracks the current iteration’s index.</p>
<h4 id="table-merging-and-cell-tooltips" class="md-heading"><a href="#table-merging-and-cell-tooltips">Table merging and cell <span class="fancy-wrap">tooltips<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<ul>
<li>It is now possible to merge several cells in a table. A merged cell
doesn’t have to be a header: you can merge cells in any direction,
as long as the resulting cell doesn’t affect any already merged
cells and doesn’t go outside of the table’s bounds. Cells can be
merged with the new
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_table.merge_cells">table.merge_cells()</a>
function.</li>
<li>Tables now support tooltips, floating labels that appear when you
hover over a table’s cell. To add a tooltip, pass a string to the
<code dir="auto">tooltip</code> argument of the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_table.cell">table.cell()</a>
function or use the new
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_table.cell_set_tooltip">table.cell_set_tooltip()</a>
function.</li>
</ul>
<h3 id="february-2022" class="md-heading"><a href="#february-2022">February <span class="fancy-wrap">2022<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Added templates and the ability to create arrays via templates. Instead
of using one of the <code dir="auto">array.new_*()</code> functions, a template function
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.new%3Ctype%3E">array.new&lt;type&gt;()</a>
can be used. In the example below, we use this functionality to create
an array filled with <code dir="auto">float</code> values:</p>
<div class="pine-colorizer not-content colorized" data-id="15h"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"array.new&lt;float&gt;&nbsp;example"</span><span class="mtk13">)</span></span><br><span><span class="mtk33">length</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">5</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk33">a</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.new</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;(</span><span class="mtk33">length</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">)</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.size</span><span class="mtk13">(</span><span class="mtk33">a</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">==</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">array.remove</span><span class="mtk13">(</span><span class="mtk33">a</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">array.push</span><span class="mtk13">(</span><span class="mtk33">a</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk16">array.sum</span><span class="mtk13">(</span><span class="mtk33">a</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"SMA"</span><span class="mtk13">)</span></span><br></code></div>
<p>New functions were added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timeframe.in_seconds">timeframe.in_seconds(timeframe)</a> -
converts the timeframe passed to the <code dir="auto">timeframe</code> argument into
seconds.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_input.text_area">input.text_area()</a> -
adds multiline text input area to the Script settings.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.entry_id">strategy.closedtrades.entry_id()</a> -
returns the id of the closed trade’s entry.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.exit_id">strategy.closedtrades.exit_id()</a> -
returns the id of the closed trade’s exit.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.opentrades.entry_id">strategy.opentrades.entry_id()</a> -
returns the id of the open trade’s entry.</li>
</ul>
<h3 id="january-2022" class="md-heading"><a href="#january-2022">January <span class="fancy-wrap">2022<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Added new functions to clone drawings:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_line.copy">line.copy()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label.copy">label.copy()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.copy">box.copy()</a></li>
</ul>
<h2 id="2021" class="md-heading"><a href="#2021"> <span class="fancy-wrap">2021<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<h3 id="december-2021" class="md-heading"><a href="#december-2021">December <span class="fancy-wrap">2021<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<h4 id="linefills" class="md-heading"><a href="#linefills"> <span class="fancy-wrap">Linefills<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>The space between lines drawn in Pine Script can now be filled! We’ve
added a new <code dir="auto">linefill</code> drawing type, along with a number of functions
dedicated to manipulating it. Linefills are created by passing two lines
and a color to the <code dir="auto">linefill.new()</code> function, and their behavior is
based on the lines they’re tied to: they extend in the same direction
as the lines, move when their lines move, and are deleted when one of
the two lines is deleted.</p>
<p>New linefill-related functions:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.new_linefill">array.new_linefill()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_linefill">linefill()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_linefill.delete">linefill.delete()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_linefill.get_line1">linefill.get_line1()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_linefill.get_line2">linefill.get_line2()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_linefill.new">linefill.new()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_linefill.set_color">linefill.set_color()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_linefill.all">linefill.all()</a></li>
</ul>
<h4 id="new-functions-for-string-manipulation" class="md-heading"><a href="#new-functions-for-string-manipulation">New functions for string <span class="fancy-wrap">manipulation<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Added a number of new functions that provide more ways to process
strings, and introduce regular expressions to Pine Script:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.contains">str.contains(source,
str)</a> -
Determines if the <code dir="auto">source</code> string contains the <code dir="auto">str</code> substring.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.pos">str.pos(source,
str)</a> -
Returns the position of the <code dir="auto">str</code> string in the <code dir="auto">source</code> string.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.substring">str.substring(source, begin_pos,
end_pos)</a> -
Extracts a substring from the <code dir="auto">source</code> string.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.replace">str.replace(source, target, replacement,
occurrence)</a> -
Contrary to the existing
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.replace_all">str.replace_all()</a>
function, <code dir="auto">str.replace()</code> allows the selective replacement of a
matched substring with a replacement string.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.lower">str.lower(source)</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.upper">str.upper(source)</a> -
Convert all letters of the <code dir="auto">source</code> string to lower or upper case:</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.startswith">str.startswith(source,
str)</a>
and <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.endswith">str.endswith(source,
str)</a> -
Determine if the <code dir="auto">source</code> string starts or ends with the <code dir="auto">str</code>
substring.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.match">str.match(source,
regex)</a> -
Extracts the substring matching the specified <a href="https://en.wikipedia.org/wiki/Regular_expression#Perl_and_PCRE" rel="nofollow">regular
expression</a>.</li>
</ul>
<h4 id="textboxes" class="md-heading"><a href="#textboxes"> <span class="fancy-wrap">Textboxes<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Box drawings now supports text. The
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.new">box.new()</a>
function has five new parameters for text manipulation: <code dir="auto">text</code>,
<code dir="auto">text_size</code>, <code dir="auto">text_color</code>, <code dir="auto">text_valign</code>, and <code dir="auto">text_halign</code>.
Additionally, five new functions to set the text properties of existing
boxes were added:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.set_text">box.set_text()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.set_text_color">box.set_text_color()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.set_text_size">box.set_text_size()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.set_text_valign">box.set_text_valign()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.set_text_halign">box.set_text_halign()</a></li>
</ul>
<h4 id="new-built-in-variables" class="md-heading"><a href="#new-built-in-variables">New built-in <span class="fancy-wrap">variables<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Added new built-in variables that return the <code dir="auto">bar_index</code> and <code dir="auto">time</code>
values of the last bar in the dataset. Their values are known at the
beginning of the script’s calculation:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_last_bar_index">last_bar_index</a> -
Bar index of the last chart bar.</li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_last_bar_time">last_bar_time</a> -
UNIX time of the last chart bar.</li>
</ul>
<p>New built-in <code dir="auto">source</code> variable:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_hlcc4">hlcc4</a> -
A shortcut for <code dir="auto">(high + low + close + close)/4</code>. It averages the
high and low values with the double-weighted close.</li>
</ul>
<h3 id="november-2021" class="md-heading"><a href="#november-2021">November <span class="fancy-wrap">2021<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<h4 id="forin" class="md-heading"><a href="#forin"> <span class="fancy-wrap">for…in<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Added a new
<a href="https://www.tradingview.com/pine-script-reference/v5/#op_for...in">for…in</a>
operator to iterate over all elements of an array:</p>
<div class="pine-colorizer not-content colorized" data-id="ko"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"My&nbsp;Script"</span><span class="mtk13">)</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk13">[]</span><span class="mtk1">&nbsp;</span><span class="mtk33">a1</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.from</span><span class="mtk13">(</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">6</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">8</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">-9</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">5</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk15">highest</span><span class="mtk13">(</span><span class="mtk33">array</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">highestNum</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">for</span><span class="mtk1">&nbsp;</span><span class="mtk33">item</span><span class="mtk1">&nbsp;</span><span class="mtk18">in</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">array</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk16">na</span><span class="mtk13">(</span><span class="mtk33">highestNum</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">or</span><span class="mtk1">&nbsp;</span><span class="mtk33">item</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">highestNum</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">highestNum</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk33">item</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">highestNum</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">highest</span><span class="mtk13">(</span><span class="mtk33">a1</span><span class="mtk13">))</span></span><br></code></div>
<h4 id="function-overloads" class="md-heading"><a href="#function-overloads">Function <span class="fancy-wrap">overloads<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Added function overloads. Several functions in a script can now share
the same name, as long one of the following conditions is true:</p>
<ul>
<li>Each overload has a different number of parameters:</li>
</ul>
<div class="pine-colorizer not-content colorized" data-id="1xz"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Function&nbsp;overload"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Two&nbsp;parameters</span></span><br><span><span class="mtk15">mult</span><span class="mtk13">(</span><span class="mtk33">x1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">x2</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">x1</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">x2</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Three&nbsp;parameters</span></span><br><span><span class="mtk15">mult</span><span class="mtk13">(</span><span class="mtk33">x1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">x2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">x3</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">x1</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">x2</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">x3</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">mult</span><span class="mtk13">(</span><span class="mtk12">7</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">4</span><span class="mtk13">))</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">mult</span><span class="mtk13">(</span><span class="mtk12">7</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">4</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">))</span></span><br></code></div>
<ul>
<li>When overloads have the same number of parameters, all parameters in
each overload must be explicitly typified, and their type
combinations must be unique:</li>
</ul>
<div class="pine-colorizer not-content colorized" data-id="65c"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Function&nbsp;overload"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Accepts&nbsp;both&nbsp;'int'&nbsp;and&nbsp;'float'&nbsp;values&nbsp;-&nbsp;any&nbsp;'in</span><span class="mtk9">t'&nbsp;can&nbsp;be&nbsp;automatically&nbsp;cast&nbsp;to&nbsp;'float'</span></span><br><span><span class="mtk15">mult</span><span class="mtk13">(</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">x1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">x2</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">x1</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">x2</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Returns&nbsp;a&nbsp;'bool'&nbsp;value&nbsp;instead&nbsp;of&nbsp;a&nbsp;number</span></span><br><span><span class="mtk15">mult</span><span class="mtk13">(</span><span class="mtk18 mtkb">bool</span><span class="mtk1">&nbsp;</span><span class="mtk33">x1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">bool</span><span class="mtk1">&nbsp;</span><span class="mtk33">x2</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">x1</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk33">x2</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">false</span></span><br><span><span></span></span><br><span><span class="mtk15">mult</span><span class="mtk13">(</span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">x1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">x2</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">str.tonumber</span><span class="mtk13">(</span><span class="mtk33">x1</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tonumber</span><span class="mtk13">(</span><span class="mtk33">x2</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Has&nbsp;three&nbsp;parameters,&nbsp;so&nbsp;explicit&nbsp;types&nbsp;are&nbsp;not</span><span class="mtk9">&nbsp;required</span></span><br><span><span class="mtk15">mult</span><span class="mtk13">(</span><span class="mtk33">x1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">x2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">x3</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">x1</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">x2</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">x3</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">mult</span><span class="mtk13">(</span><span class="mtk12">7</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">4</span><span class="mtk13">))</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">mult</span><span class="mtk13">(</span><span class="mtk12">7.5</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">4.2</span><span class="mtk13">))</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">mult</span><span class="mtk13">(</span><span class="mtk11">true</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">false</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">mult</span><span class="mtk13">(</span><span class="mtk29">"5"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"6"</span><span class="mtk13">))</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">mult</span><span class="mtk13">(</span><span class="mtk12">7</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">4</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">))</span></span><br></code></div>
<h4 id="currency-conversion" class="md-heading"><a href="#currency-conversion">Currency <span class="fancy-wrap">conversion<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Added a new [currency] argument to most <code dir="auto">request.*()</code>
functions. If specified, price values returned by the function will be
converted from the source currency to the target currency. The following
functions are affected:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.dividends">request.dividends()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.earnings">request.earnings()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial">request.financial()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security">request.security()</a></li>
</ul>
<h3 id="october-2021" class="md-heading"><a href="#october-2021">October <span class="fancy-wrap">2021<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Pine Script v5 is here! This is a list of the <strong>new</strong> features added to
the language, and a few of the <strong>changes</strong> made. See the Pine Script v5
<a href="/pine-script-docs/migration-guides/to-pine-version-5">Migration guide</a> for
a complete list of the <strong>changes</strong> in v5.</p>
<h4 id="new-features" class="md-heading"><a href="#new-features">New <span class="fancy-wrap">features<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Libraries are a new type of publication. They allow you to create custom
functions for reuse in other scripts. See this manual’s page on
<a href="/pine-script-docs/concepts/libraries/">Libraries</a>.</p>
<p>Pine Script now supports
<a href="https://www.tradingview.com/pine-script-reference/v5/#kw_switch">switch</a>
structures! They provide a more convenient and readable alternative to
long ternary operators and
<a href="https://www.tradingview.com/pine-script-reference/v5/#kw_if">if</a>
statements.</p>
<p><a href="https://www.tradingview.com/pine-script-reference/v5/#kw_while">while</a>
loops are here! They allow you to create a loop that will only stop when
its controlling condition is false, or a <code dir="auto">break</code> command is used in the
loop.</p>
<p>New built-in array variables are maintained by the Pine Script runtime
to hold the IDs of all the active objects of the same type drawn by your
script. They are
<a href="https://www.tradingview.com/pine-script-reference/v5/#var_label.all">label.all</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#var_line.all">line.all</a>,
<a href="https://www.tradingview.com/pine-script-reference/v5/#var_box.all">box.all</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#var_table.all">table.all</a>.</p>
<p>The
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_runtime.error">runtime.error()</a>
function makes it possible to halt the execution of a script and display
a runtime error with a custom message. You can use any condition in your
script to trigger the call.</p>
<p>Parameter definitions in user-defined functions can now include a
default value: a function defined as <code dir="auto">f(x = 1) =&gt; x</code> will return 1 when
called as <code dir="auto">f()</code>, i.e., without providing an argument for its <code dir="auto">x</code>
parameter.</p>
<p>New variables and functions provide better script visibility on strategy
information:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.entry_price">strategy.closedtrades.entry_price()</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.opentrades.entry_price">strategy.opentrades.entry_price()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.entry_bar_index">strategy.closedtrades.entry_bar_index()</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.opentrades.entry_bar_index">strategy.opentrades.entry_bar_index()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.entry_time">strategy.closedtrades.entry_time()</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.opentrades.entry_time">strategy.opentrades.entry_time()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.size">strategy.closedtrades.size()</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.opentrades.size">strategy.opentrades.size()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.profit">strategy.closedtrades.profit()</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.opentrades.profit">strategy.opentrades.profit()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.commission">strategy.closedtrades.commission()</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.opentrades.commission">strategy.opentrades.commission()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.max_runup">strategy.closedtrades.max_runup()</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.opentrades.max_runup">strategy.opentrades.max_runup()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.max_drawdown">strategy.closedtrades.max_drawdown()</a>
and
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.opentrades.max_drawdown">strategy.opentrades.max_drawdown()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.exit_price">strategy.closedtrades.exit_price()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.exit_bar_index">strategy.closedtrades.exit_bar_index()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.closedtrades.exit_time">strategy.closedtrades.exit_time()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.convert_to_account">strategy.convert_to_account()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy.convert_to_symbol">strategy.convert_to_symbol()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy.account_currency">strategy.account_currency</a></li>
</ul>
<p>A new
<a href="https://www.tradingview.com/pine-script-reference/v5/#const_earnings.standardized">earnings.standardized</a>
constant for the
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.earnings">request.earnings()</a>
function allows requesting standardized earnings data.</p>
<p>A v4 to v5 converter is now included in the Pine Script Editor. See the
Pine Script v5 <a href="/pine-script-docs/migration-guides/to-pine-version-5">Migration guide</a> for more information on converting your scripts to v5.</p>
<p>The <a href="https://www.tradingview.com/pine-script-reference/v5/">Reference
Manual</a> now
includes the systematic mention of the form and type (e.g., “simple
int”) required for each function parameter.</p>
<p>The User Manual was
reorganized and new content was added.</p>
<h4 id="changes" class="md-heading"><a href="#changes"> <span class="fancy-wrap">Changes<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p>Many built-in variables, functions and function arguments were renamed
or moved to new namespaces in v5. The venerable <code dir="auto">study()</code>, for example,
is now
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator">indicator()</a>,
and <code dir="auto">security()</code> is now
<a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security">request.security()</a>.
New namespaces now group related functions and variables together. This
consolidation implements a more rational nomenclature and provides an
orderly space to accommodate the many additions planned for Pine
Script.</p>
<p>See the Pine Script v5
<a href="/pine-script-docs/migration-guides/to-pine-version-5">Migration guide</a> for
a complete list of the <strong>changes</strong> made in v5.</p>
<h3 id="september-2021" class="md-heading"><a href="#september-2021">September <span class="fancy-wrap">2021<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New parameter has been added for the <code dir="auto">dividends()</code>, <code dir="auto">earnings()</code>,
<code dir="auto">financial()</code>, <code dir="auto">quandl()</code>, <code dir="auto">security()</code>, and <code dir="auto">splits()</code> functions:</p>
<ul>
<li><code dir="auto">ignore_invalid_symbol</code> - determines the behavior of the function if
the specified symbol is not found: if <code dir="auto">false</code>, the script will halt
and return a runtime error; if <code dir="auto">true</code>, the function will return <code dir="auto">na</code>
and execution will continue.</li>
</ul>
<h3 id="july-2021" class="md-heading"><a href="#july-2021">July <span class="fancy-wrap">2021<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><code dir="auto">tostring</code> now accepts “bool” and “string” types.</p>
<p>New argument for <code dir="auto">time</code> and <code dir="auto">time_close</code> functions was added:</p>
<ul>
<li><code dir="auto">timezone</code> - timezone of the <code dir="auto">session</code> argument, can only be used
when a session is specified. Can be written out in GMT notation
(e.g. “GMT-5”) or as an <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" rel="nofollow">IANA time zone database
name</a>
(e.g. “America/New_York”).</li>
</ul>
<p>It is now possible to place a drawing object in the future with
<code dir="auto">xloc = xloc.bar_index</code>.</p>
<p>New argument for <code dir="auto">study</code> and <code dir="auto">strategy</code> functions was added:</p>
<ul>
<li><code dir="auto">explicit_plot_zorder</code> - specifies the order in which the
indicator’s plots, fills, and hlines are rendered. If true, the
plots will be drawn based on the order in which they appear in the
indicator’s code, each newer plot being drawn above the previous
ones.</li>
</ul>
<h3 id="june-2021" class="md-heading"><a href="#june-2021">June <span class="fancy-wrap">2021<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New variable was added:</p>
<ul>
<li><code dir="auto">barstate.islastconfirmedhistory</code> - returns <code dir="auto">true</code> if script is
executing on the dataset’s last bar when market is closed, or
script is executing on the bar immediately preceding the real-time
bar, if market is open. Returns <code dir="auto">false</code> otherwise.</li>
</ul>
<p>New function was added:</p>
<ul>
<li><code dir="auto">round_to_mintick(x)</code> - returns the value rounded to the symbol’s
mintick, i.e. the nearest value that can be divided by
<code dir="auto">syminfo.mintick</code>, without the remainder, with ties rounding up.</li>
</ul>
<p>Expanded <code dir="auto">tostring()</code> functionality. The function now accepts three new
formatting arguments:</p>
<ul>
<li><code dir="auto">format.mintick</code> to format to tick precision.</li>
<li><code dir="auto">format.volume</code> to abbreviate large values.</li>
<li><code dir="auto">format.percent</code> to format percentages.</li>
</ul>
<h3 id="may-2021" class="md-heading"><a href="#may-2021">May <span class="fancy-wrap">2021<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Improved backtesting functionality by adding the Leverage mechanism.</p>
<p>Added support for table drawings and functions for working with them.
Tables are unique objects that are not anchored to specific bars; they
float in a script’s space, independently of the chart bars being viewed
or the zoom factor used. For more information, see the
<a href="/pine-script-docs/visuals/tables/">Tables</a> User Manual page.</p>
<p>New functions were added:</p>
<ul>
<li><code dir="auto">color.rgb(red, green, blue, transp)</code> - creates a new color with
transparency using the RGB color model.</li>
<li><code dir="auto">color.from_gradient(value, bottom_value, top_value, bottom_color, top_color)</code> -
returns color calculated from the linear gradient between
bottom_color to top_color.</li>
<li><code dir="auto">color.r(color)</code>, <code dir="auto">color.g(color)</code>, <code dir="auto">color.b(color)</code>,
<code dir="auto">color.t(color)</code> - retrieves the value of one of the color
components.</li>
<li><code dir="auto">array.from()</code> - takes a variable number of arguments with one of
the types: <code dir="auto">int</code>, <code dir="auto">float</code>, <code dir="auto">bool</code>, <code dir="auto">string</code>, <code dir="auto">label</code>, <code dir="auto">line</code>,
<code dir="auto">color</code>, <code dir="auto">box</code>, <code dir="auto">table</code> and returns an array of the corresponding
type.</li>
</ul>
<p>A new <code dir="auto">box</code> drawing has been added to Pine Script, making it possible
to draw rectangles on charts using the Pine Script syntax. For more
details, see the Pine Script reference entry for <a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.new">box.new()</a>
and the <a href="/pine-script-docs/visuals/lines-and-boxes/">Lines and boxes</a> User Manual page.</p>
<p>The <code dir="auto">color.new</code> function can now accept series and input arguments, in
which case, the colors will be calculated at runtime. For more
information about this, see our <a href="/pine-script-docs/visuals/colors/">Colors</a> User Manual page.</p>
<h3 id="april-2021" class="md-heading"><a href="#april-2021">April <span class="fancy-wrap">2021<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New math constants were added:</p>
<ul>
<li><code dir="auto">math.pi</code> - is a named constant for Archimedes’ constant. It is
equal to 3.1415926535897932.</li>
<li><code dir="auto">math.phi</code> - is a named constant for the golden ratio. It is equal
to 1.6180339887498948.</li>
<li><code dir="auto">math.rphi</code> - is a named constant for the golden ratio conjugate. It
is equal to 0.6180339887498948.</li>
<li><code dir="auto">math.e</code> - is a named constant for Euler’s number. It is equal to
2.7182818284590452.</li>
</ul>
<p>New math functions were added:</p>
<ul>
<li><code dir="auto">round(x, precision)</code> - returns the value of <code dir="auto">x</code> rounded to the
nearest integer, with ties rounding up. If the precision parameter
is used, returns a float value rounded to that number of decimal
places.</li>
<li><code dir="auto">median(source, length)</code> - returns the median of the series.</li>
<li><code dir="auto">mode(source, length)</code> - returns the mode of the series. If there
are several values with the same frequency, it returns the smallest
value.</li>
<li><code dir="auto">range(source, length)</code> - returns the difference between the <code dir="auto">min</code>
and <code dir="auto">max</code> values in a series.</li>
<li><code dir="auto">todegrees(radians)</code> - returns an approximately equivalent angle in
degrees from an angle measured in radians.</li>
<li><code dir="auto">toradians(degrees)</code> - returns an approximately equivalent angle in
radians from an angle measured in degrees.</li>
<li><code dir="auto">random(min, max, seed)</code> - returns a pseudorandom value. The
function will generate a different sequence of values for each
script execution. Using the same value for the optional seed
argument will produce a repeatable sequence.</li>
</ul>
<p>New functions were added:</p>
<ul>
<li><code dir="auto">session.ismarket</code> - returns <code dir="auto">true</code> if the current bar is a part of
the regular trading hours (i.e. market hours), <code dir="auto">false</code> otherwise.</li>
<li><code dir="auto">session.ispremarket</code> - returns <code dir="auto">true</code> if the current bar is a part
of the pre-market, <code dir="auto">false</code> otherwise.</li>
<li><code dir="auto">session.ispostmarket</code> - returns <code dir="auto">true</code> if the current bar is a part
of the post-market, <code dir="auto">false</code> otherwise.</li>
<li><code dir="auto">str.format</code> - converts the values to strings based on the specified
formats. Accepts certain <code dir="auto">number</code> modifiers: <code dir="auto">integer</code>, <code dir="auto">currency</code>,
<code dir="auto">percent</code>.</li>
</ul>
<h3 id="march-2021" class="md-heading"><a href="#march-2021">March <span class="fancy-wrap">2021<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New assignment operators were added:</p>
<ul>
<li><code dir="auto">+=</code> - addition assignment</li>
<li><code dir="auto">-=</code> - subtraction assignment</li>
<li><code dir="auto">*=</code> - multiplication assignment</li>
<li><code dir="auto">/=</code> - division assignment</li>
<li><code dir="auto">%=</code> - modulus assignment</li>
</ul>
<p>New parameters for inputs customization were added:</p>
<ul>
<li><code dir="auto">inline</code> - combines all the input calls with the same inline value
in one line.</li>
<li><code dir="auto">group</code> - creates a header above all inputs that use the same group
string value. The string is also used as the header text.</li>
<li><code dir="auto">tooltip</code> - adds a tooltip icon to the <code dir="auto">Inputs</code> menu. The tooltip
string is shown when hovering over the tooltip icon.</li>
</ul>
<p>New argument for <code dir="auto">fill</code> function was added:</p>
<ul>
<li><code dir="auto">fillgaps</code> - controls whether fills continue on gaps when one of the
<code dir="auto">plot</code> calls returns an <code dir="auto">na</code> value.</li>
</ul>
<p>A new keyword was added:</p>
<ul>
<li><code dir="auto">varip</code> - is similar to the <code dir="auto">var</code> keyword, but variables declared
with <code dir="auto">varip</code> retain their values between the updates of a real-time
bar.</li>
</ul>
<p>New functions were added:</p>
<ul>
<li><code dir="auto">tonumber()</code> - converts a string value into a float.</li>
<li><code dir="auto">time_close()</code> - returns the UNIX timestamp of the close of the
current bar, based on the resolution and session that is passed to
the function.</li>
<li><code dir="auto">dividends()</code> - requests dividends data for the specified symbol.</li>
<li><code dir="auto">earnings()</code> - requests earnings data for the specified symbol.</li>
<li><code dir="auto">splits()</code> - requests splits data for the specified symbol.</li>
</ul>
<p>New arguments for the study() function were added:</p>
<ul>
<li><code dir="auto">resolution_gaps</code> - fills the gaps between values fetched from
higher timeframes when using <code dir="auto">resolution</code>.</li>
<li><code dir="auto">format.percent</code> - formats the script output values as a percentage.</li>
</ul>
<h3 id="february-2021" class="md-heading"><a href="#february-2021">February <span class="fancy-wrap">2021<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New variable was added:</p>
<ul>
<li><code dir="auto">time_tradingday</code> - the beginning time of the trading day the
current bar belongs to.</li>
</ul>
<h3 id="january-2021" class="md-heading"><a href="#january-2021">January <span class="fancy-wrap">2021<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>The following functions now accept a series length parameter:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_bb">bb()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_bbw">bbw()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_cci">cci()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_cmo">cmo()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_cog">cog()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_correlation">correlation()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_dev">dev()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_falling">falling()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_mfi">mfi()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_percentile_linear_interpolation">percentile_linear_interpolation()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_percentile_nearest_rank">percentile_nearest_rank()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_percentrank">percentrank()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_rising">rising()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_roc">roc()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_stdev">stdev()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_stoch">stoch()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_variance">variance()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_wpr">wpr()</a></li>
</ul>
<p>A new type of alerts was added - script alerts. More information can be
found in our <a href="https://www.tradingview.com/support/solutions/43000597494/">Help
Center</a>.</p>
<h2 id="2020" class="md-heading"><a href="#2020"> <span class="fancy-wrap">2020<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<h3 id="december-2020" class="md-heading"><a href="#december-2020">December <span class="fancy-wrap">2020<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New array types were added:</p>
<ul>
<li><code dir="auto">array.new_line()</code></li>
<li><code dir="auto">array.new_label()</code></li>
<li><code dir="auto">array.new_string()</code></li>
</ul>
<p>New functions were added:</p>
<ul>
<li><code dir="auto">str.length()</code> - returns number of chars in source string.</li>
<li><code dir="auto">array.join()</code> - concatenates all of the elements in the array into
a string and separates these elements with the specified separator.</li>
<li><code dir="auto">str.split()</code> - splits a string at a given substring separator.</li>
</ul>
<h3 id="november-2020" class="md-heading"><a href="#november-2020">November <span class="fancy-wrap">2020<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>New <code dir="auto">max_labels_count</code> and <code dir="auto">max_lines_count</code> parameters were added
to the study and strategy functions. Now you can manage the number
of lines and labels by setting values for these parameters from 1 to
500.</li>
</ul>
<p>New function was added:</p>
<ul>
<li><code dir="auto">array.range()</code> - return the difference between the min and max
values in the array.</li>
</ul>
<h3 id="october-2020" class="md-heading"><a href="#october-2020">October <span class="fancy-wrap">2020<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>The behavior of <code dir="auto">rising()</code> and <code dir="auto">falling()</code> functions have changed. For
example, <code dir="auto">rising(close,3)</code> is now calculated as following:</p>
<div class="pine-colorizer not-content colorized" data-id="1ae"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk11">close</span><span class="mtk13">[</span><span class="mtk12">0</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">[</span><span class="mtk12">2</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">[</span><span class="mtk12">2</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">[</span><span class="mtk12">3</span><span class="mtk13">]</span></span><br></code></div>
<h3 id="september-2020" class="md-heading"><a href="#september-2020">September <span class="fancy-wrap">2020<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>Added support for <code dir="auto">input.color</code> to the <code dir="auto">input()</code> function. Now you can
provide script users with color selection through the script’s
“Settings/Inputs” tab with the same color widget used throughout the
TradingView user interface. Learn more about this feature in our
<a href="https://www.tradingview.com/blog/en/create-color-inputs-in-pine-20751/">blog</a></p>
<div class="pine-colorizer not-content colorized" data-id="72o"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">4</span></span><br><span><span class="mtk16">study</span><span class="mtk13">(</span><span class="mtk29">"My&nbsp;Script"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk18">true</span><span class="mtk13">)</span></span><br><span><span class="mtk33">color</span><span class="mtk1">&nbsp;</span><span class="mtk33">c_labelColor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input</span><span class="mtk13">(</span><span class="mtk11">color.green</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Main&nbsp;Color"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">input.color</span><span class="mtk13">)</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk33">l</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">yloc</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">yloc.abovebar</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Colored&nbsp;label"</span><span class="mtk13">)</span></span><br><span><span class="mtk16">label.set_x</span><span class="mtk13">(</span><span class="mtk33">l</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">bar_index</span><span class="mtk13">)</span></span><br><span><span class="mtk16">label.set_color</span><span class="mtk13">(</span><span class="mtk33">l</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">c_labelColor</span><span class="mtk13">)</span></span><br></code></div>
<p><img src="/pine-script-docs/_astro/input_color.BV9qKm_h_2a3e7N.webp" alt="image" width="600" height="423" loading="lazy" decoding="async"></p>
<p>Added support for arrays and functions for working with them. You can
now use the powerful new array feature to build custom datasets. See our
<a href="/pine-script-docs/language/arrays/">User Manual page on
arrays</a>
and our
<a href="https://www.tradingview.com/blog/en/arrays-are-now-available-in-pine-script-20052/">blog</a></p>
<div class="pine-colorizer not-content colorized" data-id="53k"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">4</span></span><br><span><span class="mtk16">study</span><span class="mtk13">(</span><span class="mtk29">"My&nbsp;Script"</span><span class="mtk13">)</span></span><br><span><span class="mtk33">a</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.new_float</span><span class="mtk13">(</span><span class="mtk12">0</span><span class="mtk13">)</span></span><br><span><span class="mtk18">for</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk1">&nbsp;</span><span class="mtk18">to</span><span class="mtk1">&nbsp;</span><span class="mtk12">5</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">array.push</span><span class="mtk13">(</span><span class="mtk33">a</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">[</span><span class="mtk33">i</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk11">open</span><span class="mtk13">[</span><span class="mtk33">i</span><span class="mtk13">])</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk16">array.get</span><span class="mtk13">(</span><span class="mtk33">a</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">4</span><span class="mtk13">))</span></span><br></code></div>
<p>The following functions now accept a series length parameter. Learn more
about this feature in our
<a href="https://www.tradingview.com/blog/en/pine-functions-support-dynamic-length-arguments-20554/">blog</a>:</p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_alma">alma()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_change">change()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_highest">highest()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_highestbars">highestbars()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_linreg">linreg()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_lowest">lowest()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_lowestbars">lowestbars()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_mom">mom()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_sma">sma()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_sum">sum()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_vwma">vwma()</a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v4/#fun_wma">wma()</a></li>
</ul>
<div class="pine-colorizer not-content colorized" data-id="6ic"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">4</span></span><br><span><span class="mtk16">study</span><span class="mtk13">(</span><span class="mtk29">"My&nbsp;Script"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk18">true</span><span class="mtk13">)</span></span><br><span><span class="mtk33">length</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input</span><span class="mtk13">(</span><span class="mtk12">10</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Length"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">input.integer</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">minval</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">maxval</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">100</span><span class="mtk13">)</span></span><br><span><span class="mtk33">avgBar</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">avg</span><span class="mtk13">(</span><span class="mtk16">highestbars</span><span class="mtk13">(</span><span class="mtk33">length</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">lowestbars</span><span class="mtk13">(</span><span class="mtk33">length</span><span class="mtk13">))</span></span><br><span><span class="mtk33">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">dynLen</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">nz</span><span class="mtk13">(</span><span class="mtk16">abs</span><span class="mtk13">(</span><span class="mtk33">avgBar</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk13">)</span></span><br><span><span class="mtk33">dynSma</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">sma</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">int</span><span class="mtk13">(</span><span class="mtk33">dynLen</span><span class="mtk13">))</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">dynSma</span><span class="mtk13">)</span></span><br></code></div>
<h3 id="august-2020" class="md-heading"><a href="#august-2020">August <span class="fancy-wrap">2020<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Optimized script compilation time. Scripts now compile 1.5 to 2
times faster.</li>
</ul>
<h3 id="july-2020" class="md-heading"><a href="#july-2020">July <span class="fancy-wrap">2020<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Minor bug fixes and improvements.</li>
</ul>
<h3 id="june-2020" class="md-heading"><a href="#june-2020">June <span class="fancy-wrap">2020<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>New <code dir="auto">resolution</code> parameter was added to the <code dir="auto">study</code> function. Now
you can add MTF functionality to scripts and decide the timeframe
you want the indicator to run on.</li>
</ul>
<p><img src="/pine-script-docs/_astro/Mtf.CuSZJR6J_1zhU1M.webp" alt="image" width="365" height="399" loading="lazy" decoding="async"></p>
<p>Please note that you need to reapply the indicator in order for the
[resolution] parameter to appear.</p>
<ul>
<li>The <code dir="auto">tooltip</code> argument was added to the <code dir="auto">label.new</code> function along
with the <code dir="auto">label.set_tooltip</code> function:</li>
</ul>
<div class="pine-colorizer not-content colorized" data-id="6gg"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">4</span></span><br><span><span class="mtk16">study</span><span class="mtk13">(</span><span class="mtk29">"My&nbsp;Script"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk18">=true</span><span class="mtk13">)</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk33">l</span><span class="mtk18">=</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">yloc</span><span class="mtk18">=</span><span class="mtk11">yloc.abovebar</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text</span><span class="mtk18">=</span><span class="mtk29">"Label"</span><span class="mtk13">)</span></span><br><span><span class="mtk16">label.set_x</span><span class="mtk13">(</span><span class="mtk33">l</span><span class="mtk18">,</span><span class="mtk11">bar_index</span><span class="mtk13">)</span></span><br><span><span class="mtk16">label.set_tooltip</span><span class="mtk13">(</span><span class="mtk33">l</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Label&nbsp;Tooltip"</span><span class="mtk13">)</span></span><br></code></div>
<p><img src="/pine-script-docs/_astro/Tooltip.6OxddeKb_xxgi6.webp" alt="image" width="551" height="312" loading="lazy" decoding="async"></p>
<ul>
<li>Added an ability to create <a href="https://www.tradingview.com/support/solutions/43000481368">alerts on
strategies</a>.</li>
<li>A new function
<a href="https://www.tradingview.com/pine-script-reference/v4/#fun_line.get_price">line.get_price()</a>
can be used to determine the price level at which the line is
located on a certain bar.</li>
<li>New <a href="/pine-script-docs/concepts/text-and-shapes/#positioning-labels">label
styles</a>
allow you to position the label pointer in any direction.</li>
</ul>
<p><img src="/pine-script-docs/_astro/new_label_styles.CnpdeFiL_1DmAE3.webp" alt="image" width="584" height="316" loading="lazy" decoding="async"></p>
<ul>
<li>Find and Replace was added to Pine Editor. To use this, press CTRL+F
(find) or CTRL+H (find and replace).</li>
</ul>
<p><img src="/pine-script-docs/_astro/FindReplace.COurJNjE_sFMux.webp" alt="image" width="444" height="185" loading="lazy" decoding="async"></p>
<ul>
<li><code dir="auto">timezone</code> argument was added for time functions. Now you can
specify timezone for <code dir="auto">second</code>, <code dir="auto">minute</code>, <code dir="auto">hour</code>, <code dir="auto">year</code>, <code dir="auto">month</code>,
<code dir="auto">dayofmonth</code>, <code dir="auto">dayofweek</code> functions:</li>
</ul>
<div class="pine-colorizer not-content colorized" data-id="wp"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">4</span></span><br><span><span class="mtk16">study</span><span class="mtk13">(</span><span class="mtk29">"My&nbsp;Script"</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk16">hour</span><span class="mtk13">(</span><span class="mtk12">1591012800000</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"GMT+1"</span><span class="mtk13">))</span></span><br></code></div>
<ul>
<li><code dir="auto">syminfo.basecurrency</code> variable was added. Returns the base currency
code of the current symbol. For EURUSD symbol returns EUR.</li>
</ul>
<h3 id="may-2020" class="md-heading"><a href="#may-2020">May <span class="fancy-wrap">2020<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li><code dir="auto">else if</code> statement was added</li>
<li>The behavior of <code dir="auto">security()</code> function has changed: the <code dir="auto">expression</code>
parameter can be series or tuple.</li>
</ul>
<h3 id="april-2020" class="md-heading"><a href="#april-2020">April <span class="fancy-wrap">2020<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New function was added:</p>
<ul>
<li><code dir="auto">quandl()</code> - request quandl data for a symbol</li>
</ul>
<h3 id="march-2020" class="md-heading"><a href="#march-2020">March <span class="fancy-wrap">2020<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New function was added:</p>
<ul>
<li><code dir="auto">financial()</code> - request financial data for a symbol</li>
</ul>
<p>New functions for common indicators were added:</p>
<ul>
<li><code dir="auto">cmo()</code> - Chande Momentum Oscillator</li>
<li><code dir="auto">mfi()</code> - Money Flow Index</li>
<li><code dir="auto">bb()</code> - Bollinger Bands</li>
<li><code dir="auto">bbw()</code> - Bollinger Bands Width</li>
<li><code dir="auto">kc()</code> - Keltner Channels</li>
<li><code dir="auto">kcw()</code> - Keltner Channels Width</li>
<li><code dir="auto">dmi()</code> - DMI/ADX</li>
<li><code dir="auto">wpr()</code> - Williams % R</li>
<li><code dir="auto">hma()</code> - Hull Moving Average</li>
<li><code dir="auto">supertrend()</code> - SuperTrend</li>
</ul>
<p>Added a detailed description of all the fields in the <a href="https://www.tradingview.com/support/folders/43000587044-i-d-like-to-know-more-about-values-in-the-strategy-tester-report/">Strategy Tester
Report</a>.</p>
<h3 id="february-2020" class="md-heading"><a href="#february-2020">February <span class="fancy-wrap">2020<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>New Pine Script indicator VWAP Anchored was added. Now you can
specify the time period: Session, Month, Week, Year.</li>
<li>Fixed a problem with calculating <code dir="auto">percentrank</code> function. Now it can
return a zero value, which did not happen before due to an incorrect
calculation.</li>
<li>The default <code dir="auto">transparency</code> parameter for the <code dir="auto">plot()</code>,
<code dir="auto">plotshape()</code>, and <code dir="auto">plotchar()</code> functions is now 0%.</li>
<li>For the functions <code dir="auto">plot()</code>, <code dir="auto">plotshape()</code>, <code dir="auto">plotchar()</code>,
<code dir="auto">plotbar()</code>, <code dir="auto">plotcandle()</code>, <code dir="auto">plotarrow()</code>, you can set the
<code dir="auto">display</code> parameter, which controls the display of the plot. The
following values can be assigned to it:
<ul>
<li><code dir="auto">display.none</code> - the plot is not displayed</li>
<li><code dir="auto">display.all</code> - the plot is displayed (Default)</li>
</ul>
</li>
<li>The <code dir="auto">textalign</code> argument was added to the <code dir="auto">label.new</code> function along
with the <code dir="auto">label.set_textalign</code> function. Using those, you can
control the alignment of the label’s text:</li>
</ul>
<div class="pine-colorizer not-content colorized" data-id="4d1"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">4</span></span><br><span><span class="mtk16">study</span><span class="mtk13">(</span><span class="mtk29">"My&nbsp;Script"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk18">true</span><span class="mtk13">)</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk33">l</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text</span><span class="mtk18">=</span><span class="mtk29">"Right\n&nbsp;aligned\n&nbsp;text"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">textalign</span><span class="mtk18">=</span><span class="mtk11">text.align_right</span><span class="mtk13">)</span></span><br><span><span class="mtk16">label.set_xy</span><span class="mtk13">(</span><span class="mtk33">l</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk1">..&nbsp;</span><span class="mtk33">image</span><span class="mtk18">::</span><span class="mtk1">&nbsp;</span><span class="mtk33">images</span><span class="mtk18">/</span><span class="mtk33">ReleaseNotes</span><span class="mtk18">-</span><span class="mtk33">Label_text_align</span><span class="mtk1">.</span><span class="mtk33">png</span></span><br></code></div>
<h3 id="january-2020" class="md-heading"><a href="#january-2020">January <span class="fancy-wrap">2020<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New built-in variables were added:</p>
<ul>
<li><code dir="auto">iii</code> - Intraday Intensity Index</li>
<li><code dir="auto">wvad</code> - Williams Variable Accumulation/Distribution</li>
<li><code dir="auto">wad</code> - Williams Accumulation/Distribution</li>
<li><code dir="auto">obv</code> - On Balance Volume</li>
<li><code dir="auto">pvt</code> - Price-Volume Trend</li>
<li><code dir="auto">nvi</code> - Negative Volume Index</li>
<li><code dir="auto">pvi</code> - Positive Volume Index</li>
</ul>
<p>New parameters were added for <code dir="auto">strategy.close()</code>:</p>
<ul>
<li><code dir="auto">qty</code> - the number of contracts/shares/lots/units to exit a trade
with</li>
<li><code dir="auto">qty_percent</code> - defines the percentage of entered
contracts/shares/lots/units to exit a trade with</li>
<li><code dir="auto">comment</code> - addtional notes on the order</li>
</ul>
<p>New parameter was added for <code dir="auto">strategy.close_all</code>:</p>
<ul>
<li><code dir="auto">comment</code> - additional notes on the order</li>
</ul>
<h2 id="2019" class="md-heading"><a href="#2019"> <span class="fancy-wrap">2019<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<h3 id="december-2019" class="md-heading"><a href="#december-2019">December <span class="fancy-wrap">2019<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>
<p>Warning messages were added.</p>
<p>For example, if you don’t specify exit parameters for
<code dir="auto">strategy.exit</code> - <code dir="auto">profit</code>, <code dir="auto">limit</code>, <code dir="auto">loss</code>, <code dir="auto">stop</code> or one of the
following pairs: <code dir="auto">trail_offset</code> and <code dir="auto">trail_price</code> / <code dir="auto">trail_points</code> -
you will see a warning message in the console in the Pine Script
editor.</p>
</li>
<li>
<p>Increased the maximum number of arguments in <code dir="auto">max</code>, <code dir="auto">min</code>, <code dir="auto">avg</code>
functions. Now you can use up to ten arguments in these functions.</p>
</li>
</ul>
<h3 id="october-2019" class="md-heading"><a href="#october-2019">October <span class="fancy-wrap">2019<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li><code dir="auto">plotchar()</code> function now supports most of the Unicode symbols:</li>
</ul>
<div class="pine-colorizer not-content colorized" data-id="5fa"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">4</span></span><br><span><span class="mtk16">study</span><span class="mtk13">(</span><span class="mtk29">"My&nbsp;Script"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk18">=true</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk11">open</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">char</span><span class="mtk18">=</span><span class="mtk29">"🐻"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span></span></span><br><span><span class="mtk1">..&nbsp;</span><span class="mtk33">image</span><span class="mtk18">::</span><span class="mtk1">&nbsp;</span><span class="mtk33">images</span><span class="mtk18">/</span><span class="mtk33">ReleaseNotes</span><span class="mtk18">-</span><span class="mtk33">Bears_in_plotchar</span><span class="mtk1">.</span><span class="mtk33">png</span></span><br></code></div>
<ul>
<li>New <code dir="auto">bordercolor</code> argument of the <code dir="auto">plotcandle()</code> function allows you
to change the color of candles’ borders:</li>
</ul>
<div class="pine-colorizer not-content colorized" data-id="2nx"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">4</span></span><br><span><span class="mtk16">study</span><span class="mtk13">(</span><span class="mtk29">"My&nbsp;Script"</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotcandle</span><span class="mtk13">(</span><span class="mtk11">open</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">title</span><span class="mtk18">=</span><span class="mtk29">'Title'</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">open</span><span class="mtk1">&nbsp;</span><span class="mtk18">&lt;</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.green</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.red</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">wickcolor</span><span class="mtk18">=</span><span class="mtk11">color.black</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">bordercolor</span><span class="mtk18">=</span><span class="mtk11">color.orange</span><span class="mtk13">)</span></span><br></code></div>
<ul>
<li>New variables added:
<ul>
<li><code dir="auto">syminfo.description</code> - returns a description of the current
symbol</li>
<li><code dir="auto">syminfo.currency</code> - returns the currency code of the current
symbol (EUR, USD, etc.)</li>
<li><code dir="auto">syminfo.type</code> - returns the type of the current symbol (stock,
futures, index, etc.)</li>
</ul>
</li>
</ul>
<h3 id="september-2019" class="md-heading"><a href="#september-2019">September <span class="fancy-wrap">2019<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New parameters to the <code dir="auto">strategy</code> function were added:</p>
<ul>
<li><code dir="auto">process_orders_on_close</code> allows the broker emulator to try to
execute orders after calculating the strategy at the bar’s close</li>
<li><code dir="auto">close_entries_rule</code> allows to define the sequence used for closing
positions</li>
</ul>
<p>Some fixes were made:</p>
<ul>
<li><code dir="auto">fill()</code> function now works correctly with <code dir="auto">na</code> as the <code dir="auto">color</code>
parameter value</li>
<li><code dir="auto">sign()</code> function now calculates correctly for literals and
constants</li>
</ul>
<p><code dir="auto">str.replace_all(source, target, replacement)</code> function was added. It
replaces each occurrence of a <code dir="auto">target</code> string in the <code dir="auto">source</code> string
with a <code dir="auto">replacement</code> string</p>
<h3 id="july-august-2019" class="md-heading"><a href="#july-august-2019">July-August <span class="fancy-wrap">2019<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p>New variables added:</p>
<ul>
<li><code dir="auto">timeframe.isseconds</code> returns true when current resolution is in
seconds</li>
<li><code dir="auto">timeframe.isminutes</code> returns true when current resolution is in
minutes</li>
<li><code dir="auto">time_close</code> returns the current bar’s close time</li>
</ul>
<p>The behavior of some functions, variables and operators has changed:</p>
<ul>
<li>
<p>The <code dir="auto">time</code> variable returns the correct open time of the bar for
more special cases than before</p>
</li>
<li>
<p>An optional <em>seconds</em> parameter of the <code dir="auto">timestamp()</code> function allows
you to set the time to within seconds</p>
</li>
<li>
<p><code dir="auto">security()</code> function:</p>
<ul>
<li>
<p>Added the possibility of requesting resolutions in seconds:</p>
<p>1, 5, 15, 30 seconds (chart resolution should be less than or
equal to the requested resolution)</p>
</li>
<li>
<p>Reduced the maximum value that can be requested in some of the
other resolutions:</p>
<p>from 1 to 1440 minutes</p>
<p>from 1 to 365 days</p>
<p>from 1 to 52 weeks</p>
<p>from 1 to 12 months</p>
</li>
</ul>
</li>
<li>
<p>Changes to the evaluation of ternary operator branches:</p>
<p>In Pine Script v3, during the execution of a ternary operator, both
its branches are calculated, so when this script is added to the
chart, a long position is opened, even if the long() function is not
called:</p>
</li>
</ul>
<div class="pine-colorizer not-content colorized" data-id="2ht"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs" target="_blank" rel="noopener"><span>Pine Script®</span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip">Copied</div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">3</span></span><br><span><span class="mtk16">strategy</span><span class="mtk13">(</span><span class="mtk33">title</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"My&nbsp;Strategy"</span><span class="mtk13">)</span></span><br><span><span class="mtk15">long</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">strategy.entry</span><span class="mtk13">(</span><span class="mtk29">"long"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">true</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">when</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">open</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">])</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk12">1</span></span><br><span><span class="mtk33">c</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span></span><br><span><span class="mtk33">c</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk33">true</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk33">long</span><span class="mtk13">()</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">c</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk33">Pine</span><span class="mtk1">&nbsp;</span><span class="mtk33">Script</span><span class="mtk1">&nbsp;</span><span class="mtk33">v4</span><span class="mtk1">&nbsp;</span><span class="mtk33">contains</span><span class="mtk1">&nbsp;</span><span class="mtk33">built</span><span class="mtk18">-</span><span class="mtk33">in</span><span class="mtk1">&nbsp;</span><span class="mtk33">functions</span><span class="mtk1">&nbsp;</span><span class="mtk33">with</span><span class="mtk1">&nbsp;</span><span class="mtk33">side</span><span class="mtk1">&nbsp;</span><span class="mtk33">effects</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk1">&nbsp;``</span><span class="mtk11">line</span><span class="mtk1">.</span><span class="mtk33">new</span><span class="mtk1">``&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;``</span><span class="mtk33">label</span><span class="mtk1">.</span><span class="mtk33">new</span><span class="mtk1">``&nbsp;</span><span class="mtk13">)</span><span class="mtk1">.&nbsp;</span><span class="mtk33">If</span><span class="mtk1">&nbsp;</span><span class="mtk33">calls</span><span class="mtk1">&nbsp;</span><span class="mtk18">to</span><span class="mtk1">&nbsp;</span><span class="mtk33">these</span><span class="mtk1">&nbsp;</span><span class="mtk33">functions</span><span class="mtk1">&nbsp;</span><span class="mtk33">are</span><span class="mtk1">&nbsp;</span><span class="mtk33">present</span><span class="mtk1">&nbsp;</span><span class="mtk33">in</span><span class="mtk1">&nbsp;</span><span class="mtk33">both</span><span class="mtk1">&nbsp;</span><span class="mtk33">branches</span><span class="mtk1">&nbsp;</span><span class="mtk33">of</span><span class="mtk1">&nbsp;</span><span class="mtk33">a</span><span class="mtk1">&nbsp;</span><span class="mtk33">ternary</span><span class="mtk1">&nbsp;</span><span class="mtk33">operator</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">both</span><span class="mtk1">&nbsp;</span><span class="mtk33">function</span><span class="mtk1">&nbsp;</span><span class="mtk33">calls</span><span class="mtk1">&nbsp;</span><span class="mtk33">would</span><span class="mtk1">&nbsp;</span><span class="mtk33">be</span><span class="mtk1">&nbsp;</span><span class="mtk33">executed</span><span class="mtk1">&nbsp;</span><span class="mtk33">following</span><span class="mtk1">&nbsp;</span><span class="mtk33">v3</span><span class="mtk1">&nbsp;</span><span class="mtk33">conventions</span><span class="mtk1">.&nbsp;</span><span class="mtk33">Thus</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">in</span><span class="mtk1">&nbsp;</span><span class="mtk33">Pine</span><span class="mtk1">&nbsp;</span><span class="mtk33">Script</span><span class="mtk1">&nbsp;</span><span class="mtk33">v4</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">only</span><span class="mtk1">&nbsp;</span><span class="mtk33">the</span><span class="mtk1">&nbsp;</span><span class="mtk33">branch</span><span class="mtk1">&nbsp;</span><span class="mtk33">corresponding</span><span class="mtk1">&nbsp;</span><span class="mtk18">to</span><span class="mtk1">&nbsp;</span><span class="mtk33">the</span><span class="mtk1">&nbsp;</span><span class="mtk33">evaluated</span><span class="mtk1">&nbsp;</span><span class="mtk33">condition</span><span class="mtk1">&nbsp;</span><span class="mtk33">is</span><span class="mtk1">&nbsp;</span><span class="mtk33">calculated</span><span class="mtk1">.&nbsp;</span><span class="mtk33">While</span><span class="mtk1">&nbsp;</span><span class="mtk33">this</span><span class="mtk1">&nbsp;</span><span class="mtk33">provides</span><span class="mtk1">&nbsp;</span><span class="mtk33">a</span><span class="mtk1">&nbsp;</span><span class="mtk33">viable</span><span class="mtk1">&nbsp;</span><span class="mtk33">solution</span><span class="mtk1">&nbsp;</span><span class="mtk33">in</span><span class="mtk1">&nbsp;</span><span class="mtk33">some</span><span class="mtk1">&nbsp;</span><span class="mtk33">cases</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">it</span><span class="mtk1">&nbsp;</span><span class="mtk33">will</span><span class="mtk1">&nbsp;</span><span class="mtk33">modify</span><span class="mtk1">&nbsp;</span><span class="mtk33">the</span><span class="mtk1">&nbsp;</span><span class="mtk33">behavior</span><span class="mtk1">&nbsp;</span><span class="mtk33">of</span><span class="mtk1">&nbsp;</span><span class="mtk33">scripts</span><span class="mtk1">&nbsp;</span><span class="mtk33">which</span><span class="mtk1">&nbsp;</span><span class="mtk33">depended</span><span class="mtk1">&nbsp;</span><span class="mtk33">on</span><span class="mtk1">&nbsp;</span><span class="mtk33">the</span><span class="mtk1">&nbsp;</span><span class="mtk33">fact</span><span class="mtk1">&nbsp;</span><span class="mtk33">that</span><span class="mtk1">&nbsp;</span><span class="mtk33">both</span><span class="mtk1">&nbsp;</span><span class="mtk33">branches</span><span class="mtk1">&nbsp;</span><span class="mtk33">of</span><span class="mtk1">&nbsp;</span><span class="mtk33">a</span><span class="mtk1">&nbsp;</span><span class="mtk33">ternary</span><span class="mtk1">&nbsp;</span><span class="mtk33">were</span><span class="mtk1">&nbsp;</span><span class="mtk33">evaluated</span><span class="mtk1">.&nbsp;</span><span class="mtk33">The</span><span class="mtk1">&nbsp;</span><span class="mtk33">solution</span><span class="mtk1">&nbsp;</span><span class="mtk33">is</span><span class="mtk1">&nbsp;</span><span class="mtk18">to</span><span class="mtk1">&nbsp;</span><span class="mtk33">pre</span><span class="mtk18">-</span><span class="mtk33">evaluate</span><span class="mtk1">&nbsp;</span><span class="mtk33">expressions</span><span class="mtk1">&nbsp;</span><span class="mtk33">prior</span><span class="mtk1">&nbsp;</span><span class="mtk18">to</span><span class="mtk1">&nbsp;</span><span class="mtk33">the</span><span class="mtk1">&nbsp;</span><span class="mtk33">ternary</span><span class="mtk1">&nbsp;</span><span class="mtk33">operator</span><span class="mtk1">.&nbsp;</span><span class="mtk33">The</span><span class="mtk1">&nbsp;</span><span class="mtk33">conversion</span><span class="mtk1">&nbsp;</span><span class="mtk33">utility</span><span class="mtk1">&nbsp;</span><span class="mtk33">takes</span><span class="mtk1">&nbsp;</span><span class="mtk33">this</span><span class="mtk1">&nbsp;</span><span class="mtk33">requirement</span><span class="mtk1">&nbsp;</span><span class="mtk33">into</span><span class="mtk1">&nbsp;</span><span class="mtk33">account</span><span class="mtk1">&nbsp;</span><span class="mtk33">when</span><span class="mtk1">&nbsp;</span><span class="mtk33">converting</span><span class="mtk1">&nbsp;</span><span class="mtk33">scripts</span><span class="mtk1">&nbsp;</span><span class="mtk33">from</span><span class="mtk1">&nbsp;</span><span class="mtk33">v3</span><span class="mtk1">&nbsp;</span><span class="mtk18">to</span><span class="mtk1">&nbsp;</span><span class="mtk33">v4</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">so</span><span class="mtk1">&nbsp;</span><span class="mtk33">that</span><span class="mtk1">&nbsp;</span><span class="mtk33">script</span><span class="mtk1">&nbsp;</span><span class="mtk33">behavior</span><span class="mtk1">&nbsp;</span><span class="mtk33">will</span><span class="mtk1">&nbsp;</span><span class="mtk33">be</span><span class="mtk1">&nbsp;</span><span class="mtk33">identical</span><span class="mtk1">&nbsp;</span><span class="mtk33">in</span><span class="mtk1">&nbsp;</span><span class="mtk33">v3</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk33">v4</span><span class="mtk1">.</span></span><br></code></div>
<h3 id="june-2019" class="md-heading"><a href="#june-2019">June <span class="fancy-wrap">2019<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Support for drawing objects. Added <em>label</em> and <em>line</em> drawings</li>
<li><code dir="auto">var</code> keyword for one time variable initialization</li>
<li>Type system improvements:
<ul>
<li><em>series string</em> data type</li>
<li>functions for explicit type casting</li>
<li>syntax for explicit variable type declaration</li>
<li>new <em>input</em> type forms</li>
</ul>
</li>
<li>Renaming of built-ins and a version 3 to 4 converter utility</li>
<li><code dir="auto">max_bars_back</code> function to control series variables internal
history buffer sizes</li>
<li>Pine Script documentation versioning</li>
</ul>
<h2 id="2018" class="md-heading"><a href="#2018"> <span class="fancy-wrap">2018<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<h3 id="october-2018" class="md-heading"><a href="#october-2018">October <span class="fancy-wrap">2018<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>To increase the number of indicators available to the whole
community, Invite-Only scripts can now be published by Premium users
only.</li>
</ul>
<h3 id="april-2018" class="md-heading"><a href="#april-2018">April <span class="fancy-wrap">2018<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Improved the Strategy Tester by reworking the Maximum Drawdown
calculation formula.</li>
</ul>
<h2 id="2017" class="md-heading"><a href="#2017"> <span class="fancy-wrap">2017<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<h3 id="august-2017" class="md-heading"><a href="#august-2017">August <span class="fancy-wrap">2017<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>With the new argument <code dir="auto">show_last</code> in the plot-type functions, you
can restrict the number of bars that the plot is displayed on.</li>
</ul>
<h3 id="june-2017" class="md-heading"><a href="#june-2017">June <span class="fancy-wrap">2017<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>A major script publishing improvement: it is now possible to update
your script without publishing a new one via the Update button in
the publishing dialog.</li>
</ul>
<h3 id="may-2017" class="md-heading"><a href="#may-2017">May <span class="fancy-wrap">2017<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Expanded the type system by adding a new type of constants that can
be calculated during compilation.</li>
</ul>
<h3 id="april-2017" class="md-heading"><a href="#april-2017">April <span class="fancy-wrap">2017<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Expanded the keyword argument functionality: it is now possible to
use keyword arguments in all built-in functions.</li>
<li>A new <code dir="auto">barstate.isconfirmed</code> variable has been added to the list of
variables that return bar status. It lets you create indicators that
are calculated based on the closed bars only.</li>
<li>The <code dir="auto">options</code> argument for the <code dir="auto">input()</code> function creates an input
with a set of options defined by the script’s author.</li>
</ul>
<h3 id="march-2017" class="md-heading"><a href="#march-2017">March <span class="fancy-wrap">2017<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Pine Script v3 is here! Some important changes:
<ul>
<li>Changes to the default behavior of the <code dir="auto">security()</code> function: it
can no longer access the future data by default. This can be
changes with the <code dir="auto">lookahead</code> parameter.</li>
<li>An implicit conversion of boolean values to numeric values was
replaced with an implicit conversion of numeric values (integer
and float) to boolean values.</li>
<li>Self-referenced and forward-referenced variables were removed.
Any PineScript code that used those language constructions can
be equivalently rewritten using mutable variables.</li>
</ul>
</li>
</ul>
<h3 id="february-2017" class="md-heading"><a href="#february-2017">February <span class="fancy-wrap">2017<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Several improvements to the strategy tester and the strategy report:
<ul>
<li>New Buy &amp; Hold equity graph — a new graph that lets you compare
performance of your strategy versus a “buy and hold”, i.e if
you just bought a security and held onto it without trading.</li>
<li>Added percentage values to the absolute currency values.</li>
<li>Added Buy &amp; Hold Return to display the final value of Buy &amp; Hold
Equity based on last price.</li>
<li>Added Sharpe Ratio — it shows the relative effectiveness of the
investment portfolio (security), a measure that indicates the
average return minus the risk-free return divided by the
standard deviation of return on an investment.</li>
<li>Slippage lets you simulate a situation when orders are filled at
a worse price than expected. It can be set through the
Properties dialog or through the slippage argument in the
<code dir="auto">strategy()</code> function.</li>
<li>Commission allows yot to add commission for placed orders in
percent of order value, fixed price or per contract. The amount
of commission paid is shown in the Commission Paid field. The
commission size and its type can be set through the Properties
dialog or through the commission_type and commission_value
arguments in the <code dir="auto">strategy()</code> function.</li>
</ul>
</li>
</ul>
<h2 id="2016" class="md-heading"><a href="#2016"> <span class="fancy-wrap">2016<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<h3 id="december-2016" class="md-heading"><a href="#december-2016">December <span class="fancy-wrap">2016<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Added invite-only scripts. The invite-only indicators are visible in
the Community Scripts, but nobody can use them without explicit
permission from the author, and only the author can see the source
code.</li>
</ul>
<h3 id="october-2016" class="md-heading"><a href="#october-2016">October <span class="fancy-wrap">2016<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Introduded indicator revisions. Each time an indicator is saved, it
gets a new revision, and it is possible to easily switch to any past
revision from the Pine Editor.</li>
</ul>
<h3 id="september-2016" class="md-heading"><a href="#september-2016">September <span class="fancy-wrap">2016<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>It is now possible to publish indicators with protected source code.
These indicators are available in the public Script Library, and any
user can use them, but only the author can see the source code.</li>
</ul>
<h3 id="july-2016" class="md-heading"><a href="#july-2016">July <span class="fancy-wrap">2016<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Improved the behavior of the <code dir="auto">fill()</code> function: one call can now
support several different colors.</li>
</ul>
<h3 id="march-2016" class="md-heading"><a href="#march-2016">March <span class="fancy-wrap">2016<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Color type variables now have an additional parameter to set default
transparency. The transparency can be set with the <code dir="auto">color.new()</code>
function, or by adding an alpha-channel value to a hex color code.</li>
</ul>
<h3 id="february-2016" class="md-heading"><a href="#february-2016">February <span class="fancy-wrap">2016<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Added <code dir="auto">for</code> loops and keywords <code dir="auto">break</code> and <code dir="auto">continue</code>.</li>
<li>Pine Script now supports mutable variables! Use the <code dir="auto">:=</code> operator
to assign a new value to a variable that has already been defined.</li>
<li>Multiple improvements and bug fixes for strategies.</li>
</ul>
<h3 id="january-2016" class="md-heading"><a href="#january-2016">January <span class="fancy-wrap">2016<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>A new <code dir="auto">alertcondition()</code> function allows for creating custom alert
conditions in Pine Script-based indicators.</li>
</ul>
<h2 id="2015" class="md-heading"><a href="#2015"> <span class="fancy-wrap">2015<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<h3 id="october-2015" class="md-heading"><a href="#october-2015">October <span class="fancy-wrap">2015<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Pine has graduated to v2! The new version of Pine Script added
support for <code dir="auto">if</code> statements, making it easier to write more readable
and concise code.</li>
</ul>
<h3 id="september-2015" class="md-heading"><a href="#september-2015">September <span class="fancy-wrap">2015<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Added backtesting functionality to Pine Script. It is now possible
to create trading strategies, i.e. scripts that can send, modify and
cancel orders to buy or sell. Strategies allow you to perform
backtesting (emulation of strategy trading on historical data) and
forward testing (emulation of strategy trading on real-time data)
according to your algorithms. Detailed information about the
strategy’s calculations and the order fills can be seen in the
newly added Strategy Tester tab.</li>
</ul>
<h3 id="july-2015" class="md-heading"><a href="#july-2015">July <span class="fancy-wrap">2015<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>A new <code dir="auto">editable</code> parameter allows hiding the plot from the Style
menu in the indicator settings so that it is not possible to edit
its style. The parameter has been added to all the following
functions: all plot-type functions, <code dir="auto">barcolor()</code>, <code dir="auto">bgcolor()</code>,
<code dir="auto">hline()</code>, and <code dir="auto">fill()</code>.</li>
</ul>
<h3 id="june-2015" class="md-heading"><a href="#june-2015">June <span class="fancy-wrap">2015<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Added two new functions to display custom barsets using PineScipt:
<code dir="auto">plotbar()</code> and <code dir="auto">plotcandle()</code>.</li>
</ul>
<h3 id="april-2015" class="md-heading"><a href="#april-2015">April <span class="fancy-wrap">2015<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Added two new shapes to the <code dir="auto">plotshape()</code> function: shape.labelup
and shape.labeldown.</li>
<li>PineScipt Editor has been improved and moved to a new panel at the
bottom of the page.</li>
<li>Added a new <code dir="auto">step</code> argument for the <code dir="auto">input()</code> function, allowing to
specify the step size for the indicator’s inputs.</li>
</ul>
<h3 id="march-2015" class="md-heading"><a href="#march-2015">March <span class="fancy-wrap">2015<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Added support for inputs with the <code dir="auto">source</code> type to the <code dir="auto">input()</code>
function, allowing to select the data source for the indicator’s
calculations from its settings.</li>
</ul>
<h3 id="february-2015" class="md-heading"><a href="#february-2015">February <span class="fancy-wrap">2015<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Added a new <code dir="auto">text</code> argument to <code dir="auto">plotshape()</code> and <code dir="auto">plotchar()</code>
functions.</li>
<li>Added four new shapes to the <code dir="auto">plotshape()</code> function: shape.arrowup,
shape.arrowdown, shape.square, shape.diamond.</li>
</ul>
<h2 id="2014" class="md-heading"><a href="#2014"> <span class="fancy-wrap">2014<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<h3 id="august-2014" class="md-heading"><a href="#august-2014">August <span class="fancy-wrap">2014<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Improved the script sharing capabilities, changed the layout of the
Indicators menu and separated published scripts from ideas.</li>
</ul>
<h3 id="july-2014" class="md-heading"><a href="#july-2014">July <span class="fancy-wrap">2014<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Added three new plotting functions, <code dir="auto">plotshape()</code>, <code dir="auto">plotchar()</code>, and
<code dir="auto">plotarrow()</code> for situations when you need to highlight specific
bars on a chart without drawing a line.</li>
<li>Integrated QUANDL data into Pine Script. The data can be accessed
by passing the QUANDL ticker to the <code dir="auto">security</code> function.</li>
</ul>
<h3 id="june-2014" class="md-heading"><a href="#june-2014">June <span class="fancy-wrap">2014<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Added Pine Script sharing, enabling programmers and traders to
share their scripts with the rest of the TradingView community.</li>
</ul>
<h3 id="april-2014" class="md-heading"><a href="#april-2014">April <span class="fancy-wrap">2014<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Added line wrapping.</li>
</ul>
<h3 id="february-2014" class="md-heading"><a href="#february-2014">February <span class="fancy-wrap">2014<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<ul>
<li>Added support for inputs, allowing users to edit the indicator
inputs through the properties window, without needing to edit the
Pine script.</li>
<li>Added self-referencing variables.</li>
<li>Added support for multiline functions.</li>
<li>Implemented the type-casting mechanism, automatically casting
constant and simple float and int values to series when it is
required.</li>
<li>Added several new functions and improved the existing ones:
<ul>
<li><code dir="auto">barssince()</code> and <code dir="auto">valuewhen()</code> allow you to check conditions on
historical data easier.</li>
<li>The new <code dir="auto">barcolor()</code> function lets you specify a color for a bar
based on filling of a certain condition.</li>
<li>Similar to the <code dir="auto">barcolor()</code> function, the <code dir="auto">bgcolor()</code> function
changes the color of the background.</li>
<li>Reworked the <code dir="auto">security()</code> function, further expanding its
functionality.</li>
<li>Improved the <code dir="auto">fill()</code> function, enabling it to be used more than
once in one script.</li>
<li>Added the <code dir="auto">round()</code> function to round and convert float values
to integers.</li>
</ul>
</li>
</ul>
<h2 id="2013" class="md-heading"><a href="#2013"> <span class="fancy-wrap">2013<span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<ul>
<li>The first version of Pine Script is introduced to all TradingView
users, initially as an open beta, on December 13th.</li>
</ul>      </div> <div class="pagination-buttons not-content" data-astro-cid-xgirumru=""> <a href="/pine-script-docs/error-messages" class="pagination-card" data-pagefind-ignore="" data-astro-cid-assl6cvf=""> <p data-astro-cid-assl6cvf="">Previous</p> <h4 class="pagination-card-header" data-astro-cid-assl6cvf=""> <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-assl6cvf="" data-icon="theme/arrow-back">  <use xlink:href="#ai:local:theme/arrow-back"></use>  </svg> Error messages  </h4> </a>  <a href="/pine-script-docs/migration-guides/to-pine-version-5" class="pagination-card" data-pagefind-ignore="" data-astro-cid-assl6cvf=""> <p data-astro-cid-assl6cvf="">Next</p> <h4 class="pagination-card-header" data-astro-cid-assl6cvf="">  To Pine Script® version 5 <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-assl6cvf="" data-icon="theme/arrow">  <symbol id="ai:local:theme/arrow"><path fill="none" stroke="var(--arrow-fill-color, #131722)" d="m11 8 6 6-6 6"></path></symbol><use xlink:href="#ai:local:theme/arrow"></use>  </svg> </h4> </a>  </div>  </main>   <div id="toc" data-pagefind-ignore="all" data-astro-cid-oor6cujd=""><aside class="document-toc-container ml-4 w-48" data-astro-cid-oor6cujd=""><section id="toc-scroll-section" class="slick-scroll" data-astro-cid-oor6cujd=""><header data-astro-cid-oor6cujd=""><h2 class="toc-header" data-astro-cid-oor6cujd="">On this page</h2></header><ul class="" id="toc-entries" data-astro-cid-oor6cujd=""><a href="#release-notes" aria-current="true" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-current="" data-astro-cid-oor6cujd="">Overview</li></a><a href="#2025" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">2025</li></a><a href="#december-2025" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">December 2025</li></a><a href="#updated-line-wrapping" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Updated line wrapping</li></a><a href="#november-2025" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">November 2025</li></a><a href="#october-2025" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">October 2025</li></a><a href="#september-2025" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">September 2025</li></a><a href="#august-2025" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">August 2025</li></a><a href="#pine-editor-changes" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Pine Editor changes</li></a><a href="#july-2025" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">July 2025</li></a><a href="#june-2025" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">June 2025</li></a><a href="#may-2025" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">May 2025</li></a><a href="#april-2025" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">April 2025</li></a><a href="#march-2025" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">March 2025</li></a><a href="#for-loop-updates" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">For loop updates</li></a><a href="#february-2025" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">February 2025</li></a><a href="#2024" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">2024</li></a><a href="#december-2024" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">December 2024</li></a><a href="#november-2024" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">November 2024</li></a><a href="#introducing-pine-script-v6" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Introducing Pine Script v6</li></a><a href="#october-2024" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">October 2024</li></a><a href="#august-2024" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">August 2024</li></a><a href="#june-2024" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">June 2024</li></a><a href="#pine-script-enums" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Pine Script Enums</li></a><a href="#may-2024" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">May 2024</li></a><a href="#pine-profiler" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Pine Profiler</li></a><a href="#pine-editor-improvements" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Pine Editor improvements</li></a><a href="#april-2024" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">April 2024</li></a><a href="#march-2024" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">March 2024</li></a><a href="#february-2024" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">February 2024</li></a><a href="#january-2024" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">January 2024</li></a><a href="#2023" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">2023</li></a><a href="#december-2023" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">December 2023</li></a><a href="#november-2023" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">November 2023</li></a><a href="#october-2023" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">October 2023</li></a><a href="#pine-script-polylines" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Pine Script Polylines</li></a><a href="#september-2023" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">September 2023</li></a><a href="#august-2023" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">August 2023</li></a><a href="#pine-script-maps" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Pine Script Maps</li></a><a href="#july-2023" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">July 2023</li></a><a href="#june-2023" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">June 2023</li></a><a href="#may-2023" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">May 2023</li></a><a href="#april-2023" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">April 2023</li></a><a href="#march-2023" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">March 2023</li></a><a href="#february-2023" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">February 2023</li></a><a href="#pine-script-methods" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Pine Script Methods</li></a><a href="#january-2023" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">January 2023</li></a><a href="#2022" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">2022</li></a><a href="#december-2022" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">December 2022</li></a><a href="#pine-objects" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Pine Objects</li></a><a href="#november-2022" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">November 2022</li></a><a href="#october-2022" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">October 2022</li></a><a href="#september-2022" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">September 2022</li></a><a href="#august-2022" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">August 2022</li></a><a href="#july-2022" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">July 2022</li></a><a href="#june-2022" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">June 2022</li></a><a href="#may-2022" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">May 2022</li></a><a href="#april-2022" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">April 2022</li></a><a href="#march-2022" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">March 2022</li></a><a href="#table-merging-and-cell-tooltips" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Table merging and cell tooltips</li></a><a href="#february-2022" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">February 2022</li></a><a href="#january-2022" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">January 2022</li></a><a href="#2021" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">2021</li></a><a href="#december-2021" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">December 2021</li></a><a href="#linefills" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Linefills</li></a><a href="#new-functions-for-string-manipulation" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">New functions for string manipulation</li></a><a href="#textboxes" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Textboxes</li></a><a href="#new-built-in-variables" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">New built-in variables</li></a><a href="#november-2021" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">November 2021</li></a><a href="#forin" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">for…in</li></a><a href="#function-overloads" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Function overloads</li></a><a href="#currency-conversion" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Currency conversion</li></a><a href="#october-2021" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">October 2021</li></a><a href="#new-features" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">New features</li></a><a href="#changes" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd="">Changes</li></a><a href="#september-2021" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">September 2021</li></a><a href="#july-2021" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">July 2021</li></a><a href="#june-2021" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">June 2021</li></a><a href="#may-2021" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">May 2021</li></a><a href="#april-2021" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">April 2021</li></a><a href="#march-2021" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">March 2021</li></a><a href="#february-2021" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">February 2021</li></a><a href="#january-2021" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">January 2021</li></a><a href="#2020" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">2020</li></a><a href="#december-2020" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">December 2020</li></a><a href="#november-2020" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">November 2020</li></a><a href="#october-2020" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">October 2020</li></a><a href="#september-2020" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">September 2020</li></a><a href="#august-2020" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">August 2020</li></a><a href="#july-2020" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">July 2020</li></a><a href="#june-2020" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">June 2020</li></a><a href="#may-2020" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">May 2020</li></a><a href="#april-2020" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">April 2020</li></a><a href="#march-2020" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">March 2020</li></a><a href="#february-2020" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">February 2020</li></a><a href="#january-2020" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">January 2020</li></a><a href="#2019" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">2019</li></a><a href="#december-2019" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">December 2019</li></a><a href="#october-2019" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">October 2019</li></a><a href="#september-2019" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">September 2019</li></a><a href="#july-august-2019" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">July-August 2019</li></a><a href="#june-2019" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">June 2019</li></a><a href="#2018" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">2018</li></a><a href="#october-2018" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">October 2018</li></a><a href="#april-2018" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">April 2018</li></a><a href="#2017" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">2017</li></a><a href="#august-2017" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">August 2017</li></a><a href="#june-2017" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">June 2017</li></a><a href="#may-2017" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">May 2017</li></a><a href="#april-2017" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">April 2017</li></a><a href="#march-2017" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">March 2017</li></a><a href="#february-2017" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">February 2017</li></a><a href="#2016" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">2016</li></a><a href="#december-2016" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">December 2016</li></a><a href="#october-2016" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">October 2016</li></a><a href="#september-2016" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">September 2016</li></a><a href="#july-2016" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">July 2016</li></a><a href="#march-2016" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">March 2016</li></a><a href="#february-2016" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">February 2016</li></a><a href="#january-2016" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">January 2016</li></a><a href="#2015" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">2015</li></a><a href="#october-2015" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">October 2015</li></a><a href="#september-2015" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">September 2015</li></a><a href="#july-2015" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">July 2015</li></a><a href="#june-2015" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">June 2015</li></a><a href="#april-2015" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">April 2015</li></a><a href="#march-2015" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">March 2015</li></a><a href="#february-2015" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">February 2015</li></a><a href="#2014" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">2014</li></a><a href="#august-2014" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">August 2014</li></a><a href="#july-2014" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">July 2014</li></a><a href="#june-2014" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">June 2014</li></a><a href="#april-2014" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">April 2014</li></a><a href="#february-2014" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd="">February 2014</li></a><a href="#2013" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-astro-cid-oor6cujd="">2013</li></a></ul></section><div class="toc-bottom-fade" data-astro-cid-oor6cujd=""></div><div class="back-top-space" data-astro-cid-oor6cujd=""><div class="not-content" style="" data-astro-cid-pkzv2hgs=""> <a id="back-top-button" title="Back to top" href="#top" data-astro-cid-pkzv2hgs="" class="floating-button not-content stvb-base stvb-pointer stvb-gray stvb-medium stvb-secondary stvb-icon stvb-icon-force-color stvb-force-no-border"> <svg width="18" height="18" viewBox="0 0 18 18" data-astro-cid-oor6cujd="" data-icon="theme/arrow-up">  <symbol id="ai:local:theme/arrow-up"><g fill="none"><g clip-path="url(#a)"><path fill="currentColor" fill-rule="evenodd" d="m9 3.5.5.44 4 3.5-1 1.12-2.75-2.4V14h-1.5V6.15L5.49 8.56l-.98-1.12 4-3.5z" clip-rule="evenodd"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h18v18H0z"></path></clipPath></defs></g></symbol><use xlink:href="#ai:local:theme/arrow-up"></use>  </svg> </a> </div> </div></aside></div> </main> </div>   <footer data-astro-cid-b6pf7ola=""> <div class="footer-content" data-astro-cid-b6pf7ola="">  <ul data-astro-cid-b6pf7ola=""> <li data-astro-cid-b6pf7ola=""> <a href="https://www.tradingview.com/chat/#BfmVowG1TZkKO235" data-astro-cid-b6pf7ola="">Pine Q&amp;A chat</a>  </li><li data-astro-cid-b6pf7ola=""> <a href="https://stackoverflow.com/questions/tagged/pine-script" data-astro-cid-b6pf7ola="">Stack Overflow</a>  ↗ </li><li data-astro-cid-b6pf7ola=""> <a href="https://t.me/PineCodersQA" data-astro-cid-b6pf7ola="">Telegram</a>  ↗ </li><li data-astro-cid-b6pf7ola=""> <a href="https://www.reddit.com/r/TradingView/" data-astro-cid-b6pf7ola="">Reddit</a>  ↗ </li> </ul> <div class="flex" data-astro-cid-b6pf7ola=""></div> <div class="copyright" data-astro-cid-b6pf7ola="">Copyright © 2025 TradingView, Inc.</div> </div> </footer>         </body></html>